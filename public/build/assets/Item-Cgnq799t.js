import{s as ja,f as Mo,u as di,t as jv,d as Uo,j as u,T as Tv,B as ko,L as Ta,O as ma,e as Ma,i as Mv,h as dt,b as M,R as Uv,v as kv,w as Lv,x as zv,g as Wv,z as Nv,r as Ir,W as Sn,n as ve,M as Un,P as Bv,c as oi,a as Oo,y as Pv,Y as $v}from"./app-o_n_Q1_4.js";import{Y as Gv}from"./index-D6ebzEKS.js";import{u as Hv,G as be,A as Te,M as cr,d as qv,D as Kv,c as Ua}from"./NotificationMenu-D2gMmxnP.js";import{u as Re,a as dr,b as Tn,T as Cn,A as Yv}from"./Authenticated-Cec13kwc.js";import{I as Zv}from"./ItemBreadcrumbs-BRG66SY9.js";import{u as Xv}from"./Popover-CjVYgpjS.js";import{c as kn}from"./IconUser-BqmWWyqY.js";import{u as ka,R as Yr,a as Jv,I as Qv,b as Vv}from"./use-fetch-users-C9pMgBkp.js";import{T as ge,F as jn}from"./OfficeLogo-Cx0EXCVw.js";import{S as Mn}from"./Stack-CedQLgvk.js";import{T as Lo}from"./Textarea-AYMrpB1M.js";import{S as Fr}from"./Select-BW0R6EY3.js";import{B as ie}from"./Button-QcSAzscX.js";import{S as em,N as nm,U as rm}from"./UpdateNumberingSchemeForm-Dx3gNBKZ.js";import{T as si}from"./TextInput-Yso5tBj3.js";import{I as tm,a as im,u as om}from"./use-fetch-existing-metadata-column-BX7kFRsj.js";import{u as sm,I as lm}from"./use-show-items-for-moving-hqSPb_fk.js";import{u as am}from"./use-document-properties-DeoaRjZP.js";import{u as um}from"./use-fetch-metadata-D8elXZqZ.js";import{A as cm,I as fm}from"./IconAlertCircle-MpziT5DX.js";import"./Checkbox-BRedaS4F.js";import"./InputBase-CTp7OGFz.js";import"./use-uncontrolled-CloXekY7.js";import"./CheckIcon-z59qNQSx.js";import"./get-sorted-breakpoints-6caYqVKE.js";import"./Anchor-o9Y3yiSS.js";import"./Combobox-D5pGux-b.js";import"./clamp-DTmYCdls.js";function _a(l){return typeof l!="string"?"":l.charAt(0).toUpperCase()+l.slice(1)}var La={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const xa={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:ja("overlay")},dm=Ma((l,{zIndex:c})=>({root:{"--lo-z-index":c==null?void 0:c.toString()}})),zo=Mo((l,c)=>{const i=di("LoadingOverlay",xa,l),{classNames:g,className:_,style:C,styles:x,unstyled:w,vars:A,transitionProps:F,loaderProps:G,overlayProps:z,visible:$,zIndex:q,...H}=i,I=jv(),U=Uo({name:"LoadingOverlay",classes:La,props:i,className:_,style:C,classNames:g,styles:x,unstyled:w,vars:A,varsResolver:dm}),L={...xa.overlayProps,...z};return u.jsx(Tv,{transition:"fade",...F,mounted:!!$,children:j=>u.jsxs(ko,{...U("root",{style:j}),ref:c,...H,children:[u.jsx(Ta,{...U("loader"),unstyled:w,...G}),u.jsx(ma,{...L,...U("overlay"),darkHidden:!0,unstyled:w,color:(z==null?void 0:z.color)||I.white}),u.jsx(ma,{...L,...U("overlay"),lightHidden:!0,unstyled:w,color:(z==null?void 0:z.color)||I.colors.dark[5]})]})})});zo.classes=La;zo.displayName="@mantine/core/LoadingOverlay";var za={exports:{}},pm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hm=pm,gm=hm;function Wa(){}function Na(){}Na.resetWarningCache=Wa;var vm=function(){function l(g,_,C,x,w,A){if(A!==gm){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}l.isRequired=l;function c(){return l}var i={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:c,element:l,elementType:l,instanceOf:c,node:l,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:Na,resetWarningCache:Wa};return i.PropTypes=i,i};za.exports=vm();var mm=za.exports;const ce=Mv(mm);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _m=kn("outline","adjustments","IconAdjustments",[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wa=kn("outline","article","IconArticle",[["path",{d:"M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 8h10",key:"svg-1"}],["path",{d:"M7 12h10",key:"svg-2"}],["path",{d:"M7 16h10",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xm=kn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wm=kn("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ym=kn("outline","file-isr","IconFileIsr",[["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-1"}],["path",{d:"M6 8v-3a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7",key:"svg-2"}],["path",{d:"M3 15l3 -3l3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bm=kn("outline","file-report","IconFileReport",[["path",{d:"M17 17m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M17 13v4h4",key:"svg-1"}],["path",{d:"M12 3v4a1 1 0 0 0 1 1h4",key:"svg-2"}],["path",{d:"M11.5 21h-6.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v2m0 3v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cm=kn("outline","folder-plus","IconFolderPlus",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sm=kn("outline","folder-symlink","IconFolderSymlink",[["path",{d:"M3 21v-4a3 3 0 0 1 3 -3h5",key:"svg-0"}],["path",{d:"M8 17l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 11v-5a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Am=kn("outline","list-tree","IconListTree",[["path",{d:"M9 6h11",key:"svg-0"}],["path",{d:"M12 12h8",key:"svg-1"}],["path",{d:"M15 18h5",key:"svg-2"}],["path",{d:"M5 6v.01",key:"svg-3"}],["path",{d:"M8 12v.01",key:"svg-4"}],["path",{d:"M11 18v.01",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dm=kn("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);function Em(l){return fetch(l,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(c=>c.json())}function Im(){return{downloadFiles:({all:c,ids:i,parentId:g})=>{if(!c&&(i==null?void 0:i.length)===0)return;const _=new URLSearchParams;g&&_.append("parent_id",String(g)),c?_.append("all",c?"1":"0"):i==null||i.forEach(x=>_.append("ids[]",x));const C=route("item.download");Em(`${C}?${_.toString()}`).then(x=>{if(!x.url)return;const w=document.createElement("a");w.download=x.filename,w.href=x.url,w.click()})}}}var li={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */li.exports;(function(l,c){(function(){var i,g="4.17.21",_=200,C="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",x="Expected a function",w="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",F=500,G="__lodash_placeholder__",z=1,$=2,q=4,H=1,I=2,U=1,L=2,j=4,R=8,K=16,k=32,ee=64,W=128,se=256,fe=512,Ce=30,An="...",Dn=800,Ae=16,Me=1,Rr=2,Ue=3,pn=1/0,Ge=9007199254740991,Jn=17976931348623157e292,Qn=NaN,Oe=4294967295,Or=Oe-1,hn=Oe>>>1,jr=[["ary",W],["bind",U],["bindKey",L],["curry",R],["curryRight",K],["flip",fe],["partial",k],["partialRight",ee],["rearg",se]],gn="[object Arguments]",Ln="[object Array]",zn="[object AsyncFunction]",tn="[object Boolean]",He="[object Date]",Vn="[object DOMException]",vn="[object Error]",Wn="[object Function]",er="[object GeneratorFunction]",Se="[object Map]",mn="[object Number]",Tr="[object Null]",qe="[object Object]",gt="[object Promise]",pi="[object Proxy]",hr="[object RegExp]",D="[object Set]",X="[object String]",pe="[object Symbol]",De="[object Undefined]",Ee="[object WeakMap]",gr="[object WeakSet]",_n="[object ArrayBuffer]",En="[object DataView]",vr="[object Float32Array]",Nn="[object Float64Array]",Bn="[object Int8Array]",mr="[object Int16Array]",Xr="[object Int32Array]",hi="[object Uint8Array]",gi="[object Uint8ClampedArray]",vi="[object Uint16Array]",mi="[object Uint32Array]",Qa=/\b__p \+= '';/g,Va=/\b(__p \+=) '' \+/g,eu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Po=/&(?:amp|lt|gt|quot|#39);/g,$o=/[&<>"']/g,nu=RegExp(Po.source),ru=RegExp($o.source),tu=/<%-([\s\S]+?)%>/g,iu=/<%([\s\S]+?)%>/g,Go=/<%=([\s\S]+?)%>/g,ou=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,su=/^\w*$/,lu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_i=/[\\^$.*+?()[\]{}|]/g,au=RegExp(_i.source),xi=/^\s+/,uu=/\s/,cu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fu=/\{\n\/\* \[wrapped with (.+)\] \*/,du=/,? & /,pu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hu=/[()=,{}\[\]\/\s]/,gu=/\\(\\)?/g,vu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ho=/\w*$/,mu=/^[-+]0x[0-9a-f]+$/i,_u=/^0b[01]+$/i,xu=/^\[object .+?Constructor\]$/,wu=/^0o[0-7]+$/i,yu=/^(?:0|[1-9]\d*)$/,bu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,Cu=/['\n\r\u2028\u2029\\]/g,mt="\\ud800-\\udfff",Su="\\u0300-\\u036f",Au="\\ufe20-\\ufe2f",Du="\\u20d0-\\u20ff",qo=Su+Au+Du,Ko="\\u2700-\\u27bf",Yo="a-z\\xdf-\\xf6\\xf8-\\xff",Eu="\\xac\\xb1\\xd7\\xf7",Iu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fu="\\u2000-\\u206f",Ru=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zo="A-Z\\xc0-\\xd6\\xd8-\\xde",Xo="\\ufe0e\\ufe0f",Jo=Eu+Iu+Fu+Ru,wi="['’]",Ou="["+mt+"]",Qo="["+Jo+"]",_t="["+qo+"]",Vo="\\d+",ju="["+Ko+"]",es="["+Yo+"]",ns="[^"+mt+Jo+Vo+Ko+Yo+Zo+"]",yi="\\ud83c[\\udffb-\\udfff]",Tu="(?:"+_t+"|"+yi+")",rs="[^"+mt+"]",bi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ci="[\\ud800-\\udbff][\\udc00-\\udfff]",Mr="["+Zo+"]",ts="\\u200d",is="(?:"+es+"|"+ns+")",Mu="(?:"+Mr+"|"+ns+")",os="(?:"+wi+"(?:d|ll|m|re|s|t|ve))?",ss="(?:"+wi+"(?:D|LL|M|RE|S|T|VE))?",ls=Tu+"?",as="["+Xo+"]?",Uu="(?:"+ts+"(?:"+[rs,bi,Ci].join("|")+")"+as+ls+")*",ku="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Lu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",us=as+ls+Uu,zu="(?:"+[ju,bi,Ci].join("|")+")"+us,Wu="(?:"+[rs+_t+"?",_t,bi,Ci,Ou].join("|")+")",Nu=RegExp(wi,"g"),Bu=RegExp(_t,"g"),Si=RegExp(yi+"(?="+yi+")|"+Wu+us,"g"),Pu=RegExp([Mr+"?"+es+"+"+os+"(?="+[Qo,Mr,"$"].join("|")+")",Mu+"+"+ss+"(?="+[Qo,Mr+is,"$"].join("|")+")",Mr+"?"+is+"+"+os,Mr+"+"+ss,Lu,ku,Vo,zu].join("|"),"g"),$u=RegExp("["+ts+mt+qo+Xo+"]"),Gu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qu=-1,he={};he[vr]=he[Nn]=he[Bn]=he[mr]=he[Xr]=he[hi]=he[gi]=he[vi]=he[mi]=!0,he[gn]=he[Ln]=he[_n]=he[tn]=he[En]=he[He]=he[vn]=he[Wn]=he[Se]=he[mn]=he[qe]=he[hr]=he[D]=he[X]=he[Ee]=!1;var de={};de[gn]=de[Ln]=de[_n]=de[En]=de[tn]=de[He]=de[vr]=de[Nn]=de[Bn]=de[mr]=de[Xr]=de[Se]=de[mn]=de[qe]=de[hr]=de[D]=de[X]=de[pe]=de[hi]=de[gi]=de[vi]=de[mi]=!0,de[vn]=de[Wn]=de[Ee]=!1;var Ku={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Yu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ju=parseFloat,Qu=parseInt,cs=typeof dt=="object"&&dt&&dt.Object===Object&&dt,Vu=typeof self=="object"&&self&&self.Object===Object&&self,ke=cs||Vu||Function("return this")(),Ai=c&&!c.nodeType&&c,_r=Ai&&!0&&l&&!l.nodeType&&l,fs=_r&&_r.exports===Ai,Di=fs&&cs.process,on=function(){try{var p=_r&&_r.require&&_r.require("util").types;return p||Di&&Di.binding&&Di.binding("util")}catch{}}(),ds=on&&on.isArrayBuffer,ps=on&&on.isDate,hs=on&&on.isMap,gs=on&&on.isRegExp,vs=on&&on.isSet,ms=on&&on.isTypedArray;function Je(p,m,v){switch(v.length){case 0:return p.call(m);case 1:return p.call(m,v[0]);case 2:return p.call(m,v[0],v[1]);case 3:return p.call(m,v[0],v[1],v[2])}return p.apply(m,v)}function ec(p,m,v,O){for(var Y=-1,oe=p==null?0:p.length;++Y<oe;){var Ie=p[Y];m(O,Ie,v(Ie),p)}return O}function sn(p,m){for(var v=-1,O=p==null?0:p.length;++v<O&&m(p[v],v,p)!==!1;);return p}function nc(p,m){for(var v=p==null?0:p.length;v--&&m(p[v],v,p)!==!1;);return p}function _s(p,m){for(var v=-1,O=p==null?0:p.length;++v<O;)if(!m(p[v],v,p))return!1;return!0}function nr(p,m){for(var v=-1,O=p==null?0:p.length,Y=0,oe=[];++v<O;){var Ie=p[v];m(Ie,v,p)&&(oe[Y++]=Ie)}return oe}function xt(p,m){var v=p==null?0:p.length;return!!v&&Ur(p,m,0)>-1}function Ei(p,m,v){for(var O=-1,Y=p==null?0:p.length;++O<Y;)if(v(m,p[O]))return!0;return!1}function me(p,m){for(var v=-1,O=p==null?0:p.length,Y=Array(O);++v<O;)Y[v]=m(p[v],v,p);return Y}function rr(p,m){for(var v=-1,O=m.length,Y=p.length;++v<O;)p[Y+v]=m[v];return p}function Ii(p,m,v,O){var Y=-1,oe=p==null?0:p.length;for(O&&oe&&(v=p[++Y]);++Y<oe;)v=m(v,p[Y],Y,p);return v}function rc(p,m,v,O){var Y=p==null?0:p.length;for(O&&Y&&(v=p[--Y]);Y--;)v=m(v,p[Y],Y,p);return v}function Fi(p,m){for(var v=-1,O=p==null?0:p.length;++v<O;)if(m(p[v],v,p))return!0;return!1}var tc=Ri("length");function ic(p){return p.split("")}function oc(p){return p.match(pu)||[]}function xs(p,m,v){var O;return v(p,function(Y,oe,Ie){if(m(Y,oe,Ie))return O=oe,!1}),O}function wt(p,m,v,O){for(var Y=p.length,oe=v+(O?1:-1);O?oe--:++oe<Y;)if(m(p[oe],oe,p))return oe;return-1}function Ur(p,m,v){return m===m?mc(p,m,v):wt(p,ws,v)}function sc(p,m,v,O){for(var Y=v-1,oe=p.length;++Y<oe;)if(O(p[Y],m))return Y;return-1}function ws(p){return p!==p}function ys(p,m){var v=p==null?0:p.length;return v?ji(p,m)/v:Qn}function Ri(p){return function(m){return m==null?i:m[p]}}function Oi(p){return function(m){return p==null?i:p[m]}}function bs(p,m,v,O,Y){return Y(p,function(oe,Ie,ue){v=O?(O=!1,oe):m(v,oe,Ie,ue)}),v}function lc(p,m){var v=p.length;for(p.sort(m);v--;)p[v]=p[v].value;return p}function ji(p,m){for(var v,O=-1,Y=p.length;++O<Y;){var oe=m(p[O]);oe!==i&&(v=v===i?oe:v+oe)}return v}function Ti(p,m){for(var v=-1,O=Array(p);++v<p;)O[v]=m(v);return O}function ac(p,m){return me(m,function(v){return[v,p[v]]})}function Cs(p){return p&&p.slice(0,Es(p)+1).replace(xi,"")}function Qe(p){return function(m){return p(m)}}function Mi(p,m){return me(m,function(v){return p[v]})}function Jr(p,m){return p.has(m)}function Ss(p,m){for(var v=-1,O=p.length;++v<O&&Ur(m,p[v],0)>-1;);return v}function As(p,m){for(var v=p.length;v--&&Ur(m,p[v],0)>-1;);return v}function uc(p,m){for(var v=p.length,O=0;v--;)p[v]===m&&++O;return O}var cc=Oi(Ku),fc=Oi(Yu);function dc(p){return"\\"+Xu[p]}function pc(p,m){return p==null?i:p[m]}function kr(p){return $u.test(p)}function hc(p){return Gu.test(p)}function gc(p){for(var m,v=[];!(m=p.next()).done;)v.push(m.value);return v}function Ui(p){var m=-1,v=Array(p.size);return p.forEach(function(O,Y){v[++m]=[Y,O]}),v}function Ds(p,m){return function(v){return p(m(v))}}function tr(p,m){for(var v=-1,O=p.length,Y=0,oe=[];++v<O;){var Ie=p[v];(Ie===m||Ie===G)&&(p[v]=G,oe[Y++]=v)}return oe}function yt(p){var m=-1,v=Array(p.size);return p.forEach(function(O){v[++m]=O}),v}function vc(p){var m=-1,v=Array(p.size);return p.forEach(function(O){v[++m]=[O,O]}),v}function mc(p,m,v){for(var O=v-1,Y=p.length;++O<Y;)if(p[O]===m)return O;return-1}function _c(p,m,v){for(var O=v+1;O--;)if(p[O]===m)return O;return O}function Lr(p){return kr(p)?wc(p):tc(p)}function xn(p){return kr(p)?yc(p):ic(p)}function Es(p){for(var m=p.length;m--&&uu.test(p.charAt(m)););return m}var xc=Oi(Zu);function wc(p){for(var m=Si.lastIndex=0;Si.test(p);)++m;return m}function yc(p){return p.match(Si)||[]}function bc(p){return p.match(Pu)||[]}var Cc=function p(m){m=m==null?ke:zr.defaults(ke.Object(),m,zr.pick(ke,Hu));var v=m.Array,O=m.Date,Y=m.Error,oe=m.Function,Ie=m.Math,ue=m.Object,ki=m.RegExp,Sc=m.String,ln=m.TypeError,bt=v.prototype,Ac=oe.prototype,Wr=ue.prototype,Ct=m["__core-js_shared__"],St=Ac.toString,ae=Wr.hasOwnProperty,Dc=0,Is=function(){var e=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),At=Wr.toString,Ec=St.call(ue),Ic=ke._,Fc=ki("^"+St.call(ae).replace(_i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=fs?m.Buffer:i,ir=m.Symbol,Et=m.Uint8Array,Fs=Dt?Dt.allocUnsafe:i,It=Ds(ue.getPrototypeOf,ue),Rs=ue.create,Os=Wr.propertyIsEnumerable,Ft=bt.splice,js=ir?ir.isConcatSpreadable:i,Qr=ir?ir.iterator:i,xr=ir?ir.toStringTag:i,Rt=function(){try{var e=Sr(ue,"defineProperty");return e({},"",{}),e}catch{}}(),Rc=m.clearTimeout!==ke.clearTimeout&&m.clearTimeout,Oc=O&&O.now!==ke.Date.now&&O.now,jc=m.setTimeout!==ke.setTimeout&&m.setTimeout,Ot=Ie.ceil,jt=Ie.floor,Li=ue.getOwnPropertySymbols,Tc=Dt?Dt.isBuffer:i,Ts=m.isFinite,Mc=bt.join,Uc=Ds(ue.keys,ue),Fe=Ie.max,ze=Ie.min,kc=O.now,Lc=m.parseInt,Ms=Ie.random,zc=bt.reverse,zi=Sr(m,"DataView"),Vr=Sr(m,"Map"),Wi=Sr(m,"Promise"),Nr=Sr(m,"Set"),et=Sr(m,"WeakMap"),nt=Sr(ue,"create"),Tt=et&&new et,Br={},Wc=Ar(zi),Nc=Ar(Vr),Bc=Ar(Wi),Pc=Ar(Nr),$c=Ar(et),Mt=ir?ir.prototype:i,rt=Mt?Mt.valueOf:i,Us=Mt?Mt.toString:i;function s(e){if(xe(e)&&!Z(e)&&!(e instanceof re)){if(e instanceof an)return e;if(ae.call(e,"__wrapped__"))return kl(e)}return new an(e)}var Pr=function(){function e(){}return function(n){if(!_e(n))return{};if(Rs)return Rs(n);e.prototype=n;var r=new e;return e.prototype=i,r}}();function Ut(){}function an(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}s.templateSettings={escape:tu,evaluate:iu,interpolate:Go,variable:"",imports:{_:s}},s.prototype=Ut.prototype,s.prototype.constructor=s,an.prototype=Pr(Ut.prototype),an.prototype.constructor=an;function re(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function Gc(){var e=new re(this.__wrapped__);return e.__actions__=Ke(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ke(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ke(this.__views__),e}function Hc(){if(this.__filtered__){var e=new re(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function qc(){var e=this.__wrapped__.value(),n=this.__dir__,r=Z(e),t=n<0,o=r?e.length:0,a=od(0,o,this.__views__),f=a.start,d=a.end,h=d-f,y=t?d:f-1,b=this.__iteratees__,S=b.length,E=0,T=ze(h,this.__takeCount__);if(!r||!t&&o==h&&T==h)return ol(e,this.__actions__);var B=[];e:for(;h--&&E<T;){y+=n;for(var Q=-1,P=e[y];++Q<S;){var ne=b[Q],te=ne.iteratee,nn=ne.type,Pe=te(P);if(nn==Rr)P=Pe;else if(!Pe){if(nn==Me)continue e;break e}}B[E++]=P}return B}re.prototype=Pr(Ut.prototype),re.prototype.constructor=re;function wr(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Kc(){this.__data__=nt?nt(null):{},this.size=0}function Yc(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Zc(e){var n=this.__data__;if(nt){var r=n[e];return r===A?i:r}return ae.call(n,e)?n[e]:i}function Xc(e){var n=this.__data__;return nt?n[e]!==i:ae.call(n,e)}function Jc(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nt&&n===i?A:n,this}wr.prototype.clear=Kc,wr.prototype.delete=Yc,wr.prototype.get=Zc,wr.prototype.has=Xc,wr.prototype.set=Jc;function Pn(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Qc(){this.__data__=[],this.size=0}function Vc(e){var n=this.__data__,r=kt(n,e);if(r<0)return!1;var t=n.length-1;return r==t?n.pop():Ft.call(n,r,1),--this.size,!0}function ef(e){var n=this.__data__,r=kt(n,e);return r<0?i:n[r][1]}function nf(e){return kt(this.__data__,e)>-1}function rf(e,n){var r=this.__data__,t=kt(r,e);return t<0?(++this.size,r.push([e,n])):r[t][1]=n,this}Pn.prototype.clear=Qc,Pn.prototype.delete=Vc,Pn.prototype.get=ef,Pn.prototype.has=nf,Pn.prototype.set=rf;function $n(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function tf(){this.size=0,this.__data__={hash:new wr,map:new(Vr||Pn),string:new wr}}function of(e){var n=Yt(this,e).delete(e);return this.size-=n?1:0,n}function sf(e){return Yt(this,e).get(e)}function lf(e){return Yt(this,e).has(e)}function af(e,n){var r=Yt(this,e),t=r.size;return r.set(e,n),this.size+=r.size==t?0:1,this}$n.prototype.clear=tf,$n.prototype.delete=of,$n.prototype.get=sf,$n.prototype.has=lf,$n.prototype.set=af;function yr(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new $n;++n<r;)this.add(e[n])}function uf(e){return this.__data__.set(e,A),this}function cf(e){return this.__data__.has(e)}yr.prototype.add=yr.prototype.push=uf,yr.prototype.has=cf;function wn(e){var n=this.__data__=new Pn(e);this.size=n.size}function ff(){this.__data__=new Pn,this.size=0}function df(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}function pf(e){return this.__data__.get(e)}function hf(e){return this.__data__.has(e)}function gf(e,n){var r=this.__data__;if(r instanceof Pn){var t=r.__data__;if(!Vr||t.length<_-1)return t.push([e,n]),this.size=++r.size,this;r=this.__data__=new $n(t)}return r.set(e,n),this.size=r.size,this}wn.prototype.clear=ff,wn.prototype.delete=df,wn.prototype.get=pf,wn.prototype.has=hf,wn.prototype.set=gf;function ks(e,n){var r=Z(e),t=!r&&Dr(e),o=!r&&!t&&ur(e),a=!r&&!t&&!o&&qr(e),f=r||t||o||a,d=f?Ti(e.length,Sc):[],h=d.length;for(var y in e)(n||ae.call(e,y))&&!(f&&(y=="length"||o&&(y=="offset"||y=="parent")||a&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||Kn(y,h)))&&d.push(y);return d}function Ls(e){var n=e.length;return n?e[Xi(0,n-1)]:i}function vf(e,n){return Zt(Ke(e),br(n,0,e.length))}function mf(e){return Zt(Ke(e))}function Ni(e,n,r){(r!==i&&!yn(e[n],r)||r===i&&!(n in e))&&Gn(e,n,r)}function tt(e,n,r){var t=e[n];(!(ae.call(e,n)&&yn(t,r))||r===i&&!(n in e))&&Gn(e,n,r)}function kt(e,n){for(var r=e.length;r--;)if(yn(e[r][0],n))return r;return-1}function _f(e,n,r,t){return or(e,function(o,a,f){n(t,o,r(o),f)}),t}function zs(e,n){return e&&Fn(n,je(n),e)}function xf(e,n){return e&&Fn(n,Ze(n),e)}function Gn(e,n,r){n=="__proto__"&&Rt?Rt(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}function Bi(e,n){for(var r=-1,t=n.length,o=v(t),a=e==null;++r<t;)o[r]=a?i:bo(e,n[r]);return o}function br(e,n,r){return e===e&&(r!==i&&(e=e<=r?e:r),n!==i&&(e=e>=n?e:n)),e}function un(e,n,r,t,o,a){var f,d=n&z,h=n&$,y=n&q;if(r&&(f=o?r(e,t,o,a):r(e)),f!==i)return f;if(!_e(e))return e;var b=Z(e);if(b){if(f=ld(e),!d)return Ke(e,f)}else{var S=We(e),E=S==Wn||S==er;if(ur(e))return al(e,d);if(S==qe||S==gn||E&&!o){if(f=h||E?{}:El(e),!d)return h?Xf(e,xf(f,e)):Zf(e,zs(f,e))}else{if(!de[S])return o?e:{};f=ad(e,S,d)}}a||(a=new wn);var T=a.get(e);if(T)return T;a.set(e,f),ra(e)?e.forEach(function(P){f.add(un(P,n,r,P,e,a))}):ea(e)&&e.forEach(function(P,ne){f.set(ne,un(P,n,r,ne,e,a))});var B=y?h?lo:so:h?Ze:je,Q=b?i:B(e);return sn(Q||e,function(P,ne){Q&&(ne=P,P=e[ne]),tt(f,ne,un(P,n,r,ne,e,a))}),f}function wf(e){var n=je(e);return function(r){return Ws(r,e,n)}}function Ws(e,n,r){var t=r.length;if(e==null)return!t;for(e=ue(e);t--;){var o=r[t],a=n[o],f=e[o];if(f===i&&!(o in e)||!a(f))return!1}return!0}function Ns(e,n,r){if(typeof e!="function")throw new ln(x);return ct(function(){e.apply(i,r)},n)}function it(e,n,r,t){var o=-1,a=xt,f=!0,d=e.length,h=[],y=n.length;if(!d)return h;r&&(n=me(n,Qe(r))),t?(a=Ei,f=!1):n.length>=_&&(a=Jr,f=!1,n=new yr(n));e:for(;++o<d;){var b=e[o],S=r==null?b:r(b);if(b=t||b!==0?b:0,f&&S===S){for(var E=y;E--;)if(n[E]===S)continue e;h.push(b)}else a(n,S,t)||h.push(b)}return h}var or=pl(In),Bs=pl($i,!0);function yf(e,n){var r=!0;return or(e,function(t,o,a){return r=!!n(t,o,a),r}),r}function Lt(e,n,r){for(var t=-1,o=e.length;++t<o;){var a=e[t],f=n(a);if(f!=null&&(d===i?f===f&&!en(f):r(f,d)))var d=f,h=a}return h}function bf(e,n,r,t){var o=e.length;for(r=J(r),r<0&&(r=-r>o?0:o+r),t=t===i||t>o?o:J(t),t<0&&(t+=o),t=r>t?0:ia(t);r<t;)e[r++]=n;return e}function Ps(e,n){var r=[];return or(e,function(t,o,a){n(t,o,a)&&r.push(t)}),r}function Le(e,n,r,t,o){var a=-1,f=e.length;for(r||(r=cd),o||(o=[]);++a<f;){var d=e[a];n>0&&r(d)?n>1?Le(d,n-1,r,t,o):rr(o,d):t||(o[o.length]=d)}return o}var Pi=hl(),$s=hl(!0);function In(e,n){return e&&Pi(e,n,je)}function $i(e,n){return e&&$s(e,n,je)}function zt(e,n){return nr(n,function(r){return Yn(e[r])})}function Cr(e,n){n=lr(n,e);for(var r=0,t=n.length;e!=null&&r<t;)e=e[Rn(n[r++])];return r&&r==t?e:i}function Gs(e,n,r){var t=n(e);return Z(e)?t:rr(t,r(e))}function Ne(e){return e==null?e===i?De:Tr:xr&&xr in ue(e)?id(e):md(e)}function Gi(e,n){return e>n}function Cf(e,n){return e!=null&&ae.call(e,n)}function Sf(e,n){return e!=null&&n in ue(e)}function Af(e,n,r){return e>=ze(n,r)&&e<Fe(n,r)}function Hi(e,n,r){for(var t=r?Ei:xt,o=e[0].length,a=e.length,f=a,d=v(a),h=1/0,y=[];f--;){var b=e[f];f&&n&&(b=me(b,Qe(n))),h=ze(b.length,h),d[f]=!r&&(n||o>=120&&b.length>=120)?new yr(f&&b):i}b=e[0];var S=-1,E=d[0];e:for(;++S<o&&y.length<h;){var T=b[S],B=n?n(T):T;if(T=r||T!==0?T:0,!(E?Jr(E,B):t(y,B,r))){for(f=a;--f;){var Q=d[f];if(!(Q?Jr(Q,B):t(e[f],B,r)))continue e}E&&E.push(B),y.push(T)}}return y}function Df(e,n,r,t){return In(e,function(o,a,f){n(t,r(o),a,f)}),t}function ot(e,n,r){n=lr(n,e),e=Ol(e,n);var t=e==null?e:e[Rn(fn(n))];return t==null?i:Je(t,e,r)}function Hs(e){return xe(e)&&Ne(e)==gn}function Ef(e){return xe(e)&&Ne(e)==_n}function If(e){return xe(e)&&Ne(e)==He}function st(e,n,r,t,o){return e===n?!0:e==null||n==null||!xe(e)&&!xe(n)?e!==e&&n!==n:Ff(e,n,r,t,st,o)}function Ff(e,n,r,t,o,a){var f=Z(e),d=Z(n),h=f?Ln:We(e),y=d?Ln:We(n);h=h==gn?qe:h,y=y==gn?qe:y;var b=h==qe,S=y==qe,E=h==y;if(E&&ur(e)){if(!ur(n))return!1;f=!0,b=!1}if(E&&!b)return a||(a=new wn),f||qr(e)?Sl(e,n,r,t,o,a):rd(e,n,h,r,t,o,a);if(!(r&H)){var T=b&&ae.call(e,"__wrapped__"),B=S&&ae.call(n,"__wrapped__");if(T||B){var Q=T?e.value():e,P=B?n.value():n;return a||(a=new wn),o(Q,P,r,t,a)}}return E?(a||(a=new wn),td(e,n,r,t,o,a)):!1}function Rf(e){return xe(e)&&We(e)==Se}function qi(e,n,r,t){var o=r.length,a=o,f=!t;if(e==null)return!a;for(e=ue(e);o--;){var d=r[o];if(f&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++o<a;){d=r[o];var h=d[0],y=e[h],b=d[1];if(f&&d[2]){if(y===i&&!(h in e))return!1}else{var S=new wn;if(t)var E=t(y,b,h,e,n,S);if(!(E===i?st(b,y,H|I,t,S):E))return!1}}return!0}function qs(e){if(!_e(e)||dd(e))return!1;var n=Yn(e)?Fc:xu;return n.test(Ar(e))}function Of(e){return xe(e)&&Ne(e)==hr}function jf(e){return xe(e)&&We(e)==D}function Tf(e){return xe(e)&&ni(e.length)&&!!he[Ne(e)]}function Ks(e){return typeof e=="function"?e:e==null?Xe:typeof e=="object"?Z(e)?Xs(e[0],e[1]):Zs(e):ga(e)}function Ki(e){if(!ut(e))return Uc(e);var n=[];for(var r in ue(e))ae.call(e,r)&&r!="constructor"&&n.push(r);return n}function Mf(e){if(!_e(e))return vd(e);var n=ut(e),r=[];for(var t in e)t=="constructor"&&(n||!ae.call(e,t))||r.push(t);return r}function Yi(e,n){return e<n}function Ys(e,n){var r=-1,t=Ye(e)?v(e.length):[];return or(e,function(o,a,f){t[++r]=n(o,a,f)}),t}function Zs(e){var n=uo(e);return n.length==1&&n[0][2]?Fl(n[0][0],n[0][1]):function(r){return r===e||qi(r,e,n)}}function Xs(e,n){return fo(e)&&Il(n)?Fl(Rn(e),n):function(r){var t=bo(r,e);return t===i&&t===n?Co(r,e):st(n,t,H|I)}}function Wt(e,n,r,t,o){e!==n&&Pi(n,function(a,f){if(o||(o=new wn),_e(a))Uf(e,n,f,r,Wt,t,o);else{var d=t?t(ho(e,f),a,f+"",e,n,o):i;d===i&&(d=a),Ni(e,f,d)}},Ze)}function Uf(e,n,r,t,o,a,f){var d=ho(e,r),h=ho(n,r),y=f.get(h);if(y){Ni(e,r,y);return}var b=a?a(d,h,r+"",e,n,f):i,S=b===i;if(S){var E=Z(h),T=!E&&ur(h),B=!E&&!T&&qr(h);b=h,E||T||B?Z(d)?b=d:we(d)?b=Ke(d):T?(S=!1,b=al(h,!0)):B?(S=!1,b=ul(h,!0)):b=[]:ft(h)||Dr(h)?(b=d,Dr(d)?b=oa(d):(!_e(d)||Yn(d))&&(b=El(h))):S=!1}S&&(f.set(h,b),o(b,h,t,a,f),f.delete(h)),Ni(e,r,b)}function Js(e,n){var r=e.length;if(r)return n+=n<0?r:0,Kn(n,r)?e[n]:i}function Qs(e,n,r){n.length?n=me(n,function(a){return Z(a)?function(f){return Cr(f,a.length===1?a[0]:a)}:a}):n=[Xe];var t=-1;n=me(n,Qe(N()));var o=Ys(e,function(a,f,d){var h=me(n,function(y){return y(a)});return{criteria:h,index:++t,value:a}});return lc(o,function(a,f){return Yf(a,f,r)})}function kf(e,n){return Vs(e,n,function(r,t){return Co(e,t)})}function Vs(e,n,r){for(var t=-1,o=n.length,a={};++t<o;){var f=n[t],d=Cr(e,f);r(d,f)&&lt(a,lr(f,e),d)}return a}function Lf(e){return function(n){return Cr(n,e)}}function Zi(e,n,r,t){var o=t?sc:Ur,a=-1,f=n.length,d=e;for(e===n&&(n=Ke(n)),r&&(d=me(e,Qe(r)));++a<f;)for(var h=0,y=n[a],b=r?r(y):y;(h=o(d,b,h,t))>-1;)d!==e&&Ft.call(d,h,1),Ft.call(e,h,1);return e}function el(e,n){for(var r=e?n.length:0,t=r-1;r--;){var o=n[r];if(r==t||o!==a){var a=o;Kn(o)?Ft.call(e,o,1):Vi(e,o)}}return e}function Xi(e,n){return e+jt(Ms()*(n-e+1))}function zf(e,n,r,t){for(var o=-1,a=Fe(Ot((n-e)/(r||1)),0),f=v(a);a--;)f[t?a:++o]=e,e+=r;return f}function Ji(e,n){var r="";if(!e||n<1||n>Ge)return r;do n%2&&(r+=e),n=jt(n/2),n&&(e+=e);while(n);return r}function V(e,n){return go(Rl(e,n,Xe),e+"")}function Wf(e){return Ls(Kr(e))}function Nf(e,n){var r=Kr(e);return Zt(r,br(n,0,r.length))}function lt(e,n,r,t){if(!_e(e))return e;n=lr(n,e);for(var o=-1,a=n.length,f=a-1,d=e;d!=null&&++o<a;){var h=Rn(n[o]),y=r;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(o!=f){var b=d[h];y=t?t(b,h,d):i,y===i&&(y=_e(b)?b:Kn(n[o+1])?[]:{})}tt(d,h,y),d=d[h]}return e}var nl=Tt?function(e,n){return Tt.set(e,n),e}:Xe,Bf=Rt?function(e,n){return Rt(e,"toString",{configurable:!0,enumerable:!1,value:Ao(n),writable:!0})}:Xe;function Pf(e){return Zt(Kr(e))}function cn(e,n,r){var t=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=v(o);++t<o;)a[t]=e[t+n];return a}function $f(e,n){var r;return or(e,function(t,o,a){return r=n(t,o,a),!r}),!!r}function Nt(e,n,r){var t=0,o=e==null?t:e.length;if(typeof n=="number"&&n===n&&o<=hn){for(;t<o;){var a=t+o>>>1,f=e[a];f!==null&&!en(f)&&(r?f<=n:f<n)?t=a+1:o=a}return o}return Qi(e,n,Xe,r)}function Qi(e,n,r,t){var o=0,a=e==null?0:e.length;if(a===0)return 0;n=r(n);for(var f=n!==n,d=n===null,h=en(n),y=n===i;o<a;){var b=jt((o+a)/2),S=r(e[b]),E=S!==i,T=S===null,B=S===S,Q=en(S);if(f)var P=t||B;else y?P=B&&(t||E):d?P=B&&E&&(t||!T):h?P=B&&E&&!T&&(t||!Q):T||Q?P=!1:P=t?S<=n:S<n;P?o=b+1:a=b}return ze(a,Or)}function rl(e,n){for(var r=-1,t=e.length,o=0,a=[];++r<t;){var f=e[r],d=n?n(f):f;if(!r||!yn(d,h)){var h=d;a[o++]=f===0?0:f}}return a}function tl(e){return typeof e=="number"?e:en(e)?Qn:+e}function Ve(e){if(typeof e=="string")return e;if(Z(e))return me(e,Ve)+"";if(en(e))return Us?Us.call(e):"";var n=e+"";return n=="0"&&1/e==-pn?"-0":n}function sr(e,n,r){var t=-1,o=xt,a=e.length,f=!0,d=[],h=d;if(r)f=!1,o=Ei;else if(a>=_){var y=n?null:ed(e);if(y)return yt(y);f=!1,o=Jr,h=new yr}else h=n?[]:d;e:for(;++t<a;){var b=e[t],S=n?n(b):b;if(b=r||b!==0?b:0,f&&S===S){for(var E=h.length;E--;)if(h[E]===S)continue e;n&&h.push(S),d.push(b)}else o(h,S,r)||(h!==d&&h.push(S),d.push(b))}return d}function Vi(e,n){return n=lr(n,e),e=Ol(e,n),e==null||delete e[Rn(fn(n))]}function il(e,n,r,t){return lt(e,n,r(Cr(e,n)),t)}function Bt(e,n,r,t){for(var o=e.length,a=t?o:-1;(t?a--:++a<o)&&n(e[a],a,e););return r?cn(e,t?0:a,t?a+1:o):cn(e,t?a+1:0,t?o:a)}function ol(e,n){var r=e;return r instanceof re&&(r=r.value()),Ii(n,function(t,o){return o.func.apply(o.thisArg,rr([t],o.args))},r)}function eo(e,n,r){var t=e.length;if(t<2)return t?sr(e[0]):[];for(var o=-1,a=v(t);++o<t;)for(var f=e[o],d=-1;++d<t;)d!=o&&(a[o]=it(a[o]||f,e[d],n,r));return sr(Le(a,1),n,r)}function sl(e,n,r){for(var t=-1,o=e.length,a=n.length,f={};++t<o;){var d=t<a?n[t]:i;r(f,e[t],d)}return f}function no(e){return we(e)?e:[]}function ro(e){return typeof e=="function"?e:Xe}function lr(e,n){return Z(e)?e:fo(e,n)?[e]:Ul(le(e))}var Gf=V;function ar(e,n,r){var t=e.length;return r=r===i?t:r,!n&&r>=t?e:cn(e,n,r)}var ll=Rc||function(e){return ke.clearTimeout(e)};function al(e,n){if(n)return e.slice();var r=e.length,t=Fs?Fs(r):new e.constructor(r);return e.copy(t),t}function to(e){var n=new e.constructor(e.byteLength);return new Et(n).set(new Et(e)),n}function Hf(e,n){var r=n?to(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function qf(e){var n=new e.constructor(e.source,Ho.exec(e));return n.lastIndex=e.lastIndex,n}function Kf(e){return rt?ue(rt.call(e)):{}}function ul(e,n){var r=n?to(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function cl(e,n){if(e!==n){var r=e!==i,t=e===null,o=e===e,a=en(e),f=n!==i,d=n===null,h=n===n,y=en(n);if(!d&&!y&&!a&&e>n||a&&f&&h&&!d&&!y||t&&f&&h||!r&&h||!o)return 1;if(!t&&!a&&!y&&e<n||y&&r&&o&&!t&&!a||d&&r&&o||!f&&o||!h)return-1}return 0}function Yf(e,n,r){for(var t=-1,o=e.criteria,a=n.criteria,f=o.length,d=r.length;++t<f;){var h=cl(o[t],a[t]);if(h){if(t>=d)return h;var y=r[t];return h*(y=="desc"?-1:1)}}return e.index-n.index}function fl(e,n,r,t){for(var o=-1,a=e.length,f=r.length,d=-1,h=n.length,y=Fe(a-f,0),b=v(h+y),S=!t;++d<h;)b[d]=n[d];for(;++o<f;)(S||o<a)&&(b[r[o]]=e[o]);for(;y--;)b[d++]=e[o++];return b}function dl(e,n,r,t){for(var o=-1,a=e.length,f=-1,d=r.length,h=-1,y=n.length,b=Fe(a-d,0),S=v(b+y),E=!t;++o<b;)S[o]=e[o];for(var T=o;++h<y;)S[T+h]=n[h];for(;++f<d;)(E||o<a)&&(S[T+r[f]]=e[o++]);return S}function Ke(e,n){var r=-1,t=e.length;for(n||(n=v(t));++r<t;)n[r]=e[r];return n}function Fn(e,n,r,t){var o=!r;r||(r={});for(var a=-1,f=n.length;++a<f;){var d=n[a],h=t?t(r[d],e[d],d,r,e):i;h===i&&(h=e[d]),o?Gn(r,d,h):tt(r,d,h)}return r}function Zf(e,n){return Fn(e,co(e),n)}function Xf(e,n){return Fn(e,Al(e),n)}function Pt(e,n){return function(r,t){var o=Z(r)?ec:_f,a=n?n():{};return o(r,e,N(t,2),a)}}function $r(e){return V(function(n,r){var t=-1,o=r.length,a=o>1?r[o-1]:i,f=o>2?r[2]:i;for(a=e.length>3&&typeof a=="function"?(o--,a):i,f&&Be(r[0],r[1],f)&&(a=o<3?i:a,o=1),n=ue(n);++t<o;){var d=r[t];d&&e(n,d,t,a)}return n})}function pl(e,n){return function(r,t){if(r==null)return r;if(!Ye(r))return e(r,t);for(var o=r.length,a=n?o:-1,f=ue(r);(n?a--:++a<o)&&t(f[a],a,f)!==!1;);return r}}function hl(e){return function(n,r,t){for(var o=-1,a=ue(n),f=t(n),d=f.length;d--;){var h=f[e?d:++o];if(r(a[h],h,a)===!1)break}return n}}function Jf(e,n,r){var t=n&U,o=at(e);function a(){var f=this&&this!==ke&&this instanceof a?o:e;return f.apply(t?r:this,arguments)}return a}function gl(e){return function(n){n=le(n);var r=kr(n)?xn(n):i,t=r?r[0]:n.charAt(0),o=r?ar(r,1).join(""):n.slice(1);return t[e]()+o}}function Gr(e){return function(n){return Ii(pa(da(n).replace(Nu,"")),e,"")}}function at(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=Pr(e.prototype),t=e.apply(r,n);return _e(t)?t:r}}function Qf(e,n,r){var t=at(e);function o(){for(var a=arguments.length,f=v(a),d=a,h=Hr(o);d--;)f[d]=arguments[d];var y=a<3&&f[0]!==h&&f[a-1]!==h?[]:tr(f,h);if(a-=y.length,a<r)return wl(e,n,$t,o.placeholder,i,f,y,i,i,r-a);var b=this&&this!==ke&&this instanceof o?t:e;return Je(b,this,f)}return o}function vl(e){return function(n,r,t){var o=ue(n);if(!Ye(n)){var a=N(r,3);n=je(n),r=function(d){return a(o[d],d,o)}}var f=e(n,r,t);return f>-1?o[a?n[f]:f]:i}}function ml(e){return qn(function(n){var r=n.length,t=r,o=an.prototype.thru;for(e&&n.reverse();t--;){var a=n[t];if(typeof a!="function")throw new ln(x);if(o&&!f&&Kt(a)=="wrapper")var f=new an([],!0)}for(t=f?t:r;++t<r;){a=n[t];var d=Kt(a),h=d=="wrapper"?ao(a):i;h&&po(h[0])&&h[1]==(W|R|k|se)&&!h[4].length&&h[9]==1?f=f[Kt(h[0])].apply(f,h[3]):f=a.length==1&&po(a)?f[d]():f.thru(a)}return function(){var y=arguments,b=y[0];if(f&&y.length==1&&Z(b))return f.plant(b).value();for(var S=0,E=r?n[S].apply(this,y):b;++S<r;)E=n[S].call(this,E);return E}})}function $t(e,n,r,t,o,a,f,d,h,y){var b=n&W,S=n&U,E=n&L,T=n&(R|K),B=n&fe,Q=E?i:at(e);function P(){for(var ne=arguments.length,te=v(ne),nn=ne;nn--;)te[nn]=arguments[nn];if(T)var Pe=Hr(P),rn=uc(te,Pe);if(t&&(te=fl(te,t,o,T)),a&&(te=dl(te,a,f,T)),ne-=rn,T&&ne<y){var ye=tr(te,Pe);return wl(e,n,$t,P.placeholder,r,te,ye,d,h,y-ne)}var bn=S?r:this,Xn=E?bn[e]:e;return ne=te.length,d?te=_d(te,d):B&&ne>1&&te.reverse(),b&&h<ne&&(te.length=h),this&&this!==ke&&this instanceof P&&(Xn=Q||at(Xn)),Xn.apply(bn,te)}return P}function _l(e,n){return function(r,t){return Df(r,e,n(t),{})}}function Gt(e,n){return function(r,t){var o;if(r===i&&t===i)return n;if(r!==i&&(o=r),t!==i){if(o===i)return t;typeof r=="string"||typeof t=="string"?(r=Ve(r),t=Ve(t)):(r=tl(r),t=tl(t)),o=e(r,t)}return o}}function io(e){return qn(function(n){return n=me(n,Qe(N())),V(function(r){var t=this;return e(n,function(o){return Je(o,t,r)})})})}function Ht(e,n){n=n===i?" ":Ve(n);var r=n.length;if(r<2)return r?Ji(n,e):n;var t=Ji(n,Ot(e/Lr(n)));return kr(n)?ar(xn(t),0,e).join(""):t.slice(0,e)}function Vf(e,n,r,t){var o=n&U,a=at(e);function f(){for(var d=-1,h=arguments.length,y=-1,b=t.length,S=v(b+h),E=this&&this!==ke&&this instanceof f?a:e;++y<b;)S[y]=t[y];for(;h--;)S[y++]=arguments[++d];return Je(E,o?r:this,S)}return f}function xl(e){return function(n,r,t){return t&&typeof t!="number"&&Be(n,r,t)&&(r=t=i),n=Zn(n),r===i?(r=n,n=0):r=Zn(r),t=t===i?n<r?1:-1:Zn(t),zf(n,r,t,e)}}function qt(e){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=dn(n),r=dn(r)),e(n,r)}}function wl(e,n,r,t,o,a,f,d,h,y){var b=n&R,S=b?f:i,E=b?i:f,T=b?a:i,B=b?i:a;n|=b?k:ee,n&=~(b?ee:k),n&j||(n&=~(U|L));var Q=[e,n,o,T,S,B,E,d,h,y],P=r.apply(i,Q);return po(e)&&jl(P,Q),P.placeholder=t,Tl(P,e,n)}function oo(e){var n=Ie[e];return function(r,t){if(r=dn(r),t=t==null?0:ze(J(t),292),t&&Ts(r)){var o=(le(r)+"e").split("e"),a=n(o[0]+"e"+(+o[1]+t));return o=(le(a)+"e").split("e"),+(o[0]+"e"+(+o[1]-t))}return n(r)}}var ed=Nr&&1/yt(new Nr([,-0]))[1]==pn?function(e){return new Nr(e)}:Io;function yl(e){return function(n){var r=We(n);return r==Se?Ui(n):r==D?vc(n):ac(n,e(n))}}function Hn(e,n,r,t,o,a,f,d){var h=n&L;if(!h&&typeof e!="function")throw new ln(x);var y=t?t.length:0;if(y||(n&=~(k|ee),t=o=i),f=f===i?f:Fe(J(f),0),d=d===i?d:J(d),y-=o?o.length:0,n&ee){var b=t,S=o;t=o=i}var E=h?i:ao(e),T=[e,n,r,t,o,b,S,a,f,d];if(E&&gd(T,E),e=T[0],n=T[1],r=T[2],t=T[3],o=T[4],d=T[9]=T[9]===i?h?0:e.length:Fe(T[9]-y,0),!d&&n&(R|K)&&(n&=~(R|K)),!n||n==U)var B=Jf(e,n,r);else n==R||n==K?B=Qf(e,n,d):(n==k||n==(U|k))&&!o.length?B=Vf(e,n,r,t):B=$t.apply(i,T);var Q=E?nl:jl;return Tl(Q(B,T),e,n)}function bl(e,n,r,t){return e===i||yn(e,Wr[r])&&!ae.call(t,r)?n:e}function Cl(e,n,r,t,o,a){return _e(e)&&_e(n)&&(a.set(n,e),Wt(e,n,i,Cl,a),a.delete(n)),e}function nd(e){return ft(e)?i:e}function Sl(e,n,r,t,o,a){var f=r&H,d=e.length,h=n.length;if(d!=h&&!(f&&h>d))return!1;var y=a.get(e),b=a.get(n);if(y&&b)return y==n&&b==e;var S=-1,E=!0,T=r&I?new yr:i;for(a.set(e,n),a.set(n,e);++S<d;){var B=e[S],Q=n[S];if(t)var P=f?t(Q,B,S,n,e,a):t(B,Q,S,e,n,a);if(P!==i){if(P)continue;E=!1;break}if(T){if(!Fi(n,function(ne,te){if(!Jr(T,te)&&(B===ne||o(B,ne,r,t,a)))return T.push(te)})){E=!1;break}}else if(!(B===Q||o(B,Q,r,t,a))){E=!1;break}}return a.delete(e),a.delete(n),E}function rd(e,n,r,t,o,a,f){switch(r){case En:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case _n:return!(e.byteLength!=n.byteLength||!a(new Et(e),new Et(n)));case tn:case He:case mn:return yn(+e,+n);case vn:return e.name==n.name&&e.message==n.message;case hr:case X:return e==n+"";case Se:var d=Ui;case D:var h=t&H;if(d||(d=yt),e.size!=n.size&&!h)return!1;var y=f.get(e);if(y)return y==n;t|=I,f.set(e,n);var b=Sl(d(e),d(n),t,o,a,f);return f.delete(e),b;case pe:if(rt)return rt.call(e)==rt.call(n)}return!1}function td(e,n,r,t,o,a){var f=r&H,d=so(e),h=d.length,y=so(n),b=y.length;if(h!=b&&!f)return!1;for(var S=h;S--;){var E=d[S];if(!(f?E in n:ae.call(n,E)))return!1}var T=a.get(e),B=a.get(n);if(T&&B)return T==n&&B==e;var Q=!0;a.set(e,n),a.set(n,e);for(var P=f;++S<h;){E=d[S];var ne=e[E],te=n[E];if(t)var nn=f?t(te,ne,E,n,e,a):t(ne,te,E,e,n,a);if(!(nn===i?ne===te||o(ne,te,r,t,a):nn)){Q=!1;break}P||(P=E=="constructor")}if(Q&&!P){var Pe=e.constructor,rn=n.constructor;Pe!=rn&&"constructor"in e&&"constructor"in n&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof rn=="function"&&rn instanceof rn)&&(Q=!1)}return a.delete(e),a.delete(n),Q}function qn(e){return go(Rl(e,i,Wl),e+"")}function so(e){return Gs(e,je,co)}function lo(e){return Gs(e,Ze,Al)}var ao=Tt?function(e){return Tt.get(e)}:Io;function Kt(e){for(var n=e.name+"",r=Br[n],t=ae.call(Br,n)?r.length:0;t--;){var o=r[t],a=o.func;if(a==null||a==e)return o.name}return n}function Hr(e){var n=ae.call(s,"placeholder")?s:e;return n.placeholder}function N(){var e=s.iteratee||Do;return e=e===Do?Ks:e,arguments.length?e(arguments[0],arguments[1]):e}function Yt(e,n){var r=e.__data__;return fd(n)?r[typeof n=="string"?"string":"hash"]:r.map}function uo(e){for(var n=je(e),r=n.length;r--;){var t=n[r],o=e[t];n[r]=[t,o,Il(o)]}return n}function Sr(e,n){var r=pc(e,n);return qs(r)?r:i}function id(e){var n=ae.call(e,xr),r=e[xr];try{e[xr]=i;var t=!0}catch{}var o=At.call(e);return t&&(n?e[xr]=r:delete e[xr]),o}var co=Li?function(e){return e==null?[]:(e=ue(e),nr(Li(e),function(n){return Os.call(e,n)}))}:Fo,Al=Li?function(e){for(var n=[];e;)rr(n,co(e)),e=It(e);return n}:Fo,We=Ne;(zi&&We(new zi(new ArrayBuffer(1)))!=En||Vr&&We(new Vr)!=Se||Wi&&We(Wi.resolve())!=gt||Nr&&We(new Nr)!=D||et&&We(new et)!=Ee)&&(We=function(e){var n=Ne(e),r=n==qe?e.constructor:i,t=r?Ar(r):"";if(t)switch(t){case Wc:return En;case Nc:return Se;case Bc:return gt;case Pc:return D;case $c:return Ee}return n});function od(e,n,r){for(var t=-1,o=r.length;++t<o;){var a=r[t],f=a.size;switch(a.type){case"drop":e+=f;break;case"dropRight":n-=f;break;case"take":n=ze(n,e+f);break;case"takeRight":e=Fe(e,n-f);break}}return{start:e,end:n}}function sd(e){var n=e.match(fu);return n?n[1].split(du):[]}function Dl(e,n,r){n=lr(n,e);for(var t=-1,o=n.length,a=!1;++t<o;){var f=Rn(n[t]);if(!(a=e!=null&&r(e,f)))break;e=e[f]}return a||++t!=o?a:(o=e==null?0:e.length,!!o&&ni(o)&&Kn(f,o)&&(Z(e)||Dr(e)))}function ld(e){var n=e.length,r=new e.constructor(n);return n&&typeof e[0]=="string"&&ae.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function El(e){return typeof e.constructor=="function"&&!ut(e)?Pr(It(e)):{}}function ad(e,n,r){var t=e.constructor;switch(n){case _n:return to(e);case tn:case He:return new t(+e);case En:return Hf(e,r);case vr:case Nn:case Bn:case mr:case Xr:case hi:case gi:case vi:case mi:return ul(e,r);case Se:return new t;case mn:case X:return new t(e);case hr:return qf(e);case D:return new t;case pe:return Kf(e)}}function ud(e,n){var r=n.length;if(!r)return e;var t=r-1;return n[t]=(r>1?"& ":"")+n[t],n=n.join(r>2?", ":" "),e.replace(cu,`{
/* [wrapped with `+n+`] */
`)}function cd(e){return Z(e)||Dr(e)||!!(js&&e&&e[js])}function Kn(e,n){var r=typeof e;return n=n??Ge,!!n&&(r=="number"||r!="symbol"&&yu.test(e))&&e>-1&&e%1==0&&e<n}function Be(e,n,r){if(!_e(r))return!1;var t=typeof n;return(t=="number"?Ye(r)&&Kn(n,r.length):t=="string"&&n in r)?yn(r[n],e):!1}function fo(e,n){if(Z(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||en(e)?!0:su.test(e)||!ou.test(e)||n!=null&&e in ue(n)}function fd(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function po(e){var n=Kt(e),r=s[n];if(typeof r!="function"||!(n in re.prototype))return!1;if(e===r)return!0;var t=ao(r);return!!t&&e===t[0]}function dd(e){return!!Is&&Is in e}var pd=Ct?Yn:Ro;function ut(e){var n=e&&e.constructor,r=typeof n=="function"&&n.prototype||Wr;return e===r}function Il(e){return e===e&&!_e(e)}function Fl(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==i||e in ue(r))}}function hd(e){var n=Vt(e,function(t){return r.size===F&&r.clear(),t}),r=n.cache;return n}function gd(e,n){var r=e[1],t=n[1],o=r|t,a=o<(U|L|W),f=t==W&&r==R||t==W&&r==se&&e[7].length<=n[8]||t==(W|se)&&n[7].length<=n[8]&&r==R;if(!(a||f))return e;t&U&&(e[2]=n[2],o|=r&U?0:j);var d=n[3];if(d){var h=e[3];e[3]=h?fl(h,d,n[4]):d,e[4]=h?tr(e[3],G):n[4]}return d=n[5],d&&(h=e[5],e[5]=h?dl(h,d,n[6]):d,e[6]=h?tr(e[5],G):n[6]),d=n[7],d&&(e[7]=d),t&W&&(e[8]=e[8]==null?n[8]:ze(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=o,e}function vd(e){var n=[];if(e!=null)for(var r in ue(e))n.push(r);return n}function md(e){return At.call(e)}function Rl(e,n,r){return n=Fe(n===i?e.length-1:n,0),function(){for(var t=arguments,o=-1,a=Fe(t.length-n,0),f=v(a);++o<a;)f[o]=t[n+o];o=-1;for(var d=v(n+1);++o<n;)d[o]=t[o];return d[n]=r(f),Je(e,this,d)}}function Ol(e,n){return n.length<2?e:Cr(e,cn(n,0,-1))}function _d(e,n){for(var r=e.length,t=ze(n.length,r),o=Ke(e);t--;){var a=n[t];e[t]=Kn(a,r)?o[a]:i}return e}function ho(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var jl=Ml(nl),ct=jc||function(e,n){return ke.setTimeout(e,n)},go=Ml(Bf);function Tl(e,n,r){var t=n+"";return go(e,ud(t,xd(sd(t),r)))}function Ml(e){var n=0,r=0;return function(){var t=kc(),o=Ae-(t-r);if(r=t,o>0){if(++n>=Dn)return arguments[0]}else n=0;return e.apply(i,arguments)}}function Zt(e,n){var r=-1,t=e.length,o=t-1;for(n=n===i?t:n;++r<n;){var a=Xi(r,o),f=e[a];e[a]=e[r],e[r]=f}return e.length=n,e}var Ul=hd(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(lu,function(r,t,o,a){n.push(o?a.replace(gu,"$1"):t||r)}),n});function Rn(e){if(typeof e=="string"||en(e))return e;var n=e+"";return n=="0"&&1/e==-pn?"-0":n}function Ar(e){if(e!=null){try{return St.call(e)}catch{}try{return e+""}catch{}}return""}function xd(e,n){return sn(jr,function(r){var t="_."+r[0];n&r[1]&&!xt(e,t)&&e.push(t)}),e.sort()}function kl(e){if(e instanceof re)return e.clone();var n=new an(e.__wrapped__,e.__chain__);return n.__actions__=Ke(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function wd(e,n,r){(r?Be(e,n,r):n===i)?n=1:n=Fe(J(n),0);var t=e==null?0:e.length;if(!t||n<1)return[];for(var o=0,a=0,f=v(Ot(t/n));o<t;)f[a++]=cn(e,o,o+=n);return f}function yd(e){for(var n=-1,r=e==null?0:e.length,t=0,o=[];++n<r;){var a=e[n];a&&(o[t++]=a)}return o}function bd(){var e=arguments.length;if(!e)return[];for(var n=v(e-1),r=arguments[0],t=e;t--;)n[t-1]=arguments[t];return rr(Z(r)?Ke(r):[r],Le(n,1))}var Cd=V(function(e,n){return we(e)?it(e,Le(n,1,we,!0)):[]}),Sd=V(function(e,n){var r=fn(n);return we(r)&&(r=i),we(e)?it(e,Le(n,1,we,!0),N(r,2)):[]}),Ad=V(function(e,n){var r=fn(n);return we(r)&&(r=i),we(e)?it(e,Le(n,1,we,!0),i,r):[]});function Dd(e,n,r){var t=e==null?0:e.length;return t?(n=r||n===i?1:J(n),cn(e,n<0?0:n,t)):[]}function Ed(e,n,r){var t=e==null?0:e.length;return t?(n=r||n===i?1:J(n),n=t-n,cn(e,0,n<0?0:n)):[]}function Id(e,n){return e&&e.length?Bt(e,N(n,3),!0,!0):[]}function Fd(e,n){return e&&e.length?Bt(e,N(n,3),!0):[]}function Rd(e,n,r,t){var o=e==null?0:e.length;return o?(r&&typeof r!="number"&&Be(e,n,r)&&(r=0,t=o),bf(e,n,r,t)):[]}function Ll(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var o=r==null?0:J(r);return o<0&&(o=Fe(t+o,0)),wt(e,N(n,3),o)}function zl(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var o=t-1;return r!==i&&(o=J(r),o=r<0?Fe(t+o,0):ze(o,t-1)),wt(e,N(n,3),o,!0)}function Wl(e){var n=e==null?0:e.length;return n?Le(e,1):[]}function Od(e){var n=e==null?0:e.length;return n?Le(e,pn):[]}function jd(e,n){var r=e==null?0:e.length;return r?(n=n===i?1:J(n),Le(e,n)):[]}function Td(e){for(var n=-1,r=e==null?0:e.length,t={};++n<r;){var o=e[n];t[o[0]]=o[1]}return t}function Nl(e){return e&&e.length?e[0]:i}function Md(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var o=r==null?0:J(r);return o<0&&(o=Fe(t+o,0)),Ur(e,n,o)}function Ud(e){var n=e==null?0:e.length;return n?cn(e,0,-1):[]}var kd=V(function(e){var n=me(e,no);return n.length&&n[0]===e[0]?Hi(n):[]}),Ld=V(function(e){var n=fn(e),r=me(e,no);return n===fn(r)?n=i:r.pop(),r.length&&r[0]===e[0]?Hi(r,N(n,2)):[]}),zd=V(function(e){var n=fn(e),r=me(e,no);return n=typeof n=="function"?n:i,n&&r.pop(),r.length&&r[0]===e[0]?Hi(r,i,n):[]});function Wd(e,n){return e==null?"":Mc.call(e,n)}function fn(e){var n=e==null?0:e.length;return n?e[n-1]:i}function Nd(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var o=t;return r!==i&&(o=J(r),o=o<0?Fe(t+o,0):ze(o,t-1)),n===n?_c(e,n,o):wt(e,ws,o,!0)}function Bd(e,n){return e&&e.length?Js(e,J(n)):i}var Pd=V(Bl);function Bl(e,n){return e&&e.length&&n&&n.length?Zi(e,n):e}function $d(e,n,r){return e&&e.length&&n&&n.length?Zi(e,n,N(r,2)):e}function Gd(e,n,r){return e&&e.length&&n&&n.length?Zi(e,n,i,r):e}var Hd=qn(function(e,n){var r=e==null?0:e.length,t=Bi(e,n);return el(e,me(n,function(o){return Kn(o,r)?+o:o}).sort(cl)),t});function qd(e,n){var r=[];if(!(e&&e.length))return r;var t=-1,o=[],a=e.length;for(n=N(n,3);++t<a;){var f=e[t];n(f,t,e)&&(r.push(f),o.push(t))}return el(e,o),r}function vo(e){return e==null?e:zc.call(e)}function Kd(e,n,r){var t=e==null?0:e.length;return t?(r&&typeof r!="number"&&Be(e,n,r)?(n=0,r=t):(n=n==null?0:J(n),r=r===i?t:J(r)),cn(e,n,r)):[]}function Yd(e,n){return Nt(e,n)}function Zd(e,n,r){return Qi(e,n,N(r,2))}function Xd(e,n){var r=e==null?0:e.length;if(r){var t=Nt(e,n);if(t<r&&yn(e[t],n))return t}return-1}function Jd(e,n){return Nt(e,n,!0)}function Qd(e,n,r){return Qi(e,n,N(r,2),!0)}function Vd(e,n){var r=e==null?0:e.length;if(r){var t=Nt(e,n,!0)-1;if(yn(e[t],n))return t}return-1}function ep(e){return e&&e.length?rl(e):[]}function np(e,n){return e&&e.length?rl(e,N(n,2)):[]}function rp(e){var n=e==null?0:e.length;return n?cn(e,1,n):[]}function tp(e,n,r){return e&&e.length?(n=r||n===i?1:J(n),cn(e,0,n<0?0:n)):[]}function ip(e,n,r){var t=e==null?0:e.length;return t?(n=r||n===i?1:J(n),n=t-n,cn(e,n<0?0:n,t)):[]}function op(e,n){return e&&e.length?Bt(e,N(n,3),!1,!0):[]}function sp(e,n){return e&&e.length?Bt(e,N(n,3)):[]}var lp=V(function(e){return sr(Le(e,1,we,!0))}),ap=V(function(e){var n=fn(e);return we(n)&&(n=i),sr(Le(e,1,we,!0),N(n,2))}),up=V(function(e){var n=fn(e);return n=typeof n=="function"?n:i,sr(Le(e,1,we,!0),i,n)});function cp(e){return e&&e.length?sr(e):[]}function fp(e,n){return e&&e.length?sr(e,N(n,2)):[]}function dp(e,n){return n=typeof n=="function"?n:i,e&&e.length?sr(e,i,n):[]}function mo(e){if(!(e&&e.length))return[];var n=0;return e=nr(e,function(r){if(we(r))return n=Fe(r.length,n),!0}),Ti(n,function(r){return me(e,Ri(r))})}function Pl(e,n){if(!(e&&e.length))return[];var r=mo(e);return n==null?r:me(r,function(t){return Je(n,i,t)})}var pp=V(function(e,n){return we(e)?it(e,n):[]}),hp=V(function(e){return eo(nr(e,we))}),gp=V(function(e){var n=fn(e);return we(n)&&(n=i),eo(nr(e,we),N(n,2))}),vp=V(function(e){var n=fn(e);return n=typeof n=="function"?n:i,eo(nr(e,we),i,n)}),mp=V(mo);function _p(e,n){return sl(e||[],n||[],tt)}function xp(e,n){return sl(e||[],n||[],lt)}var wp=V(function(e){var n=e.length,r=n>1?e[n-1]:i;return r=typeof r=="function"?(e.pop(),r):i,Pl(e,r)});function $l(e){var n=s(e);return n.__chain__=!0,n}function yp(e,n){return n(e),e}function Xt(e,n){return n(e)}var bp=qn(function(e){var n=e.length,r=n?e[0]:0,t=this.__wrapped__,o=function(a){return Bi(a,e)};return n>1||this.__actions__.length||!(t instanceof re)||!Kn(r)?this.thru(o):(t=t.slice(r,+r+(n?1:0)),t.__actions__.push({func:Xt,args:[o],thisArg:i}),new an(t,this.__chain__).thru(function(a){return n&&!a.length&&a.push(i),a}))});function Cp(){return $l(this)}function Sp(){return new an(this.value(),this.__chain__)}function Ap(){this.__values__===i&&(this.__values__=ta(this.value()));var e=this.__index__>=this.__values__.length,n=e?i:this.__values__[this.__index__++];return{done:e,value:n}}function Dp(){return this}function Ep(e){for(var n,r=this;r instanceof Ut;){var t=kl(r);t.__index__=0,t.__values__=i,n?o.__wrapped__=t:n=t;var o=t;r=r.__wrapped__}return o.__wrapped__=e,n}function Ip(){var e=this.__wrapped__;if(e instanceof re){var n=e;return this.__actions__.length&&(n=new re(this)),n=n.reverse(),n.__actions__.push({func:Xt,args:[vo],thisArg:i}),new an(n,this.__chain__)}return this.thru(vo)}function Fp(){return ol(this.__wrapped__,this.__actions__)}var Rp=Pt(function(e,n,r){ae.call(e,r)?++e[r]:Gn(e,r,1)});function Op(e,n,r){var t=Z(e)?_s:yf;return r&&Be(e,n,r)&&(n=i),t(e,N(n,3))}function jp(e,n){var r=Z(e)?nr:Ps;return r(e,N(n,3))}var Tp=vl(Ll),Mp=vl(zl);function Up(e,n){return Le(Jt(e,n),1)}function kp(e,n){return Le(Jt(e,n),pn)}function Lp(e,n,r){return r=r===i?1:J(r),Le(Jt(e,n),r)}function Gl(e,n){var r=Z(e)?sn:or;return r(e,N(n,3))}function Hl(e,n){var r=Z(e)?nc:Bs;return r(e,N(n,3))}var zp=Pt(function(e,n,r){ae.call(e,r)?e[r].push(n):Gn(e,r,[n])});function Wp(e,n,r,t){e=Ye(e)?e:Kr(e),r=r&&!t?J(r):0;var o=e.length;return r<0&&(r=Fe(o+r,0)),ri(e)?r<=o&&e.indexOf(n,r)>-1:!!o&&Ur(e,n,r)>-1}var Np=V(function(e,n,r){var t=-1,o=typeof n=="function",a=Ye(e)?v(e.length):[];return or(e,function(f){a[++t]=o?Je(n,f,r):ot(f,n,r)}),a}),Bp=Pt(function(e,n,r){Gn(e,r,n)});function Jt(e,n){var r=Z(e)?me:Ys;return r(e,N(n,3))}function Pp(e,n,r,t){return e==null?[]:(Z(n)||(n=n==null?[]:[n]),r=t?i:r,Z(r)||(r=r==null?[]:[r]),Qs(e,n,r))}var $p=Pt(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]});function Gp(e,n,r){var t=Z(e)?Ii:bs,o=arguments.length<3;return t(e,N(n,4),r,o,or)}function Hp(e,n,r){var t=Z(e)?rc:bs,o=arguments.length<3;return t(e,N(n,4),r,o,Bs)}function qp(e,n){var r=Z(e)?nr:Ps;return r(e,ei(N(n,3)))}function Kp(e){var n=Z(e)?Ls:Wf;return n(e)}function Yp(e,n,r){(r?Be(e,n,r):n===i)?n=1:n=J(n);var t=Z(e)?vf:Nf;return t(e,n)}function Zp(e){var n=Z(e)?mf:Pf;return n(e)}function Xp(e){if(e==null)return 0;if(Ye(e))return ri(e)?Lr(e):e.length;var n=We(e);return n==Se||n==D?e.size:Ki(e).length}function Jp(e,n,r){var t=Z(e)?Fi:$f;return r&&Be(e,n,r)&&(n=i),t(e,N(n,3))}var Qp=V(function(e,n){if(e==null)return[];var r=n.length;return r>1&&Be(e,n[0],n[1])?n=[]:r>2&&Be(n[0],n[1],n[2])&&(n=[n[0]]),Qs(e,Le(n,1),[])}),Qt=Oc||function(){return ke.Date.now()};function Vp(e,n){if(typeof n!="function")throw new ln(x);return e=J(e),function(){if(--e<1)return n.apply(this,arguments)}}function ql(e,n,r){return n=r?i:n,n=e&&n==null?e.length:n,Hn(e,W,i,i,i,i,n)}function Kl(e,n){var r;if(typeof n!="function")throw new ln(x);return e=J(e),function(){return--e>0&&(r=n.apply(this,arguments)),e<=1&&(n=i),r}}var _o=V(function(e,n,r){var t=U;if(r.length){var o=tr(r,Hr(_o));t|=k}return Hn(e,t,n,r,o)}),Yl=V(function(e,n,r){var t=U|L;if(r.length){var o=tr(r,Hr(Yl));t|=k}return Hn(n,t,e,r,o)});function Zl(e,n,r){n=r?i:n;var t=Hn(e,R,i,i,i,i,i,n);return t.placeholder=Zl.placeholder,t}function Xl(e,n,r){n=r?i:n;var t=Hn(e,K,i,i,i,i,i,n);return t.placeholder=Xl.placeholder,t}function Jl(e,n,r){var t,o,a,f,d,h,y=0,b=!1,S=!1,E=!0;if(typeof e!="function")throw new ln(x);n=dn(n)||0,_e(r)&&(b=!!r.leading,S="maxWait"in r,a=S?Fe(dn(r.maxWait)||0,n):a,E="trailing"in r?!!r.trailing:E);function T(ye){var bn=t,Xn=o;return t=o=i,y=ye,f=e.apply(Xn,bn),f}function B(ye){return y=ye,d=ct(ne,n),b?T(ye):f}function Q(ye){var bn=ye-h,Xn=ye-y,va=n-bn;return S?ze(va,a-Xn):va}function P(ye){var bn=ye-h,Xn=ye-y;return h===i||bn>=n||bn<0||S&&Xn>=a}function ne(){var ye=Qt();if(P(ye))return te(ye);d=ct(ne,Q(ye))}function te(ye){return d=i,E&&t?T(ye):(t=o=i,f)}function nn(){d!==i&&ll(d),y=0,t=h=o=d=i}function Pe(){return d===i?f:te(Qt())}function rn(){var ye=Qt(),bn=P(ye);if(t=arguments,o=this,h=ye,bn){if(d===i)return B(h);if(S)return ll(d),d=ct(ne,n),T(h)}return d===i&&(d=ct(ne,n)),f}return rn.cancel=nn,rn.flush=Pe,rn}var eh=V(function(e,n){return Ns(e,1,n)}),nh=V(function(e,n,r){return Ns(e,dn(n)||0,r)});function rh(e){return Hn(e,fe)}function Vt(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new ln(x);var r=function(){var t=arguments,o=n?n.apply(this,t):t[0],a=r.cache;if(a.has(o))return a.get(o);var f=e.apply(this,t);return r.cache=a.set(o,f)||a,f};return r.cache=new(Vt.Cache||$n),r}Vt.Cache=$n;function ei(e){if(typeof e!="function")throw new ln(x);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function th(e){return Kl(2,e)}var ih=Gf(function(e,n){n=n.length==1&&Z(n[0])?me(n[0],Qe(N())):me(Le(n,1),Qe(N()));var r=n.length;return V(function(t){for(var o=-1,a=ze(t.length,r);++o<a;)t[o]=n[o].call(this,t[o]);return Je(e,this,t)})}),xo=V(function(e,n){var r=tr(n,Hr(xo));return Hn(e,k,i,n,r)}),Ql=V(function(e,n){var r=tr(n,Hr(Ql));return Hn(e,ee,i,n,r)}),oh=qn(function(e,n){return Hn(e,se,i,i,i,n)});function sh(e,n){if(typeof e!="function")throw new ln(x);return n=n===i?n:J(n),V(e,n)}function lh(e,n){if(typeof e!="function")throw new ln(x);return n=n==null?0:Fe(J(n),0),V(function(r){var t=r[n],o=ar(r,0,n);return t&&rr(o,t),Je(e,this,o)})}function ah(e,n,r){var t=!0,o=!0;if(typeof e!="function")throw new ln(x);return _e(r)&&(t="leading"in r?!!r.leading:t,o="trailing"in r?!!r.trailing:o),Jl(e,n,{leading:t,maxWait:n,trailing:o})}function uh(e){return ql(e,1)}function ch(e,n){return xo(ro(n),e)}function fh(){if(!arguments.length)return[];var e=arguments[0];return Z(e)?e:[e]}function dh(e){return un(e,q)}function ph(e,n){return n=typeof n=="function"?n:i,un(e,q,n)}function hh(e){return un(e,z|q)}function gh(e,n){return n=typeof n=="function"?n:i,un(e,z|q,n)}function vh(e,n){return n==null||Ws(e,n,je(n))}function yn(e,n){return e===n||e!==e&&n!==n}var mh=qt(Gi),_h=qt(function(e,n){return e>=n}),Dr=Hs(function(){return arguments}())?Hs:function(e){return xe(e)&&ae.call(e,"callee")&&!Os.call(e,"callee")},Z=v.isArray,xh=ds?Qe(ds):Ef;function Ye(e){return e!=null&&ni(e.length)&&!Yn(e)}function we(e){return xe(e)&&Ye(e)}function wh(e){return e===!0||e===!1||xe(e)&&Ne(e)==tn}var ur=Tc||Ro,yh=ps?Qe(ps):If;function bh(e){return xe(e)&&e.nodeType===1&&!ft(e)}function Ch(e){if(e==null)return!0;if(Ye(e)&&(Z(e)||typeof e=="string"||typeof e.splice=="function"||ur(e)||qr(e)||Dr(e)))return!e.length;var n=We(e);if(n==Se||n==D)return!e.size;if(ut(e))return!Ki(e).length;for(var r in e)if(ae.call(e,r))return!1;return!0}function Sh(e,n){return st(e,n)}function Ah(e,n,r){r=typeof r=="function"?r:i;var t=r?r(e,n):i;return t===i?st(e,n,i,r):!!t}function wo(e){if(!xe(e))return!1;var n=Ne(e);return n==vn||n==Vn||typeof e.message=="string"&&typeof e.name=="string"&&!ft(e)}function Dh(e){return typeof e=="number"&&Ts(e)}function Yn(e){if(!_e(e))return!1;var n=Ne(e);return n==Wn||n==er||n==zn||n==pi}function Vl(e){return typeof e=="number"&&e==J(e)}function ni(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ge}function _e(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function xe(e){return e!=null&&typeof e=="object"}var ea=hs?Qe(hs):Rf;function Eh(e,n){return e===n||qi(e,n,uo(n))}function Ih(e,n,r){return r=typeof r=="function"?r:i,qi(e,n,uo(n),r)}function Fh(e){return na(e)&&e!=+e}function Rh(e){if(pd(e))throw new Y(C);return qs(e)}function Oh(e){return e===null}function jh(e){return e==null}function na(e){return typeof e=="number"||xe(e)&&Ne(e)==mn}function ft(e){if(!xe(e)||Ne(e)!=qe)return!1;var n=It(e);if(n===null)return!0;var r=ae.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&St.call(r)==Ec}var yo=gs?Qe(gs):Of;function Th(e){return Vl(e)&&e>=-Ge&&e<=Ge}var ra=vs?Qe(vs):jf;function ri(e){return typeof e=="string"||!Z(e)&&xe(e)&&Ne(e)==X}function en(e){return typeof e=="symbol"||xe(e)&&Ne(e)==pe}var qr=ms?Qe(ms):Tf;function Mh(e){return e===i}function Uh(e){return xe(e)&&We(e)==Ee}function kh(e){return xe(e)&&Ne(e)==gr}var Lh=qt(Yi),zh=qt(function(e,n){return e<=n});function ta(e){if(!e)return[];if(Ye(e))return ri(e)?xn(e):Ke(e);if(Qr&&e[Qr])return gc(e[Qr]());var n=We(e),r=n==Se?Ui:n==D?yt:Kr;return r(e)}function Zn(e){if(!e)return e===0?e:0;if(e=dn(e),e===pn||e===-pn){var n=e<0?-1:1;return n*Jn}return e===e?e:0}function J(e){var n=Zn(e),r=n%1;return n===n?r?n-r:n:0}function ia(e){return e?br(J(e),0,Oe):0}function dn(e){if(typeof e=="number")return e;if(en(e))return Qn;if(_e(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=_e(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Cs(e);var r=_u.test(e);return r||wu.test(e)?Qu(e.slice(2),r?2:8):mu.test(e)?Qn:+e}function oa(e){return Fn(e,Ze(e))}function Wh(e){return e?br(J(e),-Ge,Ge):e===0?e:0}function le(e){return e==null?"":Ve(e)}var Nh=$r(function(e,n){if(ut(n)||Ye(n)){Fn(n,je(n),e);return}for(var r in n)ae.call(n,r)&&tt(e,r,n[r])}),sa=$r(function(e,n){Fn(n,Ze(n),e)}),ti=$r(function(e,n,r,t){Fn(n,Ze(n),e,t)}),Bh=$r(function(e,n,r,t){Fn(n,je(n),e,t)}),Ph=qn(Bi);function $h(e,n){var r=Pr(e);return n==null?r:zs(r,n)}var Gh=V(function(e,n){e=ue(e);var r=-1,t=n.length,o=t>2?n[2]:i;for(o&&Be(n[0],n[1],o)&&(t=1);++r<t;)for(var a=n[r],f=Ze(a),d=-1,h=f.length;++d<h;){var y=f[d],b=e[y];(b===i||yn(b,Wr[y])&&!ae.call(e,y))&&(e[y]=a[y])}return e}),Hh=V(function(e){return e.push(i,Cl),Je(la,i,e)});function qh(e,n){return xs(e,N(n,3),In)}function Kh(e,n){return xs(e,N(n,3),$i)}function Yh(e,n){return e==null?e:Pi(e,N(n,3),Ze)}function Zh(e,n){return e==null?e:$s(e,N(n,3),Ze)}function Xh(e,n){return e&&In(e,N(n,3))}function Jh(e,n){return e&&$i(e,N(n,3))}function Qh(e){return e==null?[]:zt(e,je(e))}function Vh(e){return e==null?[]:zt(e,Ze(e))}function bo(e,n,r){var t=e==null?i:Cr(e,n);return t===i?r:t}function eg(e,n){return e!=null&&Dl(e,n,Cf)}function Co(e,n){return e!=null&&Dl(e,n,Sf)}var ng=_l(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=At.call(n)),e[n]=r},Ao(Xe)),rg=_l(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=At.call(n)),ae.call(e,n)?e[n].push(r):e[n]=[r]},N),tg=V(ot);function je(e){return Ye(e)?ks(e):Ki(e)}function Ze(e){return Ye(e)?ks(e,!0):Mf(e)}function ig(e,n){var r={};return n=N(n,3),In(e,function(t,o,a){Gn(r,n(t,o,a),t)}),r}function og(e,n){var r={};return n=N(n,3),In(e,function(t,o,a){Gn(r,o,n(t,o,a))}),r}var sg=$r(function(e,n,r){Wt(e,n,r)}),la=$r(function(e,n,r,t){Wt(e,n,r,t)}),lg=qn(function(e,n){var r={};if(e==null)return r;var t=!1;n=me(n,function(a){return a=lr(a,e),t||(t=a.length>1),a}),Fn(e,lo(e),r),t&&(r=un(r,z|$|q,nd));for(var o=n.length;o--;)Vi(r,n[o]);return r});function ag(e,n){return aa(e,ei(N(n)))}var ug=qn(function(e,n){return e==null?{}:kf(e,n)});function aa(e,n){if(e==null)return{};var r=me(lo(e),function(t){return[t]});return n=N(n),Vs(e,r,function(t,o){return n(t,o[0])})}function cg(e,n,r){n=lr(n,e);var t=-1,o=n.length;for(o||(o=1,e=i);++t<o;){var a=e==null?i:e[Rn(n[t])];a===i&&(t=o,a=r),e=Yn(a)?a.call(e):a}return e}function fg(e,n,r){return e==null?e:lt(e,n,r)}function dg(e,n,r,t){return t=typeof t=="function"?t:i,e==null?e:lt(e,n,r,t)}var ua=yl(je),ca=yl(Ze);function pg(e,n,r){var t=Z(e),o=t||ur(e)||qr(e);if(n=N(n,4),r==null){var a=e&&e.constructor;o?r=t?new a:[]:_e(e)?r=Yn(a)?Pr(It(e)):{}:r={}}return(o?sn:In)(e,function(f,d,h){return n(r,f,d,h)}),r}function hg(e,n){return e==null?!0:Vi(e,n)}function gg(e,n,r){return e==null?e:il(e,n,ro(r))}function vg(e,n,r,t){return t=typeof t=="function"?t:i,e==null?e:il(e,n,ro(r),t)}function Kr(e){return e==null?[]:Mi(e,je(e))}function mg(e){return e==null?[]:Mi(e,Ze(e))}function _g(e,n,r){return r===i&&(r=n,n=i),r!==i&&(r=dn(r),r=r===r?r:0),n!==i&&(n=dn(n),n=n===n?n:0),br(dn(e),n,r)}function xg(e,n,r){return n=Zn(n),r===i?(r=n,n=0):r=Zn(r),e=dn(e),Af(e,n,r)}function wg(e,n,r){if(r&&typeof r!="boolean"&&Be(e,n,r)&&(n=r=i),r===i&&(typeof n=="boolean"?(r=n,n=i):typeof e=="boolean"&&(r=e,e=i)),e===i&&n===i?(e=0,n=1):(e=Zn(e),n===i?(n=e,e=0):n=Zn(n)),e>n){var t=e;e=n,n=t}if(r||e%1||n%1){var o=Ms();return ze(e+o*(n-e+Ju("1e-"+((o+"").length-1))),n)}return Xi(e,n)}var yg=Gr(function(e,n,r){return n=n.toLowerCase(),e+(r?fa(n):n)});function fa(e){return So(le(e).toLowerCase())}function da(e){return e=le(e),e&&e.replace(bu,cc).replace(Bu,"")}function bg(e,n,r){e=le(e),n=Ve(n);var t=e.length;r=r===i?t:br(J(r),0,t);var o=r;return r-=n.length,r>=0&&e.slice(r,o)==n}function Cg(e){return e=le(e),e&&ru.test(e)?e.replace($o,fc):e}function Sg(e){return e=le(e),e&&au.test(e)?e.replace(_i,"\\$&"):e}var Ag=Gr(function(e,n,r){return e+(r?"-":"")+n.toLowerCase()}),Dg=Gr(function(e,n,r){return e+(r?" ":"")+n.toLowerCase()}),Eg=gl("toLowerCase");function Ig(e,n,r){e=le(e),n=J(n);var t=n?Lr(e):0;if(!n||t>=n)return e;var o=(n-t)/2;return Ht(jt(o),r)+e+Ht(Ot(o),r)}function Fg(e,n,r){e=le(e),n=J(n);var t=n?Lr(e):0;return n&&t<n?e+Ht(n-t,r):e}function Rg(e,n,r){e=le(e),n=J(n);var t=n?Lr(e):0;return n&&t<n?Ht(n-t,r)+e:e}function Og(e,n,r){return r||n==null?n=0:n&&(n=+n),Lc(le(e).replace(xi,""),n||0)}function jg(e,n,r){return(r?Be(e,n,r):n===i)?n=1:n=J(n),Ji(le(e),n)}function Tg(){var e=arguments,n=le(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var Mg=Gr(function(e,n,r){return e+(r?"_":"")+n.toLowerCase()});function Ug(e,n,r){return r&&typeof r!="number"&&Be(e,n,r)&&(n=r=i),r=r===i?Oe:r>>>0,r?(e=le(e),e&&(typeof n=="string"||n!=null&&!yo(n))&&(n=Ve(n),!n&&kr(e))?ar(xn(e),0,r):e.split(n,r)):[]}var kg=Gr(function(e,n,r){return e+(r?" ":"")+So(n)});function Lg(e,n,r){return e=le(e),r=r==null?0:br(J(r),0,e.length),n=Ve(n),e.slice(r,r+n.length)==n}function zg(e,n,r){var t=s.templateSettings;r&&Be(e,n,r)&&(n=i),e=le(e),n=ti({},n,t,bl);var o=ti({},n.imports,t.imports,bl),a=je(o),f=Mi(o,a),d,h,y=0,b=n.interpolate||vt,S="__p += '",E=ki((n.escape||vt).source+"|"+b.source+"|"+(b===Go?vu:vt).source+"|"+(n.evaluate||vt).source+"|$","g"),T="//# sourceURL="+(ae.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qu+"]")+`
`;e.replace(E,function(P,ne,te,nn,Pe,rn){return te||(te=nn),S+=e.slice(y,rn).replace(Cu,dc),ne&&(d=!0,S+=`' +
__e(`+ne+`) +
'`),Pe&&(h=!0,S+=`';
`+Pe+`;
__p += '`),te&&(S+=`' +
((__t = (`+te+`)) == null ? '' : __t) +
'`),y=rn+P.length,P}),S+=`';
`;var B=ae.call(n,"variable")&&n.variable;if(!B)S=`with (obj) {
`+S+`
}
`;else if(hu.test(B))throw new Y(w);S=(h?S.replace(Qa,""):S).replace(Va,"$1").replace(eu,"$1;"),S="function("+(B||"obj")+`) {
`+(B?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(d?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+S+`return __p
}`;var Q=ha(function(){return oe(a,T+"return "+S).apply(i,f)});if(Q.source=S,wo(Q))throw Q;return Q}function Wg(e){return le(e).toLowerCase()}function Ng(e){return le(e).toUpperCase()}function Bg(e,n,r){if(e=le(e),e&&(r||n===i))return Cs(e);if(!e||!(n=Ve(n)))return e;var t=xn(e),o=xn(n),a=Ss(t,o),f=As(t,o)+1;return ar(t,a,f).join("")}function Pg(e,n,r){if(e=le(e),e&&(r||n===i))return e.slice(0,Es(e)+1);if(!e||!(n=Ve(n)))return e;var t=xn(e),o=As(t,xn(n))+1;return ar(t,0,o).join("")}function $g(e,n,r){if(e=le(e),e&&(r||n===i))return e.replace(xi,"");if(!e||!(n=Ve(n)))return e;var t=xn(e),o=Ss(t,xn(n));return ar(t,o).join("")}function Gg(e,n){var r=Ce,t=An;if(_e(n)){var o="separator"in n?n.separator:o;r="length"in n?J(n.length):r,t="omission"in n?Ve(n.omission):t}e=le(e);var a=e.length;if(kr(e)){var f=xn(e);a=f.length}if(r>=a)return e;var d=r-Lr(t);if(d<1)return t;var h=f?ar(f,0,d).join(""):e.slice(0,d);if(o===i)return h+t;if(f&&(d+=h.length-d),yo(o)){if(e.slice(d).search(o)){var y,b=h;for(o.global||(o=ki(o.source,le(Ho.exec(o))+"g")),o.lastIndex=0;y=o.exec(b);)var S=y.index;h=h.slice(0,S===i?d:S)}}else if(e.indexOf(Ve(o),d)!=d){var E=h.lastIndexOf(o);E>-1&&(h=h.slice(0,E))}return h+t}function Hg(e){return e=le(e),e&&nu.test(e)?e.replace(Po,xc):e}var qg=Gr(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()}),So=gl("toUpperCase");function pa(e,n,r){return e=le(e),n=r?i:n,n===i?hc(e)?bc(e):oc(e):e.match(n)||[]}var ha=V(function(e,n){try{return Je(e,i,n)}catch(r){return wo(r)?r:new Y(r)}}),Kg=qn(function(e,n){return sn(n,function(r){r=Rn(r),Gn(e,r,_o(e[r],e))}),e});function Yg(e){var n=e==null?0:e.length,r=N();return e=n?me(e,function(t){if(typeof t[1]!="function")throw new ln(x);return[r(t[0]),t[1]]}):[],V(function(t){for(var o=-1;++o<n;){var a=e[o];if(Je(a[0],this,t))return Je(a[1],this,t)}})}function Zg(e){return wf(un(e,z))}function Ao(e){return function(){return e}}function Xg(e,n){return e==null||e!==e?n:e}var Jg=ml(),Qg=ml(!0);function Xe(e){return e}function Do(e){return Ks(typeof e=="function"?e:un(e,z))}function Vg(e){return Zs(un(e,z))}function ev(e,n){return Xs(e,un(n,z))}var nv=V(function(e,n){return function(r){return ot(r,e,n)}}),rv=V(function(e,n){return function(r){return ot(e,r,n)}});function Eo(e,n,r){var t=je(n),o=zt(n,t);r==null&&!(_e(n)&&(o.length||!t.length))&&(r=n,n=e,e=this,o=zt(n,je(n)));var a=!(_e(r)&&"chain"in r)||!!r.chain,f=Yn(e);return sn(o,function(d){var h=n[d];e[d]=h,f&&(e.prototype[d]=function(){var y=this.__chain__;if(a||y){var b=e(this.__wrapped__),S=b.__actions__=Ke(this.__actions__);return S.push({func:h,args:arguments,thisArg:e}),b.__chain__=y,b}return h.apply(e,rr([this.value()],arguments))})}),e}function tv(){return ke._===this&&(ke._=Ic),this}function Io(){}function iv(e){return e=J(e),V(function(n){return Js(n,e)})}var ov=io(me),sv=io(_s),lv=io(Fi);function ga(e){return fo(e)?Ri(Rn(e)):Lf(e)}function av(e){return function(n){return e==null?i:Cr(e,n)}}var uv=xl(),cv=xl(!0);function Fo(){return[]}function Ro(){return!1}function fv(){return{}}function dv(){return""}function pv(){return!0}function hv(e,n){if(e=J(e),e<1||e>Ge)return[];var r=Oe,t=ze(e,Oe);n=N(n),e-=Oe;for(var o=Ti(t,n);++r<e;)n(r);return o}function gv(e){return Z(e)?me(e,Rn):en(e)?[e]:Ke(Ul(le(e)))}function vv(e){var n=++Dc;return le(e)+n}var mv=Gt(function(e,n){return e+n},0),_v=oo("ceil"),xv=Gt(function(e,n){return e/n},1),wv=oo("floor");function yv(e){return e&&e.length?Lt(e,Xe,Gi):i}function bv(e,n){return e&&e.length?Lt(e,N(n,2),Gi):i}function Cv(e){return ys(e,Xe)}function Sv(e,n){return ys(e,N(n,2))}function Av(e){return e&&e.length?Lt(e,Xe,Yi):i}function Dv(e,n){return e&&e.length?Lt(e,N(n,2),Yi):i}var Ev=Gt(function(e,n){return e*n},1),Iv=oo("round"),Fv=Gt(function(e,n){return e-n},0);function Rv(e){return e&&e.length?ji(e,Xe):0}function Ov(e,n){return e&&e.length?ji(e,N(n,2)):0}return s.after=Vp,s.ary=ql,s.assign=Nh,s.assignIn=sa,s.assignInWith=ti,s.assignWith=Bh,s.at=Ph,s.before=Kl,s.bind=_o,s.bindAll=Kg,s.bindKey=Yl,s.castArray=fh,s.chain=$l,s.chunk=wd,s.compact=yd,s.concat=bd,s.cond=Yg,s.conforms=Zg,s.constant=Ao,s.countBy=Rp,s.create=$h,s.curry=Zl,s.curryRight=Xl,s.debounce=Jl,s.defaults=Gh,s.defaultsDeep=Hh,s.defer=eh,s.delay=nh,s.difference=Cd,s.differenceBy=Sd,s.differenceWith=Ad,s.drop=Dd,s.dropRight=Ed,s.dropRightWhile=Id,s.dropWhile=Fd,s.fill=Rd,s.filter=jp,s.flatMap=Up,s.flatMapDeep=kp,s.flatMapDepth=Lp,s.flatten=Wl,s.flattenDeep=Od,s.flattenDepth=jd,s.flip=rh,s.flow=Jg,s.flowRight=Qg,s.fromPairs=Td,s.functions=Qh,s.functionsIn=Vh,s.groupBy=zp,s.initial=Ud,s.intersection=kd,s.intersectionBy=Ld,s.intersectionWith=zd,s.invert=ng,s.invertBy=rg,s.invokeMap=Np,s.iteratee=Do,s.keyBy=Bp,s.keys=je,s.keysIn=Ze,s.map=Jt,s.mapKeys=ig,s.mapValues=og,s.matches=Vg,s.matchesProperty=ev,s.memoize=Vt,s.merge=sg,s.mergeWith=la,s.method=nv,s.methodOf=rv,s.mixin=Eo,s.negate=ei,s.nthArg=iv,s.omit=lg,s.omitBy=ag,s.once=th,s.orderBy=Pp,s.over=ov,s.overArgs=ih,s.overEvery=sv,s.overSome=lv,s.partial=xo,s.partialRight=Ql,s.partition=$p,s.pick=ug,s.pickBy=aa,s.property=ga,s.propertyOf=av,s.pull=Pd,s.pullAll=Bl,s.pullAllBy=$d,s.pullAllWith=Gd,s.pullAt=Hd,s.range=uv,s.rangeRight=cv,s.rearg=oh,s.reject=qp,s.remove=qd,s.rest=sh,s.reverse=vo,s.sampleSize=Yp,s.set=fg,s.setWith=dg,s.shuffle=Zp,s.slice=Kd,s.sortBy=Qp,s.sortedUniq=ep,s.sortedUniqBy=np,s.split=Ug,s.spread=lh,s.tail=rp,s.take=tp,s.takeRight=ip,s.takeRightWhile=op,s.takeWhile=sp,s.tap=yp,s.throttle=ah,s.thru=Xt,s.toArray=ta,s.toPairs=ua,s.toPairsIn=ca,s.toPath=gv,s.toPlainObject=oa,s.transform=pg,s.unary=uh,s.union=lp,s.unionBy=ap,s.unionWith=up,s.uniq=cp,s.uniqBy=fp,s.uniqWith=dp,s.unset=hg,s.unzip=mo,s.unzipWith=Pl,s.update=gg,s.updateWith=vg,s.values=Kr,s.valuesIn=mg,s.without=pp,s.words=pa,s.wrap=ch,s.xor=hp,s.xorBy=gp,s.xorWith=vp,s.zip=mp,s.zipObject=_p,s.zipObjectDeep=xp,s.zipWith=wp,s.entries=ua,s.entriesIn=ca,s.extend=sa,s.extendWith=ti,Eo(s,s),s.add=mv,s.attempt=ha,s.camelCase=yg,s.capitalize=fa,s.ceil=_v,s.clamp=_g,s.clone=dh,s.cloneDeep=hh,s.cloneDeepWith=gh,s.cloneWith=ph,s.conformsTo=vh,s.deburr=da,s.defaultTo=Xg,s.divide=xv,s.endsWith=bg,s.eq=yn,s.escape=Cg,s.escapeRegExp=Sg,s.every=Op,s.find=Tp,s.findIndex=Ll,s.findKey=qh,s.findLast=Mp,s.findLastIndex=zl,s.findLastKey=Kh,s.floor=wv,s.forEach=Gl,s.forEachRight=Hl,s.forIn=Yh,s.forInRight=Zh,s.forOwn=Xh,s.forOwnRight=Jh,s.get=bo,s.gt=mh,s.gte=_h,s.has=eg,s.hasIn=Co,s.head=Nl,s.identity=Xe,s.includes=Wp,s.indexOf=Md,s.inRange=xg,s.invoke=tg,s.isArguments=Dr,s.isArray=Z,s.isArrayBuffer=xh,s.isArrayLike=Ye,s.isArrayLikeObject=we,s.isBoolean=wh,s.isBuffer=ur,s.isDate=yh,s.isElement=bh,s.isEmpty=Ch,s.isEqual=Sh,s.isEqualWith=Ah,s.isError=wo,s.isFinite=Dh,s.isFunction=Yn,s.isInteger=Vl,s.isLength=ni,s.isMap=ea,s.isMatch=Eh,s.isMatchWith=Ih,s.isNaN=Fh,s.isNative=Rh,s.isNil=jh,s.isNull=Oh,s.isNumber=na,s.isObject=_e,s.isObjectLike=xe,s.isPlainObject=ft,s.isRegExp=yo,s.isSafeInteger=Th,s.isSet=ra,s.isString=ri,s.isSymbol=en,s.isTypedArray=qr,s.isUndefined=Mh,s.isWeakMap=Uh,s.isWeakSet=kh,s.join=Wd,s.kebabCase=Ag,s.last=fn,s.lastIndexOf=Nd,s.lowerCase=Dg,s.lowerFirst=Eg,s.lt=Lh,s.lte=zh,s.max=yv,s.maxBy=bv,s.mean=Cv,s.meanBy=Sv,s.min=Av,s.minBy=Dv,s.stubArray=Fo,s.stubFalse=Ro,s.stubObject=fv,s.stubString=dv,s.stubTrue=pv,s.multiply=Ev,s.nth=Bd,s.noConflict=tv,s.noop=Io,s.now=Qt,s.pad=Ig,s.padEnd=Fg,s.padStart=Rg,s.parseInt=Og,s.random=wg,s.reduce=Gp,s.reduceRight=Hp,s.repeat=jg,s.replace=Tg,s.result=cg,s.round=Iv,s.runInContext=p,s.sample=Kp,s.size=Xp,s.snakeCase=Mg,s.some=Jp,s.sortedIndex=Yd,s.sortedIndexBy=Zd,s.sortedIndexOf=Xd,s.sortedLastIndex=Jd,s.sortedLastIndexBy=Qd,s.sortedLastIndexOf=Vd,s.startCase=kg,s.startsWith=Lg,s.subtract=Fv,s.sum=Rv,s.sumBy=Ov,s.template=zg,s.times=hv,s.toFinite=Zn,s.toInteger=J,s.toLength=ia,s.toLower=Wg,s.toNumber=dn,s.toSafeInteger=Wh,s.toString=le,s.toUpper=Ng,s.trim=Bg,s.trimEnd=Pg,s.trimStart=$g,s.truncate=Gg,s.unescape=Hg,s.uniqueId=vv,s.upperCase=qg,s.upperFirst=So,s.each=Gl,s.eachRight=Hl,s.first=Nl,Eo(s,function(){var e={};return In(s,function(n,r){ae.call(s.prototype,r)||(e[r]=n)}),e}(),{chain:!1}),s.VERSION=g,sn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),sn(["drop","take"],function(e,n){re.prototype[e]=function(r){r=r===i?1:Fe(J(r),0);var t=this.__filtered__&&!n?new re(this):this.clone();return t.__filtered__?t.__takeCount__=ze(r,t.__takeCount__):t.__views__.push({size:ze(r,Oe),type:e+(t.__dir__<0?"Right":"")}),t},re.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),sn(["filter","map","takeWhile"],function(e,n){var r=n+1,t=r==Me||r==Ue;re.prototype[e]=function(o){var a=this.clone();return a.__iteratees__.push({iteratee:N(o,3),type:r}),a.__filtered__=a.__filtered__||t,a}}),sn(["head","last"],function(e,n){var r="take"+(n?"Right":"");re.prototype[e]=function(){return this[r](1).value()[0]}}),sn(["initial","tail"],function(e,n){var r="drop"+(n?"":"Right");re.prototype[e]=function(){return this.__filtered__?new re(this):this[r](1)}}),re.prototype.compact=function(){return this.filter(Xe)},re.prototype.find=function(e){return this.filter(e).head()},re.prototype.findLast=function(e){return this.reverse().find(e)},re.prototype.invokeMap=V(function(e,n){return typeof e=="function"?new re(this):this.map(function(r){return ot(r,e,n)})}),re.prototype.reject=function(e){return this.filter(ei(N(e)))},re.prototype.slice=function(e,n){e=J(e);var r=this;return r.__filtered__&&(e>0||n<0)?new re(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==i&&(n=J(n),r=n<0?r.dropRight(-n):r.take(n-e)),r)},re.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},re.prototype.toArray=function(){return this.take(Oe)},In(re.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),t=/^(?:head|last)$/.test(n),o=s[t?"take"+(n=="last"?"Right":""):n],a=t||/^find/.test(n);o&&(s.prototype[n]=function(){var f=this.__wrapped__,d=t?[1]:arguments,h=f instanceof re,y=d[0],b=h||Z(f),S=function(ne){var te=o.apply(s,rr([ne],d));return t&&E?te[0]:te};b&&r&&typeof y=="function"&&y.length!=1&&(h=b=!1);var E=this.__chain__,T=!!this.__actions__.length,B=a&&!E,Q=h&&!T;if(!a&&b){f=Q?f:new re(this);var P=e.apply(f,d);return P.__actions__.push({func:Xt,args:[S],thisArg:i}),new an(P,E)}return B&&Q?e.apply(this,d):(P=this.thru(S),B?t?P.value()[0]:P.value():P)})}),sn(["pop","push","shift","sort","splice","unshift"],function(e){var n=bt[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",t=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var o=arguments;if(t&&!this.__chain__){var a=this.value();return n.apply(Z(a)?a:[],o)}return this[r](function(f){return n.apply(Z(f)?f:[],o)})}}),In(re.prototype,function(e,n){var r=s[n];if(r){var t=r.name+"";ae.call(Br,t)||(Br[t]=[]),Br[t].push({name:n,func:r})}}),Br[$t(i,L).name]=[{name:"wrapper",func:i}],re.prototype.clone=Gc,re.prototype.reverse=Hc,re.prototype.value=qc,s.prototype.at=bp,s.prototype.chain=Cp,s.prototype.commit=Sp,s.prototype.next=Ap,s.prototype.plant=Ep,s.prototype.reverse=Ip,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=Fp,s.prototype.first=s.prototype.head,Qr&&(s.prototype[Qr]=Dp),s},zr=Cc();_r?((_r.exports=zr)._=zr,Ai._=zr):ke._=zr}).call(dt)})(li,li.exports);var ya=li.exports;const Fm=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ht(l,c){const i=Rm(l);if(typeof i.path!="string"){const{webkitRelativePath:g}=l;Object.defineProperty(i,"path",{value:typeof c=="string"?c:typeof g=="string"&&g.length>0?g:l.name,writable:!1,configurable:!1,enumerable:!0})}return i}function Rm(l){const{name:c}=l;if(c&&c.lastIndexOf(".")!==-1&&!l.type){const g=c.split(".").pop().toLowerCase(),_=Fm.get(g);_&&Object.defineProperty(l,"type",{value:_,writable:!1,configurable:!1,enumerable:!0})}return l}var Zr=(l,c,i)=>new Promise((g,_)=>{var C=A=>{try{w(i.next(A))}catch(F){_(F)}},x=A=>{try{w(i.throw(A))}catch(F){_(F)}},w=A=>A.done?g(A.value):Promise.resolve(A.value).then(C,x);w((i=i.apply(l,c)).next())});const Om=[".DS_Store","Thumbs.db"];function jm(l){return Zr(this,null,function*(){return ai(l)&&Tm(l.dataTransfer)?Lm(l.dataTransfer,l.type):Mm(l)?Um(l):Array.isArray(l)&&l.every(c=>"getFile"in c&&typeof c.getFile=="function")?km(l):[]})}function Tm(l){return ai(l)}function Mm(l){return ai(l)&&ai(l.target)}function ai(l){return typeof l=="object"&&l!==null}function Um(l){return jo(l.target.files).map(c=>ht(c))}function km(l){return Zr(this,null,function*(){return(yield Promise.all(l.map(i=>i.getFile()))).map(i=>ht(i))})}function Lm(l,c){return Zr(this,null,function*(){if(l.items){const i=jo(l.items).filter(_=>_.kind==="file");if(c!=="drop")return i;const g=yield Promise.all(i.map(zm));return ba(Ba(g))}return ba(jo(l.files).map(i=>ht(i)))})}function ba(l){return l.filter(c=>Om.indexOf(c.name)===-1)}function jo(l){if(l===null)return[];const c=[];for(let i=0;i<l.length;i++){const g=l[i];c.push(g)}return c}function zm(l){if(typeof l.webkitGetAsEntry!="function")return Ca(l);const c=l.webkitGetAsEntry();return c&&c.isDirectory?Pa(c):Ca(l)}function Ba(l){return l.reduce((c,i)=>[...c,...Array.isArray(i)?Ba(i):[i]],[])}function Ca(l){const c=l.getAsFile();if(!c)return Promise.reject(`${l} is not a File`);const i=ht(c);return Promise.resolve(i)}function Wm(l){return Zr(this,null,function*(){return l.isDirectory?Pa(l):Nm(l)})}function Pa(l){const c=l.createReader();return new Promise((i,g)=>{const _=[];function C(){c.readEntries(x=>Zr(this,null,function*(){if(x.length){const w=Promise.all(x.map(Wm));_.push(w),C()}else try{const w=yield Promise.all(_);i(w)}catch(w){g(w)}}),x=>{g(x)})}C()})}function Nm(l){return Zr(this,null,function*(){return new Promise((c,i)=>{l.file(g=>{const _=ht(g,l.fullPath);c(_)},g=>{i(g)})})})}function Bm(l,c){if(l&&c){const i=Array.isArray(c)?c:c.split(","),g=l.name||"",_=(l.type||"").toLowerCase(),C=_.replace(/\/.*$/,"");return i.some(x=>{const w=x.trim().toLowerCase();return w.charAt(0)==="."?g.toLowerCase().endsWith(w):w.endsWith("/*")?C===w.replace(/\/.*$/,""):_===w})}return!0}var Pm=Object.defineProperty,$m=Object.defineProperties,Gm=Object.getOwnPropertyDescriptors,Sa=Object.getOwnPropertySymbols,Hm=Object.prototype.hasOwnProperty,qm=Object.prototype.propertyIsEnumerable,Aa=(l,c,i)=>c in l?Pm(l,c,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[c]=i,Km=(l,c)=>{for(var i in c||(c={}))Hm.call(c,i)&&Aa(l,i,c[i]);if(Sa)for(var i of Sa(c))qm.call(c,i)&&Aa(l,i,c[i]);return l},Ym=(l,c)=>$m(l,Gm(c));const Zm="file-invalid-type",Xm="file-too-large",Jm="file-too-small",Qm="too-many-files",Vm=l=>{l=Array.isArray(l)&&l.length===1?l[0]:l;const c=Array.isArray(l)?`one of ${l.join(", ")}`:l;return{code:Zm,message:`File type must be ${c}`}},Da=l=>({code:Xm,message:`File is larger than ${l} ${l===1?"byte":"bytes"}`}),Ea=l=>({code:Jm,message:`File is smaller than ${l} ${l===1?"byte":"bytes"}`}),e_={code:Qm,message:"Too many files"};function $a(l,c){const i=l.type==="application/x-moz-file"||Bm(l,c);return[i,i?null:Vm(c)]}function Ga(l,c,i){if(Er(l.size))if(Er(c)&&Er(i)){if(l.size>i)return[!1,Da(i)];if(l.size<c)return[!1,Ea(c)]}else{if(Er(c)&&l.size<c)return[!1,Ea(c)];if(Er(i)&&l.size>i)return[!1,Da(i)]}return[!0,null]}function Er(l){return l!=null}function n_({files:l,accept:c,minSize:i,maxSize:g,multiple:_,maxFiles:C,validator:x}){return!_&&l.length>1||_&&C>=1&&l.length>C?!1:l.every(w=>{const[A]=$a(w,c),[F]=Ga(w,i,g),G=x?x(w):null;return A&&F&&!G})}function ui(l){return typeof l.isPropagationStopped=="function"?l.isPropagationStopped():typeof l.cancelBubble<"u"?l.cancelBubble:!1}function ii(l){return l.dataTransfer?Array.prototype.some.call(l.dataTransfer.types,c=>c==="Files"||c==="application/x-moz-file"):!!l.target&&!!l.target.files}function Ia(l){l.preventDefault()}function r_(l){return l.indexOf("MSIE")!==-1||l.indexOf("Trident/")!==-1}function t_(l){return l.indexOf("Edge/")!==-1}function i_(l=window.navigator.userAgent){return r_(l)||t_(l)}function On(...l){return(c,...i)=>l.some(g=>(!ui(c)&&g&&g(c,...i),ui(c)))}function o_(){return"showOpenFilePicker"in window}function s_(l){return Er(l)?[{description:"Files",accept:Object.entries(l).filter(([i,g])=>{let _=!0;return Ha(i)||(console.warn(`Skipped "${i}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),_=!1),(!Array.isArray(g)||!g.every(qa))&&(console.warn(`Skipped "${i}" because an invalid file extension was provided.`),_=!1),_}).reduce((i,[g,_])=>Ym(Km({},i),{[g]:_}),{})}]:l}function l_(l){if(Er(l))return Object.entries(l).reduce((c,[i,g])=>[...c,i,...g],[]).filter(c=>Ha(c)||qa(c)).join(",")}function a_(l){return l instanceof DOMException&&(l.name==="AbortError"||l.code===l.ABORT_ERR)}function u_(l){return l instanceof DOMException&&(l.name==="SecurityError"||l.code===l.SECURITY_ERR)}function Ha(l){return l==="audio/*"||l==="video/*"||l==="image/*"||l==="text/*"||/\w+\/[-+.\w]+/g.test(l)}function qa(l){return/^.*\.[\w]+$/.test(l)}var c_=Object.defineProperty,f_=Object.defineProperties,d_=Object.getOwnPropertyDescriptors,ci=Object.getOwnPropertySymbols,Ka=Object.prototype.hasOwnProperty,Ya=Object.prototype.propertyIsEnumerable,Fa=(l,c,i)=>c in l?c_(l,c,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[c]=i,$e=(l,c)=>{for(var i in c||(c={}))Ka.call(c,i)&&Fa(l,i,c[i]);if(ci)for(var i of ci(c))Ya.call(c,i)&&Fa(l,i,c[i]);return l},fr=(l,c)=>f_(l,d_(c)),fi=(l,c)=>{var i={};for(var g in l)Ka.call(l,g)&&c.indexOf(g)<0&&(i[g]=l[g]);if(l!=null&&ci)for(var g of ci(l))c.indexOf(g)<0&&Ya.call(l,g)&&(i[g]=l[g]);return i};const Wo=M.forwardRef((l,c)=>{var i=l,{children:g}=i,_=fi(i,["children"]);const C=Xa(_),{open:x}=C,w=fi(C,["open"]);return M.useImperativeHandle(c,()=>({open:x}),[x]),Uv.createElement(M.Fragment,null,g(fr($e({},w),{open:x})))});Wo.displayName="Dropzone";const Za={disabled:!1,getFilesFromEvent:jm,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Wo.defaultProps=Za;Wo.propTypes={children:ce.func,accept:ce.objectOf(ce.arrayOf(ce.string)),multiple:ce.bool,preventDropOnDocument:ce.bool,noClick:ce.bool,noKeyboard:ce.bool,noDrag:ce.bool,noDragEventsBubbling:ce.bool,minSize:ce.number,maxSize:ce.number,maxFiles:ce.number,disabled:ce.bool,getFilesFromEvent:ce.func,onFileDialogCancel:ce.func,onFileDialogOpen:ce.func,useFsAccessApi:ce.bool,autoFocus:ce.bool,onDragEnter:ce.func,onDragLeave:ce.func,onDragOver:ce.func,onDrop:ce.func,onDropAccepted:ce.func,onDropRejected:ce.func,onError:ce.func,validator:ce.func};const To={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Xa(l={}){const{accept:c,disabled:i,getFilesFromEvent:g,maxSize:_,minSize:C,multiple:x,maxFiles:w,onDragEnter:A,onDragLeave:F,onDragOver:G,onDrop:z,onDropAccepted:$,onDropRejected:q,onFileDialogCancel:H,onFileDialogOpen:I,useFsAccessApi:U,autoFocus:L,preventDropOnDocument:j,noClick:R,noKeyboard:K,noDrag:k,noDragEventsBubbling:ee,onError:W,validator:se}=$e($e({},Za),l),fe=M.useMemo(()=>l_(c),[c]),Ce=M.useMemo(()=>s_(c),[c]),An=M.useMemo(()=>typeof I=="function"?I:Ra,[I]),Dn=M.useMemo(()=>typeof H=="function"?H:Ra,[H]),Ae=M.useRef(null),Me=M.useRef(null),[Rr,Ue]=M.useReducer(p_,To),{isFocused:pn,isFileDialogActive:Ge}=Rr,Jn=M.useRef(typeof window<"u"&&window.isSecureContext&&U&&o_()),Qn=()=>{!Jn.current&&Ge&&setTimeout(()=>{if(Me.current){const{files:D}=Me.current;D.length||(Ue({type:"closeDialog"}),Dn())}},300)};M.useEffect(()=>(window.addEventListener("focus",Qn,!1),()=>{window.removeEventListener("focus",Qn,!1)}),[Me,Ge,Dn,Jn]);const Oe=M.useRef([]),Or=D=>{Ae.current&&Ae.current.contains(D.target)||(D.preventDefault(),Oe.current=[])};M.useEffect(()=>(j&&(document.addEventListener("dragover",Ia,!1),document.addEventListener("drop",Or,!1)),()=>{j&&(document.removeEventListener("dragover",Ia),document.removeEventListener("drop",Or))}),[Ae,j]),M.useEffect(()=>(!i&&L&&Ae.current&&Ae.current.focus(),()=>{}),[Ae,L,i]);const hn=M.useCallback(D=>{W?W(D):console.error(D)},[W]),jr=M.useCallback(D=>{D.preventDefault(),D.persist(),qe(D),Oe.current=[...Oe.current,D.target],ii(D)&&Promise.resolve(g(D)).then(X=>{if(ui(D)&&!ee)return;const pe=X.length,De=pe>0&&n_({files:X,accept:fe,minSize:C,maxSize:_,multiple:x,maxFiles:w,validator:se}),Ee=pe>0&&!De;Ue({isDragAccept:De,isDragReject:Ee,isDragActive:!0,type:"setDraggedFiles"}),A&&A(D)}).catch(X=>hn(X))},[g,A,hn,ee,fe,C,_,x,w,se]),gn=M.useCallback(D=>{D.preventDefault(),D.persist(),qe(D);const X=ii(D);if(X&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch{}return X&&G&&G(D),!1},[G,ee]),Ln=M.useCallback(D=>{D.preventDefault(),D.persist(),qe(D);const X=Oe.current.filter(De=>Ae.current&&Ae.current.contains(De)),pe=X.indexOf(D.target);pe!==-1&&X.splice(pe,1),Oe.current=X,!(X.length>0)&&(Ue({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ii(D)&&F&&F(D))},[Ae,F,ee]),zn=M.useCallback((D,X)=>{const pe=[],De=[];D.forEach(Ee=>{const[gr,_n]=$a(Ee,fe),[En,vr]=Ga(Ee,C,_),Nn=se?se(Ee):null;if(gr&&En&&!Nn)pe.push(Ee);else{let Bn=[_n,vr];Nn&&(Bn=Bn.concat(Nn)),De.push({file:Ee,errors:Bn.filter(mr=>mr)})}}),(!x&&pe.length>1||x&&w>=1&&pe.length>w)&&(pe.forEach(Ee=>{De.push({file:Ee,errors:[e_]})}),pe.splice(0)),Ue({acceptedFiles:pe,fileRejections:De,type:"setFiles"}),z&&z(pe,De,X),De.length>0&&q&&q(De,X),pe.length>0&&$&&$(pe,X)},[Ue,x,fe,C,_,w,z,$,q,se]),tn=M.useCallback(D=>{D.preventDefault(),D.persist(),qe(D),Oe.current=[],ii(D)&&Promise.resolve(g(D)).then(X=>{ui(D)&&!ee||zn(X,D)}).catch(X=>hn(X)),Ue({type:"reset"})},[g,zn,hn,ee]),He=M.useCallback(()=>{if(Jn.current){Ue({type:"openDialog"}),An();const D={multiple:x,types:Ce};window.showOpenFilePicker(D).then(X=>g(X)).then(X=>{zn(X,null),Ue({type:"closeDialog"})}).catch(X=>{a_(X)?(Dn(X),Ue({type:"closeDialog"})):u_(X)?(Jn.current=!1,Me.current?(Me.current.value=null,Me.current.click()):hn(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):hn(X)});return}Me.current&&(Ue({type:"openDialog"}),An(),Me.current.value=null,Me.current.click())},[Ue,An,Dn,U,zn,hn,Ce,x]),Vn=M.useCallback(D=>{!Ae.current||!Ae.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),He())},[Ae,He]),vn=M.useCallback(()=>{Ue({type:"focus"})},[]),Wn=M.useCallback(()=>{Ue({type:"blur"})},[]),er=M.useCallback(()=>{R||(i_()?setTimeout(He,0):He())},[R,He]),Se=D=>i?null:D,mn=D=>K?null:Se(D),Tr=D=>k?null:Se(D),qe=D=>{ee&&D.stopPropagation()},gt=M.useMemo(()=>(D={})=>{var X=D,{refKey:pe="ref",role:De,onKeyDown:Ee,onFocus:gr,onBlur:_n,onClick:En,onDragEnter:vr,onDragOver:Nn,onDragLeave:Bn,onDrop:mr}=X,Xr=fi(X,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return $e($e({onKeyDown:mn(On(Ee,Vn)),onFocus:mn(On(gr,vn)),onBlur:mn(On(_n,Wn)),onClick:Se(On(En,er)),onDragEnter:Tr(On(vr,jr)),onDragOver:Tr(On(Nn,gn)),onDragLeave:Tr(On(Bn,Ln)),onDrop:Tr(On(mr,tn)),role:typeof De=="string"&&De!==""?De:"presentation",[pe]:Ae},!i&&!K?{tabIndex:0}:{}),Xr)},[Ae,Vn,vn,Wn,er,jr,gn,Ln,tn,K,k,i]),pi=M.useCallback(D=>{D.stopPropagation()},[]),hr=M.useMemo(()=>(D={})=>{var X=D,{refKey:pe="ref",onChange:De,onClick:Ee}=X,gr=fi(X,["refKey","onChange","onClick"]);const _n={accept:fe,multiple:x,type:"file",style:{display:"none"},onChange:Se(On(De,tn)),onClick:Se(On(Ee,pi)),tabIndex:-1,[pe]:Me};return $e($e({},_n),gr)},[Me,c,x,tn,i]);return fr($e({},Rr),{isFocused:pn&&!i,getRootProps:gt,getInputProps:hr,rootRef:Ae,inputRef:Me,open:Se(He)})}function p_(l,c){switch(c.type){case"focus":return fr($e({},l),{isFocused:!0});case"blur":return fr($e({},l),{isFocused:!1});case"openDialog":return fr($e({},To),{isFileDialogActive:!0});case"closeDialog":return fr($e({},l),{isFileDialogActive:!1});case"setDraggedFiles":return fr($e({},l),{isDragActive:c.isDragActive,isDragAccept:c.isDragAccept,isDragReject:c.isDragReject});case"setFiles":return fr($e({},l),{acceptedFiles:c.acceptedFiles,fileRejections:c.fileRejections});case"reset":return $e({},To);default:return l}}function Ra(){}const[h_,g_]=kv("Dropzone component was not found in tree");function No(l){const c=i=>{const{children:g,..._}=di(`Dropzone${_a(l)}`,{},i),C=g_(),x=Lv(g)?g:u.jsx("span",{children:g});return C[l]?M.cloneElement(x,_):null};return c.displayName=`@mantine/dropzone/${_a(l)}`,c}const v_=No("accept"),m_=No("reject"),__=No("idle");var pt={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};const x_={loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},w_=Ma((l,{radius:c,variant:i,acceptColor:g,rejectColor:_})=>{const C=l.variantColorResolver({color:g||l.primaryColor,theme:l,variant:i}),x=l.variantColorResolver({color:_||"red",theme:l,variant:i});return{root:{"--dropzone-radius":Wv(c),"--dropzone-accept-color":C.color,"--dropzone-accept-bg":C.background,"--dropzone-reject-color":x.color,"--dropzone-reject-bg":x.background}}}),pr=Mo((l,c)=>{const i=di("Dropzone",x_,l),{classNames:g,className:_,style:C,styles:x,unstyled:w,vars:A,radius:F,disabled:G,loading:z,multiple:$,maxSize:q,accept:H,children:I,onDropAny:U,onDrop:L,onReject:j,openRef:R,name:K,maxFiles:k,autoFocus:ee,activateOnClick:W,activateOnDrag:se,dragEventsBubbling:fe,activateOnKeyboard:Ce,onDragEnter:An,onDragLeave:Dn,onDragOver:Ae,onFileDialogCancel:Me,onFileDialogOpen:Rr,preventDropOnDocument:Ue,useFsAccessApi:pn,getFilesFromEvent:Ge,validator:Jn,rejectColor:Qn,acceptColor:Oe,enablePointerEvents:Or,loaderProps:hn,inputProps:jr,mod:gn,...Ln}=i,zn=Uo({name:"Dropzone",classes:pt,props:i,className:_,style:C,classNames:g,styles:x,unstyled:w,vars:A,varsResolver:w_}),{getRootProps:tn,getInputProps:He,isDragAccept:Vn,isDragReject:vn,open:Wn}=Xa({onDrop:U,onDropAccepted:L,onDropRejected:j,disabled:G||z,accept:Array.isArray(H)?H.reduce((Se,mn)=>({...Se,[mn]:[]}),{}):H,multiple:$,maxSize:q,maxFiles:k,autoFocus:ee,noClick:!W,noDrag:!se,noDragEventsBubbling:!fe,noKeyboard:!Ce,onDragEnter:An,onDragLeave:Dn,onDragOver:Ae,onFileDialogCancel:Me,onFileDialogOpen:Rr,preventDropOnDocument:Ue,useFsAccessApi:pn,validator:Jn,...Ge?{getFilesFromEvent:Ge}:null});zv(R,Wn);const er=!Vn&&!vn;return u.jsx(h_,{value:{accept:Vn,reject:vn,idle:er},children:u.jsxs(ko,{...tn(),...zn("root",{focusable:!0}),...Ln,mod:[{accept:Vn,reject:vn,idle:er,disabled:G,loading:z,"activate-on-click":W},gn],children:[u.jsx(zo,{visible:z,overlayProps:{radius:F},unstyled:w,loaderProps:hn}),u.jsx("input",{...He(jr),name:K}),u.jsx("div",{...zn("inner"),ref:c,"data-enable-pointer-events":Or||void 0,children:I})]})})});pr.classes=pt;pr.displayName="@mantine/dropzone/Dropzone";pr.Accept=v_;pr.Idle=__;pr.Reject=m_;const y_={loading:!1,maxSize:1/0,activateOnClick:!1,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:ja("max"),withinPortal:!0},Bo=Mo((l,c)=>{const i=di("DropzoneFullScreen",y_,l),{classNames:g,className:_,style:C,styles:x,unstyled:w,vars:A,active:F,onDrop:G,onReject:z,zIndex:$,withinPortal:q,portalProps:H,...I}=i,U=Uo({name:"DropzoneFullScreen",classes:pt,props:i,className:_,style:C,classNames:g,styles:x,unstyled:w,rootSelector:"fullScreen"}),{resolvedClassNames:L,resolvedStyles:j}=Xv({classNames:g,styles:x,props:i}),[R,K]=M.useState(0),[k,{open:ee,close:W}]=Hv(!1),se=Ce=>{var An;(An=Ce.dataTransfer)!=null&&An.types.includes("Files")&&(K(Dn=>Dn+1),ee())},fe=()=>{K(Ce=>Ce-1)};return M.useEffect(()=>{R===0&&W()},[R]),M.useEffect(()=>{if(F)return document.addEventListener("dragenter",se,!1),document.addEventListener("dragleave",fe,!1),()=>{document.removeEventListener("dragenter",se,!1),document.removeEventListener("dragleave",fe,!1)}},[F]),u.jsx(Nv,{...H,withinPortal:q,children:u.jsx(ko,{...U("fullScreen",{style:{opacity:k?1:0,pointerEvents:k?"all":"none",zIndex:$}}),ref:c,children:u.jsx(pr,{...I,classNames:L,styles:j,unstyled:w,className:pt.dropzone,onDrop:Ce=>{G==null||G(Ce),W(),K(0)},onReject:Ce=>{z==null||z(Ce),W(),K(0)}})})})});Bo.classes=pt;Bo.displayName="@mantine/dropzone/DropzoneFullScreen";pr.FullScreen=Bo;const Oa=pr;function b_({onDrop:l,openRef:c,children:i}){return u.jsxs(Oa,{openRef:c,onDrop:l,activateOnClick:!1,accept:{"application/pdf":[],"application/msword":[],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[],"image/png":[],"image/jpeg":[]},maxSize:10*1024**2,styles:{root:{border:"none",padding:0}},children:[u.jsx(Oa.Accept,{children:u.jsx(Dm,{style:{width:Ir(52),height:Ir(52),color:"var(--mantine-color-blue-6)",position:"absolute",bottom:Ir(16),left:"50%",transform:"translateX(-50%)",zIndex:9999},stroke:1.5})}),i]})}function C_({itemParentId:l}){const[c,i]=M.useState("reviewal"),{closeModal:g,modals:_}=Re(),C=ka(c,_.createWorkflow),{data:x,setData:w,post:A,processing:F,errors:G,reset:z}=Sn({folder_item_id:"",resolution:"",destination:"",type:"reviewal",users:[]}),[$,q]=M.useState([]),H=C.length;M.useEffect(()=>{q([])},[c,C]);const I=k=>{k.preventDefault();const ee=$.map(W=>parseInt(W.selectedUser)).filter(W=>!isNaN(W));x.folder_item_id=l??"",x.users=ee.map(W=>({user_id:W})),A(route("workflows.store"),{preserveScroll:!0,onSuccess:()=>{g("createWorkflow"),ve.show({message:"Approval process created",color:"green"})},onError:()=>{ve.show({message:"Something went wrong",color:"red"})},onFinish:()=>z()})},U=()=>{$.length<H&&q([...$,{selectedUser:""}])},L=()=>{const k=$.map(se=>se.selectedUser),W=C.filter(se=>!k.includes(se.id.toString())).map(se=>({selectedUser:se.id.toString()}));q([...$,...W])},j=k=>{const ee=[...$];ee.splice(k,1),q(ee)},R=(k,ee)=>{const W=[...$];W[k].selectedUser=ee||"",q(W)},K=$.map(k=>k.selectedUser).filter(k=>k!=="");return{data:x,setData:w,createApprovalSubmit:I,processing:F,errors:G,users:$,setWorkflowType:i,addUser:U,removeUser:j,handleUserChange:R,addAllUsers:L,maxUsers:H,selectedUserIds:K,fetchedUsers:C}}const S_=({itemParent:l})=>{const{data:c,setData:i,createApprovalSubmit:g,processing:_,errors:C,users:x,setWorkflowType:w,addUser:A,removeUser:F,handleUserChange:G,addAllUsers:z,maxUsers:$,selectedUserIds:q,fetchedUsers:H}=C_({itemParentId:l==null?void 0:l.item_id}),{modals:I,closeModal:U}=Re(),L=j=>H.filter(R=>!q.includes(R.id.toString())||R.id.toString()===x[j].selectedUser).map(R=>({value:R.id.toString(),label:`${R.name} (${R.email})`}));return u.jsx(Un,{opened:I.createWorkflow,onClose:()=>U("createWorkflow"),title:u.jsx(ge,{fw:"bold",size:"lg",children:"Create Workflow Process"}),size:550,children:u.jsxs("form",{onSubmit:g,children:[u.jsxs(Mn,{gap:16,children:[u.jsx(ge,{size:"sm",color:"dimmed",children:"Routinely directs any uploaded file in this folder through a predefined approval workflow"}),u.jsx(Yr.Group,{name:"status",value:c.type,onChange:j=>{i("type",j),w(j)},children:u.jsxs(be,{mt:"xs",children:[u.jsx(Yr,{value:"reviewal",label:"Review"}),u.jsx(Yr,{value:"approval",label:"Approval"})]})}),u.jsx(Lo,{label:"Resolution",placeholder:"Your resolution for this approval",value:c.resolution??"",onChange:j=>i("resolution",j.target.value),error:C.resolution,autosize:!0,minRows:2,maxRows:4}),u.jsx(ge,{size:"sm",fw:500,mb:-8,children:"Users in this workflow"}),x.map((j,R)=>u.jsxs(be,{justify:"space-between",align:"flex-end",children:[u.jsx(Fr,{placeholder:"Select a user",data:L(R),value:j.selectedUser,onChange:K=>G(R,K),required:!0,style:{flex:1},allowDeselect:!1}),u.jsx(Te,{color:"red",onClick:()=>F(R),title:"Remove User",children:u.jsx(dr,{size:18})})]},R)),u.jsxs(be,{children:[x.length<$&&u.jsx(ie,{variant:"subtle",color:"green",leftSection:u.jsx(Tn,{size:16}),onClick:A,disabled:x.length>=$,children:"Add User"}),q.length<$&&u.jsx(ie,{variant:"subtle",color:"blue",leftSection:u.jsx(Tn,{size:16}),onClick:z,disabled:x.length>=$,children:"Add All Users"})]})]}),u.jsxs(jn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"light",onClick:()=>U("createWorkflow"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:_,children:"Create"})]})]})})};function A_({itemParent:l}){const{data:c,setData:i,post:g,processing:_,errors:C,reset:x}=Sn({folder_item_id:(l==null?void 0:l.item_id)??"",name:"",prefix:"",next_number:1,reset_frequency:"none",add_if_approved:!1}),{closeModal:w}=Re(),A=G=>{G.preventDefault();const z=F(c.prefix);i("prefix",z),g(route("numbering-scheme.store"),{preserveScroll:!0,onSuccess:()=>{w("createNumberingScheme"),ve.show({message:"Numbering scheme created",color:"green"})},onError:$=>{ve.show({message:"Something went wrong",color:"red"})},onFinish:()=>x()})},F=G=>G;return{data:c,setData:i,handleSubmit:A,processing:_,errors:C}}const D_=({itemParent:l})=>{const{data:c,setData:i,handleSubmit:g,processing:_,errors:C}=A_({itemParent:l}),{modals:x,closeModal:w}=Re(),[A,F]=M.useState([]);M.useEffect(()=>{const I=A.map(U=>U.type==="text"?`{${U.value}}`:`[${U.value}]`).join(" ");i("prefix",I)},[A]);const G=()=>{F([...A,{id:Date.now(),type:"text",value:""}])},z=()=>{F([...A,{id:Date.now(),type:"dynamic",value:""}])},$=(I,U)=>{F(A.map(L=>L.id===I?{...L,value:U}:L))},q=I=>{F(A.filter(U=>U.id!==I))},H=[{value:"YY",label:"Year"},{value:"MM",label:"Month"},{value:"DD",label:"Day"},{value:"INC",label:"Increment"}];return u.jsx(Un,{opened:x.createNumberingScheme,onClose:()=>w("createNumberingScheme"),title:u.jsx(ge,{size:"lg",children:"Create Numbering Scheme"}),size:600,children:u.jsxs("form",{onSubmit:g,children:[u.jsxs(Mn,{gap:16,children:[u.jsx(si,{label:"Name",value:c.name,onChange:I=>i("name",I.target.value),error:C.name,required:!0}),u.jsx(em,{label:"Add Number Only If Approved",checked:c.add_if_approved,onChange:I=>i("add_if_approved",I.currentTarget.checked),mt:"md"}),u.jsx(ge,{size:"sm",fw:500,children:"Prefix Builder"}),u.jsxs(be,{children:[u.jsx(ie,{variant:"subtle",size:"sm",leftSection:u.jsx(Tn,{size:16}),onClick:G,children:"Add Text"}),u.jsx(ie,{variant:"subtle",size:"sm",leftSection:u.jsx(Tn,{size:16}),onClick:z,children:"Add Dynamic"})]}),A.map((I,U)=>u.jsxs(be,{align:"flex-end",children:[I.type==="text"?u.jsx(si,{placeholder:"Enter text",value:I.value,onChange:L=>$(I.id,L.target.value),required:!0,style:{flex:1}}):u.jsx(Fr,{placeholder:"Select dynamic part",data:H,value:I.value,onChange:L=>$(I.id,L||""),required:!0,style:{flex:1}}),u.jsx(Te,{color:"red",onClick:()=>q(I.id),children:u.jsx(dr,{size:16})})]},I.id)),u.jsx(ge,{size:"sm",fw:500,children:"Preview:"}),u.jsx(Bv,{withBorder:!0,p:12,bg:"#f9f9f9",children:u.jsx(ge,{children:A.map(I=>{if(I.type==="text")return I.value+" ";switch(I.value){case"YY":return new Date().getFullYear().toString().slice(2)+" ";case"MM":return(new Date().getMonth()+1).toString().padStart(2,"0")+" ";case"DD":return new Date().getDate().toString().padStart(2,"0")+" ";case"INC":return c.next_number.toString()+" ";default:return""}}).join("").trim()})}),u.jsx(be,{justify:"space-between",children:u.jsx(nm,{label:"Next Number",value:c.next_number,onChange:I=>i("next_number",Number(I)),min:1,error:C.next_number,required:!0,style:{flex:1}})}),u.jsx(Fr,{label:"Reset Frequency",data:[{value:"none",label:"None"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],value:c.reset_frequency,onChange:I=>i("reset_frequency",I??"none"),error:C.reset_frequency,required:!0})]}),u.jsxs(jn,{align:"center",justify:"end",mt:24,children:[u.jsx(ie,{variant:"light",onClick:()=>w("createNumberingScheme"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:_,children:"Create"})]})]})})};function E_({itemParent:l,close:c}){const{data:i,setData:g,post:_,processing:C,errors:x,reset:w,clearErrors:A}=Sn({parent_id:"",name:""}),{closeModal:F}=Re();return{data:i,setData:g,submit:z=>{i.parent_id=(l==null?void 0:l.item_id)||"",z.preventDefault(),_(route("folder.create"),{preserveScroll:!0,onSuccess:()=>{ve.show({message:"New folder created",color:"green"})},onError:$=>{let q="";Object.keys($).length>0?q=$[Object.keys($)[0]]:q="Error during file upload. Please try again later.",ve.show({message:q,color:"red"})},onFinish:()=>{F("folder"),w(),A()}})},processing:C,errors:x}}const I_=({itemParent:l})=>{const{data:c,setData:i,submit:g,processing:_,errors:C}=E_({itemParent:l,close}),{modals:x,closeModal:w}=Re();return u.jsx(Un,{opened:x.folder,onClose:()=>w("folder"),title:u.jsx(ge,{fw:"bold",size:"lg",children:"Create Folder"}),size:550,children:u.jsxs("form",{onSubmit:g,children:[u.jsx(Mn,{gap:16,children:u.jsx(si,{id:"name",type:"text",name:"name",value:c.name,placeholder:"Folder Name",onChange:A=>i("name",A.target.value),error:C.name})}),u.jsxs(jn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"outline",onClick:()=>w("folder"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:_,children:"Create"})]})]})})};function F_({workflowId:l,isOpen:c}){const[i,g]=M.useState(null);M.useEffect(()=>{l&&c&&_(l)},[l,c]);const _=async C=>{try{const x=await oi.get(`/workflows/${C}`);g(x.data)}catch(x){console.error("Error fetching workflow",x)}};return i}function R_({itemParent:l,isOpen:c}){const[i,g]=M.useState("reviewal"),_=F_({workflowId:l==null?void 0:l.workflow_id,isOpen:c}),C=ka(i,c),{closeModal:x}=Re(),{data:w,setData:A,put:F,processing:G,errors:z,reset:$,clearErrors:q}=Sn({resolution:"",type:"",users:[]}),[H,I]=M.useState([]),U=C.length;M.useEffect(()=>{_&&(g(_.type||""),A({resolution:_.resolution||"",type:_.type||"",users:_.users.map(W=>({user_id:W.id}))}),I(_.users.map(W=>({selectedUser:W.id.toString()}))))},[_,c]),M.useEffect(()=>{I([])},[i]);const L=W=>{W.preventDefault();const se=H.map(fe=>parseInt(fe.selectedUser)).filter(fe=>!isNaN(fe));w.users=se.map(fe=>({user_id:fe})),F(route("workflows.update",l==null?void 0:l.workflow_id),{onSuccess:()=>{x("updateWorkflow"),ve.show({message:"Workflow updated successfully",color:"green"})},onError:fe=>{ve.show({message:"Something went wrong",color:"red"})},onFinish:()=>$()})},j=()=>{H.length<U&&I([...H,{selectedUser:""}])},R=()=>{const W=H.map(Ce=>Ce.selectedUser),fe=C.filter(Ce=>!W.includes(Ce.id.toString())).map(Ce=>({selectedUser:Ce.id.toString()}));I([...H,...fe])},K=W=>{const se=[...H];se.splice(W,1),I(se)},k=(W,se)=>{const fe=[...H];fe[W].selectedUser=se||"",I(fe)},ee=H.map(W=>W.selectedUser).filter(W=>W!=="");return{data:w,setData:A,handleUpdateWorkflow:L,processing:G,errors:z,users:H,setWorkflowType:g,addUser:j,removeUser:K,handleUserChange:k,addAllUsers:R,maxUsers:U,selectedUserIds:ee,fetchedUsers:C}}function O_({workflowId:l,onDeleteSuccess:c}){const{delete:i,processing:g}=Sn();return{handleDeleteWorkflow:()=>{if(!l){ve.show({message:"Workflow ID is missing.",color:"red"});return}i(route("workflows.destroy",l),{preserveScroll:!0,onSuccess:()=>{ve.show({message:"Workflow deleted successfully.",color:"green"}),c()},onError:C=>{let x="Failed to delete workflow.";C&&Object.keys(C).length>0&&(x=C[Object.keys(C)[0]]),ve.show({message:x,color:"red"})}})},processing:g}}const j_=({workflowId:l})=>{const{modals:c,closeModal:i,openModal:g}=Re(),_=c.confirmDeleteWorkflow,{handleDeleteWorkflow:C,processing:x}=O_({workflowId:l,onDeleteSuccess:()=>{i("confirmDeleteWorkflow"),i("updateWorkflow")}});return u.jsxs(Un,{opened:_,onClose:()=>i("confirmDeleteWorkflow"),title:u.jsx(ge,{fw:"bold",size:"lg",children:"Confirm Delete"}),size:"sm",centered:!0,children:[u.jsx(ge,{c:"gray.8",children:"Are you sure you want to delete this workflow? This action cannot be undone."}),u.jsxs(jn,{align:"center",justify:"flex-end",mt:16,children:[u.jsx(ie,{variant:"light",onClick:()=>{i("confirmDeleteWorkflow"),g("updateWorkflow")},children:"Cancel"}),u.jsx(ie,{color:"red",ml:12,onClick:C,loading:x,children:"Delete"})]})]})},T_=({itemParent:l})=>{const{modals:c,closeModal:i,openModal:g}=Re(),_=c.updateWorkflow,{data:C,setData:x,handleUpdateWorkflow:w,processing:A,users:F,setWorkflowType:G,addUser:z,removeUser:$,handleUserChange:q,addAllUsers:H,maxUsers:I,selectedUserIds:U,fetchedUsers:L,errors:j}=R_({itemParent:l,isOpen:_}),R=K=>L.filter(k=>!U.includes(k.id.toString())||k.id.toString()===F[K].selectedUser).map(k=>({value:k.id.toString(),label:`${k.name} (${k.email})`}));return u.jsxs(u.Fragment,{children:[u.jsx(Un,{opened:_,onClose:()=>i("updateWorkflow"),title:u.jsx(ge,{fw:"bold",size:"lg",children:"Update Workflow Process"}),size:550,children:u.jsxs("form",{onSubmit:w,children:[u.jsxs(Mn,{gap:16,children:[u.jsx(ge,{size:"sm",c:"dimmed",children:"Routinely directs any uploaded file in this folder through a predefined approval workflow"}),u.jsx(Yr.Group,{name:"status",value:C.type,onChange:K=>{x("type",K),G(K)},children:u.jsxs(be,{mt:"xs",children:[u.jsx(Yr,{value:"reviewal",label:"Review"}),u.jsx(Yr,{value:"approval",label:"Approval"})]})}),u.jsx(Lo,{label:"Resolution",placeholder:"Your resolution for this approval",value:C.resolution??"",onChange:K=>x("resolution",K.target.value),error:j.resolution,autosize:!0,minRows:2,maxRows:4}),u.jsx(ge,{size:"sm",fw:500,mb:-8,children:"Users in this workflow"}),F.map((K,k)=>u.jsxs(be,{justify:"space-between",align:"flex-end",children:[u.jsx(Fr,{placeholder:"Select a user",data:R(k),value:K.selectedUser,onChange:ee=>q(k,ee),required:!0,style:{flex:1},allowDeselect:!1}),u.jsx(Te,{color:"red",onClick:()=>$(k),title:"Remove User",children:u.jsx(dr,{size:18})})]},k)),u.jsxs(be,{children:[F.length<I&&u.jsx(ie,{variant:"subtle",color:"green",leftSection:u.jsx(Tn,{size:16}),onClick:z,disabled:F.length>=I,children:"Add User"}),U.length<I&&u.jsx(ie,{variant:"subtle",color:"blue",leftSection:u.jsx(Tn,{size:16}),onClick:H,disabled:F.length>=I,children:"Add All Users"})]})]}),u.jsxs(jn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"light",onClick:()=>i("updateWorkflow"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:A,children:"Update"}),u.jsx(Te,{variant:"transparent",color:"red",onClick:()=>{g("confirmDeleteWorkflow"),i("updateWorkflow")},title:"Delete Workflow",ml:12,children:u.jsx(dr,{size:18})})]})]})}),u.jsx(j_,{workflowId:l==null?void 0:l.workflow_id})]})};function M_(){return{generateReport:async i=>{var g;try{const _=await oi.post(route("report.generate"),{folder_item_id:i}),{url:C,filename:x}=_.data;if(C){const w=document.createElement("a");w.href=C,w.download=x,document.body.appendChild(w),w.click(),document.body.removeChild(w)}else console.error("No URL returned for the report.")}catch(_){console.error("Error generating report:",((g=_.response)==null?void 0:g.data)||_.message)}},generateDashboardReport:async i=>{var g;try{const _=await oi.post(route("report.generateDashboard"),i),{url:C,filename:x}=_.data;if(C){const w=document.createElement("a");w.href=C,w.download=x,document.body.appendChild(w),w.click(),document.body.removeChild(w)}else console.error("No URL returned for the dashboard report.")}catch(_){console.error("Error generating dashboard report:",((g=_.response)==null?void 0:g.data)||_.message)}}}}function U_({folderId:l,isOpen:c}){const[i,g]=M.useState([]),[_,C]=M.useState(!1),[x,w]=M.useState(null);return M.useEffect(()=>{l&&(async()=>{C(!0);try{const F=await oi.get(route("folder.fetchSharedUsers",{folder:l}));g(F.data),w(null)}catch(F){console.error(F),w("Failed to fetch shared users."),ve.show({title:"Error",message:"Unable to fetch shared users.",color:"red"})}finally{C(!1)}})()},[l,c]),{sharedUsers:i,loading:_,error:x}}function k_({folderId:l,close:c}){const{modals:i}=Re(),g=i.shareFolder,{sharedUsers:_,loading:C,error:x}=U_({folderId:l,isOpen:g}),{data:w,setData:A,post:F,processing:G,errors:z,reset:$}=Sn({users:[]});return M.useEffect(()=>{if(_.length>0){const j=_.map(R=>({email:R.email,role:R.role}));A("users",j)}},[_]),{data:w,submit:()=>{F(route("folder.share",{folder:l}),{onSuccess:()=>{c(),ve.show({message:"Folder shared successfully.",color:"green"}),$()},onError:j=>{ve.show({message:"Failed to share the folder.",color:"red"})}})},processing:G,errors:z,addUser:()=>{A("users",[...w.users,{email:"",role:"viewer"}])},removeUser:j=>{const R=w.users.filter((K,k)=>k!==j);A("users",R)},handleUserChange:(j,R,K)=>{const k=w.users.map((ee,W)=>W===j?{...ee,[R]:K}:ee);A("users",k)},handleAddAllUsers:()=>{const j=_.map(R=>({email:R.email,role:"viewer"}));A("users",j)}}}const L_=({folderId:l})=>{const{modals:c,closeModal:i}=Re(),{users:g,loading:_,error:C}=Jv(),{data:x,submit:w,processing:A,errors:F,addUser:G,removeUser:z,handleUserChange:$}=k_({folderId:l,close:()=>i("shareFolder")}),q=()=>{const I=g.map(U=>({email:U.email,role:"viewer"}));H(I)},H=I=>{I.forEach(()=>G())};return u.jsx(Un,{opened:c.shareFolder,onClose:()=>i("shareFolder"),title:u.jsx(ge,{size:"lg",children:"Share Folder"}),size:"600",children:u.jsxs("form",{onSubmit:I=>{I.preventDefault(),w()},children:[u.jsxs(Mn,{children:[x.users.map((I,U)=>u.jsxs(be,{align:"flex-end",children:[u.jsx(Fr,{data:g.map(L=>({value:L.email,label:`${L.name} (${L.email})`})),placeholder:"Select a user",value:I.email,onChange:L=>$(U,"email",L||""),style:{flex:1}}),u.jsx(Fr,{data:[{value:"viewer",label:"Viewer"},{value:"editor",label:"Editor"}],placeholder:"Select role",value:I.role,onChange:L=>$(U,"role",L||"viewer"),style:{width:120}}),u.jsx(Cn,{label:"Remove User",withArrow:!0,children:u.jsx(Te,{color:"red",onClick:()=>z(U),children:u.jsx(dr,{size:18})})})]},U)),u.jsxs(be,{children:[u.jsx(ie,{variant:"subtle",color:"green",leftSection:u.jsx(Tn,{size:16}),onClick:()=>G(),children:"Add User"}),u.jsx(ie,{variant:"subtle",color:"blue",leftSection:u.jsx(Tn,{size:16}),onClick:q,disabled:x.users.length>=g.length,children:"Add All Users"})]})]}),u.jsxs(be,{mt:"md",children:[u.jsx(ie,{variant:"outline",onClick:()=>i("shareFolder"),children:"Cancel"}),u.jsx(ie,{type:"submit",loading:A,children:"Save"})]})]})})};function z_({itemParent:l}){const{closeModal:c}=Re(),{data:i,setData:g,put:_,processing:C,errors:x,reset:w,clearErrors:A}=Sn({name:(l==null?void 0:l.name)||"",description:(l==null?void 0:l.description)||""});return M.useEffect(()=>{g("name",(l==null?void 0:l.name)||""),g("description",(l==null?void 0:l.description)||"")},[l]),{data:i,setData:g,submit:G=>{G.preventDefault(),_(route("folder.update",{id:(l==null?void 0:l.item_id)||""}),{preserveScroll:!0,onSuccess:()=>{ve.show({message:"Folder properties updated successfully.",color:"green"}),c("folderProperties")},onError:()=>{ve.show({message:"Failed to update folder properties.",color:"red"})},onFinish:()=>{w(),A()}})},processing:C,errors:x}}const W_=({itemParent:l})=>{const{data:c,setData:i,submit:g,processing:_,errors:C}=z_({itemParent:l}),{modals:x,closeModal:w}=Re();return u.jsx(Un,{opened:x.folderProperties,onClose:()=>w("folderProperties"),title:u.jsx(ge,{fw:"bold",size:"lg",children:"Folder Properties"}),size:"550",children:u.jsxs("form",{onSubmit:g,children:[u.jsxs(Mn,{gap:16,children:[u.jsx(si,{label:"Folder Name",name:"name",value:c.name,onChange:A=>i("name",A.target.value),error:C.name,required:!0}),u.jsx(Lo,{label:"Notes",name:"description",value:c.description,onChange:A=>i("description",A.target.value),error:C.description,autosize:!0,minRows:4})]}),u.jsxs(jn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"outline",onClick:()=>w("folderProperties"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:_,children:"Save"})]})]})})};function N_({setSelectedRecord:l}){const{data:c,delete:i,processing:g}=Sn({ids:[],isWorkspace:!1}),{closeModal:_}=Re();return{handleDelete:x=>{c.ids=x,i(route("item.delete"),{onSuccess:()=>{_("deleteFiles"),setTimeout(()=>{l([])},100),ve.show({message:"Files deleted",color:"green"})},onError:w=>{let A="Error during file deletion. Please try again later.";Object.keys(w).length>0&&(A=w[Object.keys(w)[0]]),ve.show({message:A,color:"red"})}})},processing:g}}const Ja=({selectedIds:l,setSelectedRecord:c})=>{const{handleDelete:i,processing:g}=N_({setSelectedRecord:c}),{modals:_,closeModal:C}=Re();return u.jsx(Un,{opened:_.deleteFiles,onClose:()=>C("deleteFiles"),title:u.jsx(ge,{fw:"bold",size:"lg",children:"Delete Files"}),size:550,children:u.jsxs("form",{onSubmit:x=>{x.preventDefault(),i(l)},children:[u.jsx(ge,{c:"dimmed",children:"Delete selected files?"}),u.jsxs(jn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"subtle",onClick:()=>C("deleteFiles"),color:"gray",children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:g,color:"red",children:"Delete"})]})]})})},B_=({uploadFileRef:l,itemParent:c,folderUserRole:i})=>{const{openModal:g,modals:_}=Re(),{generateReport:C}=M_(),[x,w]=M.useState(!1);M.useEffect(()=>{const F=()=>{w(window.innerWidth<=768)};return window.addEventListener("resize",F),F(),()=>window.removeEventListener("resize",F)},[]);const A=()=>{var F;return u.jsxs(u.Fragment,{children:[u.jsx(Cn,{label:"Properties",position:"bottom",withArrow:!0,children:u.jsx(Te,{size:"lg",variant:"transparent",color:"dark.3",onClick:()=>g("folderProperties"),children:u.jsx(_m,{size:18})})}),u.jsx(Cn,{label:"Workflow",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",size:"lg",color:c!=null&&c.workflow_id?"green.8":"dark.3",onClick:()=>g(c!=null&&c.workflow_id?"updateWorkflow":"createWorkflow"),children:u.jsx(Qv,{size:18})})}),u.jsx(Cn,{label:"Share",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",size:"lg",color:c!=null&&c.is_shared?"green.8":"dark.3",onClick:()=>g("shareFolder"),children:u.jsx(Vv,{size:18})})}),u.jsx(Cn,{label:"Metadata",position:"bottom",withArrow:!0,children:u.jsx(Te,{component:Oo,size:"lg",href:route("folder.showRequiredMetadata",{id:c==null?void 0:c.item_id}),variant:"transparent",color:(F=c==null?void 0:c.required_metadata)!=null&&F.length?"green.8":"dark.3",children:u.jsx(qv,{size:18})})}),u.jsx(Cn,{label:"Activity",position:"bottom",withArrow:!0,children:u.jsx(Te,{component:Oo,size:"lg",href:route("folder.activity-log",{id:c==null?void 0:c.item_id}),variant:"transparent",color:"dark.3",children:u.jsx(wa,{size:18})})}),u.jsx(Cn,{label:"Numbering",position:"bottom",withArrow:!0,children:u.jsx(Te,{size:"lg",variant:"transparent",color:c!=null&&c.numbering_scheme_id?"green.8":"dark.3",onClick:()=>g(c!=null&&c.numbering_scheme_id?"updateNumberingScheme":"createNumberingScheme"),children:u.jsx(Am,{size:18})})}),u.jsx(Cn,{label:"Column",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",color:"dark.3",size:"lg",onClick:()=>g("selectMetadataColumns"),children:u.jsx(tm,{size:18})})}),u.jsx(Cn,{label:"Report",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",color:"dark.3",size:"lg",onClick:()=>C((c==null?void 0:c.item_id)??""),children:u.jsx(bm,{size:18})})}),u.jsx(Cn,{label:"Delete Folder",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",size:"lg",color:"red",onClick:()=>g("deleteFiles"),children:u.jsx(dr,{size:18})})})]})};return u.jsxs(be,{h:"50%",px:32,align:"center",justify:"space-between",children:[(i==="editor"||i==="admin")&&u.jsxs(be,{gap:"xs",children:[u.jsxs(cr,{shadow:"md",width:220,transitionProps:{transition:"pop-top-left"},position:"bottom-start",children:[u.jsx(cr.Target,{children:u.jsx(ie,{variant:"subtle",color:"dark.3",leftSection:u.jsx(Tn,{size:18}),rightSection:u.jsx(xm,{size:12}),children:"New"})}),u.jsxs(cr.Dropdown,{children:[u.jsx(cr.Item,{leftSection:u.jsx(Cm,{style:{width:Ir(14),height:Ir(14)}}),onClick:()=>g("folder"),children:"New Folder"}),u.jsx(cr.Item,{leftSection:u.jsx(ym,{style:{width:Ir(14),height:Ir(14)}}),onClick:()=>{var F;return(F=l==null?void 0:l.current)==null?void 0:F.call(l)},children:"Upload Files"})]})]}),x?u.jsxs(cr,{shadow:"md",width:200,children:[u.jsx(cr.Target,{children:u.jsx(Te,{variant:"transparent",color:"dark.3",size:"lg",children:u.jsx(wm,{size:18})})}),u.jsx(cr.Dropdown,{children:A()})]}):A()]}),i==="viewer"&&u.jsx(be,{gap:"xs",children:u.jsx(Cn,{label:"Activity",position:"bottom",withArrow:!0,children:u.jsx(Te,{component:Oo,size:"lg",href:route("folder.activity-log",{id:c==null?void 0:c.item_id}),variant:"transparent",color:"dark.3",children:u.jsx(wa,{size:18})})})}),u.jsx(I_,{itemParent:c}),u.jsx(S_,{itemParent:c}),u.jsx(T_,{itemParent:c}),u.jsx(D_,{itemParent:c}),u.jsx(rm,{itemParent:c}),u.jsx(L_,{folderId:(c==null?void 0:c.item_id)??""}),u.jsx(W_,{itemParent:c}),u.jsx(Ja,{selectedIds:[(c==null?void 0:c.item_id)??""],setSelectedRecord:()=>{}})]})};function P_({setSelectedRecord:l}){const{data:c,setData:i,put:g,processing:_,errors:C,reset:x,clearErrors:w}=Sn({ids:[],destination_folder_id:""});return{data:c,setData:i,moveDocuments:()=>{g(route("document.move"),{onSuccess:()=>{l([]),ve.show({message:"Documents moved successfully",color:"green"}),x()},onError:F=>{ve.show({message:"Failed to move documents",color:"red"})},onFinish:()=>{w()}})},processing:_,errors:C,reset:x}}const $_=({selectedDocumentIds:l,setSelectedRecord:c})=>{const{modals:i,closeModal:g}=Re(),_=i.moveModal,[C,x]=M.useState(null),{data:w,loading:A,error:F}=sm(C,_),{data:G,setData:z,moveDocuments:$,processing:q}=P_({setSelectedRecord:c}),H=L=>{x(L)},I=()=>{w.itemParent&&w.itemParent.parent_id?x(w.itemParent.parent_id):x(null)},U=()=>{if(!C){ve.show({message:"Please select a destination folder.",color:"red"});return}G.ids=l,G.destination_folder_id=C,$(),g("moveModal")};return u.jsx(Un,{opened:_,onClose:()=>g("moveModal"),title:u.jsx(ge,{fw:500,children:"Move Documents"}),size:"lg",children:u.jsxs(Mn,{gap:"md",children:[u.jsxs(be,{children:[C&&u.jsx(Te,{onClick:I,children:u.jsx(lm,{size:16})}),u.jsx(ge,{c:"dark.5",fw:500,children:"Choose Destination Folder"})]}),u.jsx(Kv,{}),A?u.jsx(ge,{children:"Loading..."}):F?u.jsx(ge,{c:"red",children:F}):u.jsx(Mn,{gap:"sm",style:{maxHeight:400,overflowY:"auto"},children:w.itemContents.map(L=>u.jsxs(be,{gap:"sm",style:{cursor:"pointer"},onClick:()=>H(L.item_id),children:[u.jsx(Ua,{mime:L.mime??"",isFolder:L.type==="folder"}),u.jsx(ge,{children:L.name})]},L.item_id))}),u.jsxs(be,{justify:"flex-end",mt:"md",children:[u.jsx(ie,{variant:"outline",onClick:()=>g("moveModal"),children:"Cancel"}),u.jsx(ie,{onClick:U,disabled:!C||q,loading:q,children:"Move Here"})]})]})})},G_=({setSelectedRecord:l,selectedIds:c,parentId:i})=>{const{downloadFiles:g}=Im(),{openModal:_}=Re();return u.jsxs(be,{h:"50%",px:"md",align:"center",justify:"flex-start",children:[u.jsx(ie,{onClick:()=>_("deleteFiles"),variant:"subtle",color:"dark.3",leftSection:u.jsx(dr,{size:18}),children:"Delete"}),u.jsx(ie,{onClick:()=>g({all:!1,ids:c,parentId:i}),variant:"subtle",color:"dark.3",leftSection:u.jsx(im,{size:18}),children:"Download"}),u.jsx(ie,{onClick:()=>_("moveModal"),variant:"subtle",color:"dark.3",leftSection:u.jsx(Sm,{size:18}),children:"Move"}),u.jsx(Ja,{selectedIds:c,setSelectedRecord:l}),u.jsx($_,{selectedDocumentIds:c,setSelectedRecord:l})]})};function H_(l){const{data:c,post:i,reset:g,clearErrors:_}=Sn({parent_id:"",files:[]});return{uploadFiles:x=>{c.parent_id=l.item_id,c.files=x.map(w=>({file:w})),i(route("document.store"),{onSuccess:()=>{ve.show({message:"Document uploaded",color:"green"})},onError:w=>{let A="";Object.keys(w).length>0?A=w[Object.keys(w)[0]]:A="Error during file upload. Please try again later.",ve.show({message:A,color:"red"})},onFinish:()=>{g(),_()}})}}}function q_(){const[l,c]=M.useState([]),g=(_=>_.map(C=>C.id))(l);return{selectedRecord:l,setSelectedRecord:c,ids:g}}function K_(){return{openFolder:(c,i)=>{c==="folder"&&Pv.visit(route("folder.show",{id:i}))}}}const Y_=({folderId:l})=>{const{modals:c,closeModal:i}=Re(),g=c.selectMetadataColumns,{metadataList:_}=um(),{existingMetadataColumns:C,loading:x,error:w}=om({folderId:l,isOpen:g}),{data:A,setData:F,post:G,processing:z,errors:$,reset:q}=Sn({metadata_columns:[{id:Date.now(),value:""}],metadata_ids:[]});M.useEffect(()=>{if(C.length>0){const j=C.map(R=>({id:R.metadata_id,value:R.metadata_id.toString()}));F("metadata_columns",j)}},[C]),M.useEffect(()=>{const j=A.metadata_columns.map(R=>parseInt(R.value)).filter(R=>!isNaN(R));F("metadata_ids",j)},[A.metadata_columns]);const H=()=>{F("metadata_columns",[...A.metadata_columns,{id:Date.now(),value:""}])},I=j=>{F("metadata_columns",A.metadata_columns.filter(R=>R.id!==j))},U=(j,R)=>{const K=A.metadata_columns.map(k=>k.id===j?{...k,value:R}:k);F("metadata_columns",K)},L=j=>{j.preventDefault(),A.metadata_columns.map(R=>parseInt(R.value)).filter(R=>!isNaN(R)),G(route("folder.selectMetadataColumn",l),{preserveScroll:!0,onSuccess:()=>{i("selectMetadataColumns"),ve.show({title:"Success",message:"Metadata columns selected successfully",color:"green"}),q()},onError:()=>{ve.show({title:"Error",message:"Failed to select metadata columns",color:"red"})}})};return u.jsx(Un,{opened:g,onClose:()=>{i("selectMetadataColumns"),q()},title:u.jsx(ge,{fw:"bold",size:"lg",children:"Select Metadata Columns"}),size:550,children:x?u.jsx(jn,{justify:"center",align:"center",h:"100%",children:u.jsx(Ta,{})}):w?u.jsx(cm,{icon:u.jsx(fm,{size:16}),title:"Error",color:"red",children:w}):u.jsxs("form",{onSubmit:L,children:[u.jsxs(Mn,{gap:16,children:[u.jsx(ge,{c:"dimmed",children:"Select the metadata columns you want to display"}),A.metadata_columns.map(j=>u.jsxs(be,{justify:"space-between",align:"flex-end",children:[u.jsx(Fr,{placeholder:"Pick a metadata column",data:_.map(R=>({value:R.metadata_id.toString(),label:R.name})),value:j.value,onChange:R=>U(j.id,R||""),w:"90%",required:!0}),A.metadata_columns.length>1&&u.jsx(Te,{color:"red",variant:"subtle",onClick:()=>I(j.id),children:u.jsx(dr,{size:18})})]},j.id)),u.jsx(jn,{justify:"flex-start",children:u.jsx(ie,{variant:"subtle",color:"blue.5",leftSection:u.jsx(Tn,{size:18}),onClick:H,children:"Add New Column"})})]}),u.jsxs(jn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"outline",onClick:()=>{i("selectMetadataColumns"),q()},children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:z,children:"Save"})]})]})})};function C0({itemParent:l,itemAncestors:c,itemContents:i,folderUserRole:g}){var L;const _=M.useRef(null),{uploadFiles:C}=H_(l),{selectedRecord:x,setSelectedRecord:w,ids:A}=q_(),{openFolder:F}=K_(),{openDocument:G}=am(),[z,$]=M.useState({columnAccessor:"name",direction:"asc"}),[q,H]=M.useState(ya.sortBy(i,"name"));M.useEffect(()=>{const j=ya.sortBy(i,z.columnAccessor);H(z.direction==="desc"?j.reverse():j)},[z,i]);const I=((L=l.metadata_columns)==null?void 0:L.map(j=>({accessor:`metadata_${j.metadata_id}`,title:j.name,render:R=>{var k;const K=(k=R.metadata)==null?void 0:k.find(ee=>ee.metadata_id===j.metadata_id);return K?K.value:null},sortable:!0,ellipsis:!0})))??[],U=[{accessor:"name",render:({mime:j,type:R,name:K,approval_status:k,review_status:ee,missing_required_metadata:W})=>u.jsxs(be,{align:"center",gap:12,preventGrowOverflow:!0,children:[u.jsx(Ua,{mime:j??"",isFolder:R==="folder",reviewStatus:ee,approvalStatus:k,missingRequiredMetadata:W}),u.jsx("span",{children:K})]}),sortable:!0,ellipsis:!0},{accessor:"updated_at",title:"Last Modified",sortable:!0,ellipsis:!0},...I??[]];return u.jsxs(u.Fragment,{children:[u.jsx($v,{title:"My Files"}),u.jsx(Yv,{toolbar:x.length>0?u.jsx(G_,{setSelectedRecord:w,selectedIds:A,parentId:l.item_id}):u.jsx(B_,{itemParent:{...l},folderUserRole:g,uploadFileRef:_}),children:u.jsx(b_,{onDrop:C,openRef:_,children:u.jsxs(Mn,{px:8,gap:24,py:8,style:{pointerEvents:"all"},children:[u.jsx(Zv,{ancestors:c}),i.length?u.jsx(Gv,{textSelectionDisabled:!0,columns:U,records:q,customRowAttributes:({type:j,id:R})=>({onDoubleClick:K=>{K.button===0&&(j==="folder"?F(j,R):j==="document"&&G(R))}}),highlightOnHover:!0,verticalSpacing:"lg",horizontalSpacing:"xl",selectedRecords:x,onSelectedRecordsChange:w,sortStatus:z,onSortStatusChange:$}):u.jsx(ge,{size:"lg",c:"gray.5",children:"This folder is empty"})]})})}),u.jsx(Y_,{folderId:l.item_id})]})}export{C0 as default};
