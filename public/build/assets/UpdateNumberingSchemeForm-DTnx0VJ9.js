import{R as ce,b as P,j as d,f as Ee,u as Te,d as Xe,h as mt,U as Fe,t as vt,i as ht,e as Je,m as de,I as gt,D as pt,B as Oe,g as bt,G as xt,c as St,W as Qe,n as xe,M as et,P as wt}from"./app-C6XG0cSQ.js";import{u as Ae,b as Le,a as ze}from"./Authenticated-BorpHiS6.js";import{T as fe,F as tt}from"./OfficeLogo-BNt4QIGX.js";import{B as me}from"./Button-8-aGwO0w.js";import{S as yt}from"./Stack-wBeQs2Pj.js";import{T as Ge}from"./TextInput-yth6IhRc.js";import{I as Nt,a as Dt,b as Vt}from"./Checkbox-B-DJHyjb.js";import{I as rt,a as at}from"./InputBase-B0vbIfZ1.js";import{u as Me}from"./use-uncontrolled-BOMjDmSw.js";import{G as _e,A as Ue}from"./NotificationMenu-DAmqaZtC.js";import{S as $e}from"./Select-CTVverg_.js";import{u as Ct}from"./Popover-BCpZ3lUS.js";import{c as Ne}from"./clamp-DTmYCdls.js";function nt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}var Se;(function(e){e.event="event",e.props="prop"})(Se||(Se={}));function ae(){}function It(e){var t,r=void 0;return function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return t&&n.length===t.length&&n.every(function(i,s){return i===t[s]})||(t=n,r=e.apply(void 0,n)),r}}function we(e){return!!(e||"").match(/\d/)}function ve(e){return e==null}function _t(e){return typeof e=="number"&&isNaN(e)}function it(e){return ve(e)||_t(e)||typeof e=="number"&&!isFinite(e)}function ot(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function jt(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Rt(e,t,r){var n=jt(r),a=e.search(/[1-9]/);return a=a===-1?e.length:a,e.substring(0,a)+e.substring(a,e.length).replace(n,"$1"+t)}function Et(e){var t=P.useRef(e);t.current=e;var r=P.useRef(function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return t.current.apply(t,n)});return r.current}function Pe(e,t){t===void 0&&(t=!0);var r=e[0]==="-",n=r&&t;e=e.replace("-","");var a=e.split("."),i=a[0],s=a[1]||"";return{beforeDecimal:i,afterDecimal:s,hasNegation:r,addNegation:n}}function Tt(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",a=r[1]||"";return(t?"-":"")+n+(a?"."+a:"")}function st(e,t,r){for(var n="",a=r?"0":"",i=0;i<=t-1;i++)n+=e[i]||a;return n}function We(e,t){return Array(t+1).join(e)}function ut(e){var t=e+"",r=t[0]==="-"?"-":"";r&&(t=t.substring(1));var n=t.split(/[eE]/g),a=n[0],i=n[1];if(i=Number(i),!i)return r+a;a=a.replace(".","");var s=1+i,y=a.length;return s<0?a="0."+We("0",Math.abs(s))+a:s>=y?a=a+We("0",s-y):a=(a.substring(0,s)||"0")+"."+a.substring(s),r+a}function Ke(e,t,r){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||r)&&t,a=Pe(e),i=a.beforeDecimal,s=a.afterDecimal,y=a.hasNegation,V=parseFloat("0."+(s||"0")),b=s.length<=t?"0."+s:V.toFixed(t),v=b.split("."),g=i;i&&Number(v[0])&&(g=i.split("").reverse().reduce(function(C,h,f){return C.length>f?(Number(C[0])+Number(h)).toString()+C.substring(1,C.length):h+C},v[0]));var m=st(v[1]||"",t,r),p=y?"-":"",c=n?".":"";return""+p+g+c+m}function ue(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var lt=It(function(e,t){for(var r=0,n=0,a=e.length,i=t.length;e[r]===t[r]&&r<a;)r++;for(;e[a-1-n]===t[i-1-n]&&i-n>r&&a-n>r;)n++;return{from:{start:r,end:a-n},to:{start:r,end:i-n}}}),At=function(e,t){var r=Math.min(e.selectionStart,t);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:t}}};function Mt(e,t,r){return Math.min(Math.max(e,t),r)}function je(e){return Math.max(e.selectionStart,e.selectionEnd)}function Pt(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function kt(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Bt(e){var t=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,a=e.formattedValueIndex;return t[n]===r[a]}function Ft(e,t,r,n,a,i,s){s===void 0&&(s=Bt);var y=a.findIndex(function(B){return B}),V=e.slice(0,y);!t&&!r.startsWith(V)&&(t=V,r=V+r,n=n+V.length);for(var b=r.length,v=e.length,g={},m=new Array(b),p=0;p<b;p++){m[p]=-1;for(var c=0,C=v;c<C;c++){var h=s({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:p,formattedValueIndex:c});if(h&&g[c]!==!0){m[p]=c,g[c]=!0;break}}}for(var f=n;f<b&&(m[f]===-1||!i(r[f]));)f++;var D=f===b||m[f]===-1?v:m[f];for(f=n-1;f>0&&m[f]===-1;)f--;var j=f===-1||m[f]===-1?0:m[f]+1;return j>D?D:n-j<D-n?j:D}function qe(e,t,r,n){var a=e.length;if(t=Mt(t,0,a),n==="left"){for(;t>=0&&!r[t];)t--;t===-1&&(t=r.indexOf(!0))}else{for(;t<=a&&!r[t];)t++;t>a&&(t=r.lastIndexOf(!0))}return t===-1&&(t=a),t}function Ot(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=!!(we(e[r])||we(e[r-1]));return t}function ct(e,t,r,n,a,i){i===void 0&&(i=ae);var s=Et(function(c,C){var h,f;return it(c)?(f="",h=""):typeof c=="number"||C?(f=typeof c=="number"?ut(c):c,h=n(f)):(f=a(c,void 0),h=n(f)),{formattedValue:h,numAsString:f}}),y=P.useState(function(){return s(ve(e)?t:e,r)}),V=y[0],b=y[1],v=function(c,C){c.formattedValue!==V.formattedValue&&b({formattedValue:c.formattedValue,numAsString:c.value}),i(c,C)},g=e,m=r;ve(e)&&(g=V.numAsString,m=!0);var p=s(g,m);return P.useMemo(function(){b(p)},[p.formattedValue]),[V,v]}function Lt(e){return e.replace(/[^0-9]/g,"")}function zt(e){return e}function Gt(e){var t=e.type;t===void 0&&(t="text");var r=e.displayType;r===void 0&&(r="input");var n=e.customInput,a=e.renderText,i=e.getInputRef,s=e.format;s===void 0&&(s=zt);var y=e.removeFormatting;y===void 0&&(y=Lt);var V=e.defaultValue,b=e.valueIsNumericString,v=e.onValueChange,g=e.isAllowed,m=e.onChange;m===void 0&&(m=ae);var p=e.onKeyDown;p===void 0&&(p=ae);var c=e.onMouseUp;c===void 0&&(c=ae);var C=e.onFocus;C===void 0&&(C=ae);var h=e.onBlur;h===void 0&&(h=ae);var f=e.value,D=e.getCaretBoundary;D===void 0&&(D=Ot);var j=e.isValidInputCharacter;j===void 0&&(j=we);var B=e.isCharacterSame,G=nt(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),q=ct(f,V,!!b,s,y,v),$=q[0],I=$.formattedValue,U=$.numAsString,W=q[1],K=P.useRef(),Z=P.useRef({formattedValue:I,numAsString:U}),O=function(u,l){Z.current={formattedValue:u.formattedValue,numAsString:u.value},W(u,l)},J=P.useState(!1),Y=J[0],x=J[1],S=P.useRef(null),_=P.useRef({setCaretTimeout:null,focusTimeout:null});P.useEffect(function(){return x(!0),function(){clearTimeout(_.current.setCaretTimeout),clearTimeout(_.current.focusTimeout)}},[]);var E=s,F=function(u,l){var w=parseFloat(l);return{formattedValue:u,value:l,floatValue:isNaN(w)?void 0:w}},k=function(u,l,w){u.selectionStart===0&&u.selectionEnd===u.value.length||(ue(u,l),_.current.setCaretTimeout=setTimeout(function(){u.value===w&&u.selectionStart!==l&&ue(u,l)},0))},M=function(u,l,w){return qe(u,l,D(u),w)},Q=function(u,l,w){var R=D(l),L=Ft(l,I,u,w,R,j,B);return L=qe(l,L,R),L},he=function(u){var l=u.formattedValue;l===void 0&&(l="");var w=u.input,R=u.source,L=u.event,A=u.numAsString,o;if(w){var N=u.inputValue||w.value,z=je(w);w.value=l,o=Q(N,l,z),o!==void 0&&k(w,o,l)}l!==I&&O(F(l,A),{event:L,source:R})};P.useEffect(function(){var u=Z.current,l=u.formattedValue,w=u.numAsString;(I!==l||U!==w)&&O(F(I,U),{event:void 0,source:Se.props})},[I,U]);var T=S.current?je(S.current):void 0,ne=typeof window<"u"?P.useLayoutEffect:P.useEffect;ne(function(){var u=S.current;if(I!==Z.current.formattedValue&&u){var l=Q(Z.current.formattedValue,I,T);u.value=I,k(u,l,I)}},[I]);var ye=function(u,l,w){var R=l.target,L=K.current?At(K.current,R.selectionEnd):lt(I,u),A=Object.assign(Object.assign({},L),{lastValue:I}),o=y(u,A),N=E(o);if(o=y(N,void 0),g&&!g(F(N,o))){var z=l.target,H=je(z),X=Q(u,I,H);return z.value=I,k(z,X,I),!1}return he({formattedValue:N,numAsString:o,inputValue:u,event:l,source:w,input:l.target}),!0},ee=function(u,l){l===void 0&&(l=0);var w=u.selectionStart,R=u.selectionEnd;K.current={selectionStart:w,selectionEnd:R+l}},ie=function(u){var l=u.target,w=l.value,R=ye(w,u,Se.event);R&&m(u),K.current=void 0},ge=function(u){var l=u.target,w=u.key,R=l.selectionStart,L=l.selectionEnd,A=l.value;A===void 0&&(A="");var o;w==="ArrowLeft"||w==="Backspace"?o=Math.max(R-1,0):w==="ArrowRight"?o=Math.min(R+1,A.length):w==="Delete"&&(o=R);var N=0;w==="Delete"&&R===L&&(N=1);var z=w==="ArrowLeft"||w==="ArrowRight";if(o===void 0||R!==L&&!z){p(u),ee(l,N);return}var H=o;if(z){var X=w==="ArrowLeft"?"left":"right";H=M(A,o,X),H!==o&&u.preventDefault()}else w==="Delete"&&!j(A[o])?H=M(A,o,"right"):w==="Backspace"&&!j(A[o])&&(H=M(A,o,"left"));H!==o&&k(l,H,A),p(u),ee(l,N)},Ce=function(u){var l=u.target,w=function(){var R=l.selectionStart,L=l.selectionEnd,A=l.value;if(A===void 0&&(A=""),R===L){var o=M(A,R);o!==R&&k(l,o,A)}};w(),requestAnimationFrame(function(){w()}),c(u),ee(l)},oe=function(u){u.persist&&u.persist();var l=u.target,w=u.currentTarget;S.current=l,_.current.focusTimeout=setTimeout(function(){var R=l.selectionStart,L=l.selectionEnd,A=l.value;A===void 0&&(A="");var o=M(A,R);o!==R&&!(R===0&&L===A.length)&&k(l,o,A),C(Object.assign(Object.assign({},u),{currentTarget:w}))},0)},pe=function(u){S.current=null,clearTimeout(_.current.focusTimeout),clearTimeout(_.current.setCaretTimeout),h(u)},le=Y&&Pt()?"numeric":void 0,se=Object.assign({inputMode:le},G,{type:t,value:I,onChange:ie,onKeyDown:ge,onMouseUp:Ce,onFocus:oe,onBlur:pe});if(r==="text")return a?ce.createElement(ce.Fragment,null,a(I,G)||null):ce.createElement("span",Object.assign({},G,{ref:i}),I);if(n){var Ie=n;return ce.createElement(Ie,Object.assign({},se,{ref:i}))}return ce.createElement("input",Object.assign({},se,{ref:i}))}function Ze(e,t){var r=t.decimalScale,n=t.fixedDecimalScale,a=t.prefix;a===void 0&&(a="");var i=t.suffix;i===void 0&&(i="");var s=t.allowNegative,y=t.thousandsGroupStyle;if(y===void 0&&(y="thousand"),e===""||e==="-")return e;var V=De(t),b=V.thousandSeparator,v=V.decimalSeparator,g=r!==0&&e.indexOf(".")!==-1||r&&n,m=Pe(e,s),p=m.beforeDecimal,c=m.afterDecimal,C=m.addNegation;return r!==void 0&&(c=st(c,r,!!n)),b&&(p=Rt(p,b,y)),a&&(p=a+p),i&&(c=c+i),C&&(p="-"+p),e=p+(g&&v||"")+c,e}function De(e){var t=e.decimalSeparator;t===void 0&&(t=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:n}}function Ut(e,t){e===void 0&&(e="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),a=r.test(e),i=n.test(e);return e=e.replace(/-/g,""),a&&!i&&t&&(e="-"+e),e}function $t(e,t){return new RegExp("(^-)|[0-9]|"+ot(e),"g")}function Wt(e,t,r){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function Kt(e,t,r){var n;t===void 0&&(t=kt(e));var a=r.allowNegative,i=r.prefix;i===void 0&&(i="");var s=r.suffix;s===void 0&&(s="");var y=r.decimalScale,V=t.from,b=t.to,v=b.start,g=b.end,m=De(r),p=m.allowedDecimalSeparators,c=m.decimalSeparator,C=e[g]===c;if(we(e)&&(e===i||e===s)&&t.lastValue==="")return e;if(g-v===1&&p.indexOf(e[v])!==-1){var h=y===0?"":c;e=e.substring(0,v)+h+e.substring(v+1,e.length)}var f=function(S,_,E){var F=!1,k=!1;i.startsWith("-")?F=!1:S.startsWith("--")?(F=!1,k=!0):s.startsWith("-")&&S.length===s.length?F=!1:S[0]==="-"&&(F=!0);var M=F?1:0;return k&&(M=2),M&&(S=S.substring(M),_-=M,E-=M),{value:S,start:_,end:E,hasNegation:F}},D=f(e,v,g),j=D.hasNegation;n=D,e=n.value,v=n.start,g=n.end;var B=f(t.lastValue,V.start,V.end),G=B.start,q=B.end,$=B.value,I=e.substring(v,g);e.length&&$.length&&(G>$.length-s.length||q<i.length)&&!(I&&s.startsWith(I))&&(e=$);var U=0;e.startsWith(i)?U+=i.length:v<i.length&&(U=v),e=e.substring(U),g-=U;var W=e.length,K=e.length-s.length;e.endsWith(s)?W=K:(g>K||g>e.length-s.length)&&(W=g),e=e.substring(0,W),e=Ut(j?"-"+e:e,a),e=(e.match($t(c))||[]).join("");var Z=e.indexOf(c);e=e.replace(new RegExp(ot(c),"g"),function(S,_){return _===Z?".":""});var O=Pe(e,a),J=O.beforeDecimal,Y=O.afterDecimal,x=O.addNegation;return b.end-b.start<V.end-V.start&&J===""&&C&&!parseFloat(Y)&&(e=x?"-":""),e}function qt(e,t){var r=t.prefix;r===void 0&&(r="");var n=t.suffix;n===void 0&&(n="");var a=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";a.fill(!1,0,r.length+(i?1:0));var s=e.length;return a.fill(!1,s-n.length+1,s+1),a}function Zt(e){var t=De(e),r=t.thousandSeparator,n=t.decimalSeparator,a=e.prefix;a===void 0&&(a="");var i=e.allowNegative;if(i===void 0&&(i=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return a.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+a+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function Yt(e){e=Zt(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,r=e.allowNegative,n=e.allowLeadingZeros,a=e.onKeyDown;a===void 0&&(a=ae);var i=e.onBlur;i===void 0&&(i=ae);var s=e.thousandSeparator,y=e.decimalScale,V=e.fixedDecimalScale,b=e.prefix;b===void 0&&(b="");var v=e.defaultValue,g=e.value,m=e.valueIsNumericString,p=e.onValueChange,c=nt(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),C=De(e),h=C.decimalSeparator,f=C.allowedDecimalSeparators,D=function(x){return Ze(x,e)},j=function(x,S){return Kt(x,S,e)},B=ve(g)?v:g,G=m??Wt(B,b,t);ve(g)?ve(v)||(G=G||typeof v=="number"):G=G||typeof g=="number";var q=function(x){return it(x)?x:(typeof x=="number"&&(x=ut(x)),G&&typeof y=="number"?Ke(x,y,!!V):x)},$=ct(q(g),q(v),!!G,D,j,p),I=$[0],U=I.numAsString,W=I.formattedValue,K=$[1],Z=function(x){var S=x.target,_=x.key,E=S.selectionStart,F=S.selectionEnd,k=S.value;if(k===void 0&&(k=""),(_==="Backspace"||_==="Delete")&&F<b.length){x.preventDefault();return}if(E!==F){a(x);return}_==="Backspace"&&k[0]==="-"&&E===b.length+1&&r&&ue(S,1),y&&V&&(_==="Backspace"&&k[E-1]===h?(ue(S,E-1),x.preventDefault()):_==="Delete"&&k[E]===h&&x.preventDefault()),f!=null&&f.includes(_)&&k[E]===h&&ue(S,E+1);var M=s===!0?",":s;_==="Backspace"&&k[E-1]===M&&ue(S,E-1),_==="Delete"&&k[E]===M&&ue(S,E+1),a(x)},O=function(x){var S=U;if(S.match(/\d/g)||(S=""),n||(S=Tt(S)),V&&y&&(S=Ke(S,y,V)),S!==U){var _=Ze(S,e);K({formattedValue:_,value:S,floatValue:parseFloat(S)},{event:x,source:Se.event})}i(x)},J=function(x){return x===h?!0:we(x)},Y=function(x){var S=x.currentValue,_=x.lastValue,E=x.formattedValue,F=x.currentValueIndex,k=x.formattedValueIndex,M=S[F],Q=E[k],he=lt(_,S),T=he.to;return F>=T.start&&F<T.end&&f&&f.includes(M)&&Q===h?!0:M===Q};return Object.assign(Object.assign({},c),{value:W,valueIsNumericString:!1,isValidInputCharacter:J,isCharacterSame:Y,onValueChange:K,format:D,removeFormatting:j,getCaretBoundary:function(x){return qt(x,e)},onKeyDown:Z,onBlur:O})}function Ht(e){var t=Yt(e);return ce.createElement(Gt,Object.assign({},t))}function Ye({direction:e,style:t,...r}){return d.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:d.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Re={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Xt=/^(0\.0*|-0(\.0*)?)$/,Jt=/^-?0\d+(\.\d+)?\.?$/;function Qt(e){return e.toString().replace(".","").length}function er(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&Qt(t)<14&&t!==""}function He(e,t,r){if(e===void 0)return!0;const n=t===void 0||e>=t,a=r===void 0||e<=r;return n&&a}const tr={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},rr=Je((e,{size:t})=>({controls:{"--ni-chevron-size":de(t,"ni-chevron-size")}})),ke=Ee((e,t)=>{const r=Te("NumberInput",tr,e),{className:n,classNames:a,styles:i,unstyled:s,vars:y,onChange:V,onValueChange:b,value:v,defaultValue:g,max:m,min:p,step:c,hideControls:C,rightSection:h,isAllowed:f,clampBehavior:D,onBlur:j,allowDecimal:B,decimalScale:G,onKeyDown:q,onKeyDownCapture:$,handlersRef:I,startValue:U,disabled:W,rightSectionPointerEvents:K,allowNegative:Z,readOnly:O,size:J,rightSectionWidth:Y,stepHoldInterval:x,stepHoldDelay:S,allowLeadingZeros:_,withKeyboardEvents:E,trimLeadingZeroesOnBlur:F,...k}=r,M=Xe({name:"NumberInput",classes:Re,props:r,classNames:a,styles:i,unstyled:s,vars:y,varsResolver:rr}),{resolvedClassNames:Q,resolvedStyles:he}=Ct({classNames:a,styles:i,props:r}),[T,ne]=Me({value:v,defaultValue:g,onChange:V}),ye=S!==void 0&&x!==void 0,ee=P.useRef(null),ie=P.useRef(null),ge=P.useRef(0),Ce=(o,N)=>{N.source==="event"&&ne(er(o.floatValue,o.value)&&!Xt.test(o.value)&&!(_&&Jt.test(o.value))?o.floatValue:o.value),b==null||b(o,N)},oe=o=>{const N=String(o).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return N?Math.max(0,(N[1]?N[1].length:0)-(N[2]?+N[2]:0)):0},pe=o=>{ee.current&&typeof o<"u"&&ee.current.setSelectionRange(o,o)},le=P.useRef();le.current=()=>{let o;const N=oe(T),z=oe(c),H=Math.max(N,z),X=10**H;if(typeof T!="number"||Number.isNaN(T))o=Ne(U,p,m);else if(m!==void 0){const te=(Math.round(T*X)+Math.round(c*X))/X;o=te<=m?te:m}else o=(Math.round(T*X)+Math.round(c*X))/X;const re=o.toFixed(H);ne(parseFloat(re)),b==null||b({floatValue:parseFloat(re),formattedValue:re,value:re},{source:"increment"}),setTimeout(()=>{var te;return pe((te=ee.current)==null?void 0:te.value.length)},0)};const se=P.useRef();se.current=()=>{let o;const N=p!==void 0?p:Z?Number.MIN_SAFE_INTEGER:0,z=oe(T),H=oe(c),X=Math.max(z,H),re=10**X;if(typeof T!="number"||Number.isNaN(T))o=Ne(U,N,m);else{const be=(Math.round(T*re)-Math.round(c*re))/re;o=N!==void 0&&be<N?N:be}const te=o.toFixed(X);ne(parseFloat(te)),b==null||b({floatValue:parseFloat(te),formattedValue:te,value:te},{source:"decrement"}),setTimeout(()=>{var be;return pe((be=ee.current)==null?void 0:be.value.length)},0)};const Ie=o=>{q==null||q(o),!(O||!E)&&(o.key==="ArrowUp"&&(o.preventDefault(),le.current()),o.key==="ArrowDown"&&(o.preventDefault(),se.current()))},u=o=>{if($==null||$(o),o.key==="Backspace"){const N=ee.current;N.selectionStart===0&&N.selectionStart===N.selectionEnd&&(o.preventDefault(),window.setTimeout(()=>pe(0),0))}};mt(I,{increment:le.current,decrement:se.current});const l=o=>{o?le.current():se.current(),ge.current+=1},w=o=>{if(l(o),ye){const N=typeof x=="number"?x:x(ge.current);ie.current=window.setTimeout(()=>w(o),N)}},R=(o,N)=>{var z;o.preventDefault(),(z=ee.current)==null||z.focus(),l(N),ye&&(ie.current=window.setTimeout(()=>w(N),S))},L=()=>{ie.current&&window.clearTimeout(ie.current),ie.current=null,ge.current=0},A=d.jsxs("div",{...M("controls"),children:[d.jsx(Fe,{...M("control"),tabIndex:-1,"aria-hidden":!0,disabled:W||typeof T=="number"&&m!==void 0&&T>=m,mod:{direction:"up"},onMouseDown:o=>o.preventDefault(),onPointerDown:o=>{R(o,!0)},onPointerUp:L,onPointerLeave:L,children:d.jsx(Ye,{direction:"up"})}),d.jsx(Fe,{...M("control"),tabIndex:-1,"aria-hidden":!0,disabled:W||typeof T=="number"&&p!==void 0&&T<=p,mod:{direction:"down"},onMouseDown:o=>o.preventDefault(),onPointerDown:o=>{R(o,!1)},onPointerUp:L,onPointerLeave:L,children:d.jsx(Ye,{direction:"down"})})]});return d.jsx(rt,{component:Ht,allowNegative:Z,className:vt(Re.root,n),size:J,...k,readOnly:O,disabled:W,value:T,getInputRef:ht(t,ee),onValueChange:Ce,rightSection:C||O?h:h||A,classNames:Q,styles:he,unstyled:s,__staticSelector:"NumberInput",decimalScale:B?G:0,onKeyDown:Ie,onKeyDownCapture:u,rightSectionPointerEvents:K??(W?"none":void 0),rightSectionWidth:Y??`var(--ni-right-section-width-${J||"sm"})`,allowLeadingZeros:_,onBlur:o=>{if(j==null||j(o),D==="blur"&&typeof T=="number"&&Ne(T,p,m)!==T&&ne(Ne(T,p,m)),F&&typeof T=="string"&&oe(T)<15){const N=T.replace(/^0+/,""),z=parseFloat(N);ne(Number.isNaN(z)||z>Number.MAX_SAFE_INTEGER?N:z)}},isAllowed:o=>D==="strict"?f?f(o)&&He(o.floatValue,p,m):He(o.floatValue,p,m):f?f(o):!0})});ke.classes={...rt.classes,...Re};ke.displayName="@mantine/core/NumberInput";const dt=P.createContext(null),ar=dt.Provider,nr=()=>P.useContext(dt),ir={},Be=Ee((e,t)=>{const{value:r,defaultValue:n,onChange:a,size:i,wrapperProps:s,children:y,readOnly:V,...b}=Te("SwitchGroup",ir,e),[v,g]=Me({value:r,defaultValue:n,finalValue:[],onChange:a}),m=p=>{const c=p.currentTarget.value;!V&&g(v.includes(c)?v.filter(C=>C!==c):[...v,c])};return d.jsx(ar,{value:{value:v,onChange:m,size:i},children:d.jsx(at.Wrapper,{size:i,ref:t,...s,...b,labelElement:"div",__staticSelector:"SwitchGroup",children:d.jsx(Nt,{role:"group",children:y})})})});Be.classes=at.Wrapper.classes;Be.displayName="@mantine/core/SwitchGroup";var ft={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const or={labelPosition:"right"},sr=Je((e,{radius:t,color:r,size:n})=>({root:{"--switch-radius":t===void 0?void 0:bt(t),"--switch-height":de(n,"switch-height"),"--switch-width":de(n,"switch-width"),"--switch-thumb-size":de(n,"switch-thumb-size"),"--switch-label-font-size":de(n,"switch-label-font-size"),"--switch-track-label-padding":de(n,"switch-track-label-padding"),"--switch-color":r?xt(r,e):void 0}})),Ve=Ee((e,t)=>{const r=Te("Switch",or,e),{classNames:n,className:a,style:i,styles:s,unstyled:y,vars:V,color:b,label:v,offLabel:g,onLabel:m,id:p,size:c,radius:C,wrapperProps:h,thumbIcon:f,checked:D,defaultChecked:j,onChange:B,labelPosition:G,description:q,error:$,disabled:I,variant:U,rootRef:W,mod:K,...Z}=r,O=nr(),J=c||(O==null?void 0:O.size),Y=Xe({name:"Switch",props:r,classes:ft,className:a,style:i,classNames:n,styles:s,unstyled:y,vars:V,varsResolver:sr}),{styleProps:x,rest:S}=gt(Z),_=pt(p),E=O?{checked:O.value.includes(S.value),onChange:O.onChange}:{},[F,k]=Me({value:E.checked??D,defaultValue:j,finalValue:!1});return d.jsxs(Dt,{...Y("root"),__staticSelector:"Switch",__stylesApiProps:r,id:_,size:J,labelPosition:G,label:v,description:q,error:$,disabled:I,bodyElement:"label",labelElement:"span",classNames:n,styles:s,unstyled:y,"data-checked":E.checked||void 0,variant:U,ref:W,mod:K,...x,...h,children:[d.jsx("input",{...S,disabled:I,checked:F,onChange:M=>{var Q;O?(Q=E.onChange)==null||Q.call(E,M):B==null||B(M),k(M.currentTarget.checked)},id:_,ref:t,type:"checkbox",role:"switch",...Y("input")}),d.jsxs(Oe,{"aria-hidden":"true",mod:{error:$,"label-position":G,"without-labels":!m&&!g},...Y("track"),children:[d.jsx(Oe,{component:"span",mod:"reduce-motion",...Y("thumb"),children:f}),d.jsx("span",{...Y("trackLabel"),children:F?m:g})]})]})});Ve.classes={...ft,...Vt};Ve.displayName="@mantine/core/Switch";Ve.Group=Be;function ur({numberingSchemeId:e,isOpen:t}){const[r,n]=P.useState(null);P.useEffect(()=>{e&&t&&a(e)},[e,t]);const a=async i=>{try{const s=await St.get(`/numbering-scheme/${i}`);n(s.data)}catch(s){console.error("Error fetching numbering scheme",s)}};return r}function lr({itemParent:e,isOpen:t}){const r=ur({numberingSchemeId:e==null?void 0:e.numbering_scheme_id,isOpen:t}),{data:n,setData:a,put:i,processing:s,errors:y,reset:V}=Qe({name:"",prefix:"",next_number:0,reset_frequency:"none",add_if_approved:!1}),{closeModal:b}=Ae(),[v,g]=P.useState([]);return P.useEffect(()=>{if(r){const f=/(\{[^}]+\}|\[[^\]]+\])/g,D=r.prefix.match(f),j=[];D&&D.forEach(B=>{B.startsWith("{")&&B.endsWith("}")?j.push({id:Date.now()+Math.random(),type:"text",value:B.slice(1,-1)}):B.startsWith("[")&&B.endsWith("]")&&j.push({id:Date.now()+Math.random(),type:"dynamic",value:B.slice(1,-1)})}),g(j),a({name:r.name||"",prefix:r.prefix||"",next_number:r.next_number||0,reset_frequency:r.reset_frequency||"none",add_if_approved:r.add_if_approved||!1})}},[r]),P.useEffect(()=>{const f=v.map(D=>D.type==="text"?`{${D.value}}`:`[${D.value}]`).join(" ");a("prefix",f)},[v]),{data:n,setData:a,handleSubmit:f=>{f.preventDefault(),i(route("numbering-scheme.update",e==null?void 0:e.numbering_scheme_id),{onSuccess:()=>{b("updateNumberingScheme"),xe.show({message:"Numbering scheme updated successfully",color:"green"})},onError:()=>{xe.show({message:"Something went wrong",color:"red"})},onFinish:()=>V()})},processing:s,errors:y,prefixParts:v,addTextPart:()=>{g([...v,{id:Date.now(),type:"text",value:""}])},addDynamicPart:()=>{g([...v,{id:Date.now(),type:"dynamic",value:""}])},updatePart:(f,D)=>{g(v.map(j=>j.id===f?{...j,value:D}:j))},removePart:f=>{g(v.filter(D=>D.id!==f))}}}function cr({numberingSchemeId:e,onDeleteSuccess:t}){const{delete:r,processing:n}=Qe();return{handleDeleteNumberingScheme:()=>{if(!e){xe.show({message:"Numbering Scheme ID is missing.",color:"red"});return}r(route("numbering-scheme.destroy",e),{onSuccess:()=>{xe.show({message:"Numbering Scheme deleted successfully.",color:"green"}),t()},onError:i=>{let s="Failed to delete numbering scheme.";i&&Object.keys(i).length>0&&(s=i[Object.keys(i)[0]]),xe.show({message:s,color:"red"})}})},processing:n}}const dr=({numberingSchemeId:e})=>{const{modals:t,closeModal:r,openModal:n}=Ae(),a=t.confirmDeleteNumberingScheme,{handleDeleteNumberingScheme:i,processing:s}=cr({numberingSchemeId:e,onDeleteSuccess:()=>{r("confirmDeleteNumberingScheme"),r("updateNumberingScheme")}});return d.jsxs(et,{opened:a,onClose:()=>r("confirmDeleteNumberingScheme"),title:d.jsx(fe,{fw:"bold",size:"lg",children:"Confirm Delete"}),size:"sm",children:[d.jsx(fe,{c:"gray.8",children:"Are you sure you want to delete this numbering scheme? This action cannot be undone."}),d.jsxs(tt,{align:"center",justify:"flex-end",mt:16,children:[d.jsx(me,{variant:"light",onClick:()=>{r("confirmDeleteNumberingScheme"),n("updateNumberingScheme")},children:"Cancel"}),d.jsx(me,{color:"red",ml:12,onClick:i,loading:s,children:"Delete"})]})]})},Vr=({itemParent:e})=>{const{modals:t,closeModal:r,openModal:n}=Ae(),a=t.updateNumberingScheme,{data:i,setData:s,handleSubmit:y,processing:V,errors:b,prefixParts:v,addTextPart:g,addDynamicPart:m,updatePart:p,removePart:c}=lr({itemParent:e,isOpen:a}),C=[{value:"YY",label:"Year"},{value:"MM",label:"Month"},{value:"DD",label:"Day"},{value:"INC",label:"Increment"}];return d.jsxs(d.Fragment,{children:[d.jsx(et,{opened:a,onClose:()=>r("updateNumberingScheme"),title:d.jsx(fe,{size:"lg",children:"Update Numbering Scheme"}),size:600,children:d.jsxs("form",{onSubmit:y,children:[d.jsxs(yt,{gap:16,children:[d.jsx(Ge,{label:"Name",value:i.name,onChange:h=>s("name",h.target.value),error:b.name,required:!0}),d.jsx(Ve,{label:"Add Number Only If Approved",checked:i.add_if_approved,onChange:h=>s("add_if_approved",h.currentTarget.checked),mt:"md"}),d.jsx(fe,{size:"sm",fw:500,children:"Prefix Builder"}),d.jsxs(_e,{children:[d.jsx(me,{variant:"subtle",size:"sm",leftSection:d.jsx(Le,{size:16}),onClick:g,children:"Add Text"}),d.jsx(me,{variant:"subtle",size:"sm",leftSection:d.jsx(Le,{size:16}),onClick:m,children:"Add Dynamic"})]}),v.map((h,f)=>d.jsxs(_e,{align:"flex-end",children:[h.type==="text"?d.jsx(Ge,{placeholder:"Enter text",value:h.value,onChange:D=>p(h.id,D.target.value),required:!0,style:{flex:1}}):d.jsx($e,{placeholder:"Select dynamic part",data:C,value:h.value,onChange:D=>p(h.id,D||""),required:!0,style:{flex:1}}),d.jsx(Ue,{color:"red",onClick:()=>c(h.id),children:d.jsx(ze,{size:16})})]},h.id)),d.jsx(fe,{size:"sm",fw:500,children:"Preview:"}),d.jsx(wt,{withBorder:!0,p:12,bg:"#f9f9f9",children:d.jsx(fe,{children:v.map(h=>{if(h.type==="text")return h.value;switch(h.value){case"YY":return new Date().getFullYear().toString().slice(2);case"MM":return(new Date().getMonth()+1).toString().padStart(2,"0");case"DD":return new Date().getDate().toString().padStart(2,"0");case"INC":return i.next_number.toString().padStart(3,"0");default:return""}}).join(" ").trim()})}),d.jsxs(_e,{justify:"space-between",children:[d.jsx(ke,{label:"Next Number",value:i.next_number,onChange:h=>s("next_number",Number(h)),min:1,error:b.next_number,required:!0,style:{flex:1}}),d.jsx($e,{label:"Reset Frequency",data:[{value:"none",label:"None"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],value:i.reset_frequency,onChange:h=>s("reset_frequency",h??"none"),error:b.reset_frequency,required:!0})]})]}),d.jsxs(tt,{align:"center",justify:"end",mt:24,children:[d.jsx(me,{variant:"light",onClick:()=>r("updateNumberingScheme"),children:"Cancel"}),d.jsx(me,{ml:12,type:"submit",loading:V,children:"Update"}),d.jsx(Ue,{variant:"transparent",color:"red",onClick:()=>{r("updateNumberingScheme"),n("confirmDeleteNumberingScheme")},title:"Delete Numbering Scheme",ml:12,children:d.jsx(ze,{size:18})})]})]})}),d.jsx(dr,{numberingSchemeId:e==null?void 0:e.numbering_scheme_id})]})};export{ke as N,Ve as S,Vr as U};
