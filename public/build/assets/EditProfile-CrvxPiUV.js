import{b as g,W as _,j as e,B as y,r as b,M as S,T as P,v as z,a as D,Y as N,P as v}from"./app-B1t0nWF2.js";import{a as A,A as E}from"./Authenticated-Cn6MVLYw.js";import{T as r}from"./Text-CTq1jRaK.js";import{B as w}from"./Button-HaXgOpsJ.js";import{T as u}from"./TextInput-C5DBO-eL.js";import{F as C}from"./Flex-vxGNn1YY.js";import{A as k}from"./Anchor-DmK4caIo.js";import"./OfficeLogo-CnZm09Bf.js";import"./Stack-DzZL_UtP.js";import"./Popover-CNN9VJPa.js";import"./use-uncontrolled-DXGPZ-HS.js";import"./createReactComponent-CvUE1uel.js";import"./Avatar-DhTNpjzT.js";import"./IconUser-DH80TIA7.js";import"./get-sorted-breakpoints-QhZfIvBG.js";import"./InputBase-wHy3O5_x.js";function B(){const o=g.useRef(null),[n,{open:t,close:a}]=A(!1),{data:i,setData:p,delete:d,processing:f,reset:l,errors:h}=_({password:""}),s=c=>{c.preventDefault(),d(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>a(),onError:()=>{var x;return(x=o.current)==null?void 0:x.focus()},onFinish:()=>l()})},j=()=>{a(),l()};return e.jsxs(y,{style:{maxWidth:b(580)},children:[e.jsxs("header",{children:[e.jsx(r,{size:"lg",children:"Delete Account"}),e.jsx(r,{c:"dimmed",mt:4,size:"sm",children:"Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain."})]}),e.jsx(w,{color:"red",onClick:t,mt:24,children:"Delete Account"}),e.jsx(S,{opened:n,onClose:a,centered:!0,title:e.jsx(r,{size:"lg",children:"Are you sure you want to delete your account?"}),size:"lg",children:e.jsxs("form",{onSubmit:s,children:[e.jsx(r,{c:"dimmed",mt:4,size:"sm",pr:4,children:"Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain."}),e.jsx(y,{my:24,children:e.jsx(u,{id:"password",name:"password",type:"password",ref:o,value:i.password,onChange:c=>p("password",c.target.value),mt:4,placeholder:"Password",error:h.password,autoFocus:!0})}),e.jsxs(C,{justify:"end",mt:24,children:[e.jsx(w,{variant:"subtle",color:"gray",onClick:j,children:"Cancel"}),e.jsx(w,{color:"red",ml:12,loading:f,type:"submit",children:"Delete Account"})]})]})})]})}const F="_card_11p98_1",I="_container_11p98_9",T="_form_11p98_34",m={card:F,container:I,form:T};function U(){const o=g.useRef(null),n=g.useRef(null),{data:t,setData:a,errors:i,put:p,reset:d,processing:f,recentlySuccessful:l}=_({current_password:"",password:"",password_confirmation:""}),h=s=>{s.preventDefault(),p(route("password.update"),{preserveScroll:!0,onSuccess:()=>d(),onError:j=>{var c,x;j.password&&(d("password","password_confirmation"),(c=o.current)==null||c.focus()),j.current_password&&(d("current_password"),(x=n.current)==null||x.focus())}})};return e.jsxs(y,{style:{maxWidth:b(580)},children:[e.jsxs("header",{children:[e.jsx(r,{size:"lg",children:" Update Password"}),e.jsx(r,{c:"dimmed",mt:4,size:"sm",children:"Ensure your account is using a long, random password to stay secure."})]}),e.jsxs("form",{onSubmit:h,className:m.form,children:[e.jsx("div",{children:e.jsx(u,{id:"current_password",label:"Current Password",name:"current_password",ref:n,value:t.current_password,onChange:s=>a("current_password",s.target.value),type:"password",autoComplete:"current-password",mt:4,error:i.current_password})}),e.jsx("div",{children:e.jsx(u,{id:"password",name:"password",label:"New Password",ref:o,value:t.password,onChange:s=>a("password",s.target.value),type:"password",className:"block w-full mt-1",autoComplete:"new-password",mt:4,error:i.password})}),e.jsx("div",{children:e.jsx(u,{id:"password_confirmation",name:"password_confirmation",label:"Confirm Password",value:t.password_confirmation,onChange:s=>a("password_confirmation",s.target.value),type:"password",className:"block w-full mt-1",autoComplete:"new-password",mt:4,error:i.password_confirmation})}),e.jsxs(C,{align:"center",gap:16,children:[e.jsx(w,{type:"submit",loading:f,children:"Save"}),e.jsx(P,{mounted:l,transition:"fade",duration:400,children:s=>e.jsx(r,{c:"gray",size:"sm",style:s,children:"Saved"})})]})]})]})}function R({mustVerifyEmail:o,status:n}){const t=z().props.auth.user,{data:a,setData:i,patch:p,errors:d,processing:f,recentlySuccessful:l}=_({name:t.name,email:t.email}),h=s=>{s.preventDefault(),p(route("profile.update"))};return e.jsxs(y,{style:{maxWidth:b(580)},children:[e.jsxs("header",{children:[e.jsx(r,{size:"lg",children:"Profile Information"}),e.jsx(r,{c:"dimmed",mt:4,size:"sm",children:"Update your account's profile information and email address."})]}),e.jsxs("form",{onSubmit:h,className:m.form,children:[e.jsx("div",{children:e.jsx(u,{id:"name",type:"name",name:"name",value:a.name,mt:4,autoComplete:"name",leftSectionPointerEvents:"none",label:"Name",onChange:s=>i("name",s.target.value),error:d.name,required:!0})}),e.jsx("div",{children:e.jsx(u,{id:"email",type:"email",name:"email",value:a.email,mt:4,autoComplete:"username",leftSectionPointerEvents:"none",label:"Email",onChange:s=>i("email",s.target.value),error:d.email,required:!0})}),o&&t.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs(r,{mt:8,size:"sm",children:["Your email address is unverified."," ",e.jsx(k,{component:D,href:route("verification.send"),method:"post",as:"button",children:"Click here to re-send the verification email."})]}),n==="verification-link-sent"&&e.jsx(r,{c:"green",mt:8,size:"sm",fw:500,children:"A new verification link has been sent to your email address."})]}),e.jsxs(C,{align:"center",gap:16,children:[e.jsx(w,{type:"submit",loading:f,children:"Save"}),e.jsx(P,{mounted:l,transition:"fade",duration:400,children:s=>e.jsx(r,{c:"gray",size:"sm",style:s,children:"Saved"})})]})]})]})}function se({mustVerifyEmail:o,status:n}){return e.jsxs(E,{children:[e.jsx(N,{title:"Profile"}),e.jsxs("div",{className:m.container,children:[e.jsx(v,{shadow:"xs",radius:"md",className:m.card,children:e.jsx(R,{mustVerifyEmail:o,status:n})}),e.jsx(v,{shadow:"xs",radius:"md",className:m.card,children:e.jsx(U,{})}),e.jsx(v,{shadow:"xs",radius:"md",className:m.card,children:e.jsx(B,{})})]})]})}export{se as default};
