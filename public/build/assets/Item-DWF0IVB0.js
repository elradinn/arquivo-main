import{w as ja,f as Mo,u as di,x as Tv,a as ko,j as u,T as Mv,B as Lo,L as Ta,O as ma,c as Ma,o as kv,m as dr,d as T,R as ka,z as Lv,A as Uv,k as zv,b as Wv,D as Nv,n as pe,r as It,W as Sn,M as Ln,P as Bv,e as pr,h as Oo,y as Pv,Y as $v}from"./app-CxnqOemo.js";import{Y as Gv}from"./index-D2EMUr73.js";import{u as Hv,G as be,M as ct,I as qv,D as Kv,c as La}from"./NotificationMenu-EwVgCQfi.js";import{u as Re,a as dt,b as Mn,T as Cn,c as Yv,A as Zv}from"./Authenticated-DPkSzb4L.js";import{I as Xv}from"./ItemBreadcrumbs-Ct0SDpRJ.js";import{a as Jv}from"./use-resolved-styles-api-DtoRyz5U.js";import{c as An,A as Te}from"./IconUser-XmEDWUCl.js";import{I as Qv,u as Ua,R as Yt,a as Vv,b as em}from"./use-fetch-users-Ccp-igtW.js";import{T as ve,F as Tn}from"./OfficeLogo-jKA_BVCF.js";import{S as kn}from"./Stack-DrHI03CL.js";import{T as Uo}from"./Textarea-S2CbvOU0.js";import{S as Ft}from"./Select-KZWyY6k6.js";import{B as ie}from"./Button-B30N7NN9.js";import{S as nm,N as tm,U as rm}from"./UpdateNumberingSchemeForm-qRqaPoP2.js";import{T as si}from"./TextInput-LWDnICFN.js";import{I as im,u as om}from"./use-fetch-existing-metadata-column-DpO08Vao.js";import{u as sm,I as lm}from"./use-show-items-for-moving-D0yWclFa.js";import{I as am}from"./IconDownload-D9_wv8G1.js";import{u as um}from"./use-document-properties-ByXypj0Q.js";import{A as cm,I as fm}from"./IconAlertCircle-C3F7qyYu.js";import"./Checkbox-CLd7z3dm.js";import"./InputBase-Ve8qJn79.js";import"./CheckIcon-XSAlXsAl.js";import"./Popover-kvuoOV3s.js";import"./get-sorted-breakpoints-D9sDYt0h.js";import"./Anchor-DtslwdFP.js";import"./OptionsDropdown-B6atY6w1.js";import"./Combobox-D-HuQijW.js";import"./clamp-DTmYCdls.js";function _a(l){return typeof l!="string"?"":l.charAt(0).toUpperCase()+l.slice(1)}var za={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const xa={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:ja("overlay")},dm=Ma((l,{zIndex:c})=>({root:{"--lo-z-index":c==null?void 0:c.toString()}})),zo=Mo((l,c)=>{const i=di("LoadingOverlay",xa,l),{classNames:g,className:_,style:C,styles:x,unstyled:y,vars:A,transitionProps:F,loaderProps:G,overlayProps:z,visible:$,zIndex:q,...H}=i,I=Tv(),k=ko({name:"LoadingOverlay",classes:za,props:i,className:_,style:C,classNames:g,styles:x,unstyled:y,vars:A,varsResolver:dm}),U={...xa.overlayProps,...z};return u.jsx(Mv,{transition:"fade",...F,mounted:!!$,children:j=>u.jsxs(Lo,{...k("root",{style:j}),ref:c,...H,children:[u.jsx(Ta,{...k("loader"),unstyled:y,...G}),u.jsx(ma,{...U,...k("overlay"),darkHidden:!0,unstyled:y,color:(z==null?void 0:z.color)||I.white}),u.jsx(ma,{...U,...k("overlay"),lightHidden:!0,unstyled:y,color:(z==null?void 0:z.color)||I.colors.dark[5]})]})})});zo.classes=za;zo.displayName="@mantine/core/LoadingOverlay";var Wa={exports:{}},pm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hm=pm,gm=hm;function Na(){}function Ba(){}Ba.resetWarningCache=Na;var vm=function(){function l(g,_,C,x,y,A){if(A!==gm){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}l.isRequired=l;function c(){return l}var i={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:c,element:l,elementType:l,instanceOf:c,node:l,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:Ba,resetWarningCache:Na};return i.PropTypes=i,i};Wa.exports=vm();var mm=Wa.exports;const ce=kv(mm);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _m=An("outline","adjustments","IconAdjustments",[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wa=An("outline","article","IconArticle",[["path",{d:"M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 8h10",key:"svg-1"}],["path",{d:"M7 12h10",key:"svg-2"}],["path",{d:"M7 16h10",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xm=An("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wm=An("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ym=An("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bm=An("outline","file-isr","IconFileIsr",[["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-1"}],["path",{d:"M6 8v-3a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7",key:"svg-2"}],["path",{d:"M3 15l3 -3l3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cm=An("outline","file-report","IconFileReport",[["path",{d:"M17 17m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M17 13v4h4",key:"svg-1"}],["path",{d:"M12 3v4a1 1 0 0 0 1 1h4",key:"svg-2"}],["path",{d:"M11.5 21h-6.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v2m0 3v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sm=An("outline","folder-plus","IconFolderPlus",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Am=An("outline","folder-symlink","IconFolderSymlink",[["path",{d:"M3 21v-4a3 3 0 0 1 3 -3h5",key:"svg-0"}],["path",{d:"M8 17l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 11v-5a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dm=An("outline","list-tree","IconListTree",[["path",{d:"M9 6h11",key:"svg-0"}],["path",{d:"M12 12h8",key:"svg-1"}],["path",{d:"M15 18h5",key:"svg-2"}],["path",{d:"M5 6v.01",key:"svg-3"}],["path",{d:"M8 12v.01",key:"svg-4"}],["path",{d:"M11 18v.01",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Em=An("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);function Im(){return{downloadFiles:({all:c,ids:i,parentId:g})=>{if(!c&&(!i||i.length===0)){alert("Please select items to download.");return}const _=new URLSearchParams;g&&_.append("parent_id",String(g)),c?_.append("all","1"):i&&i.length>0&&i.forEach(y=>_.append("ids[]",y));const C=`${route("item.download")}?${_.toString()}`,x=document.createElement("a");x.href=C,x.style.display="none",document.body.appendChild(x),x.click(),document.body.removeChild(x)}}}var li={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */li.exports;(function(l,c){(function(){var i,g="4.17.21",_=200,C="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",x="Expected a function",y="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",F=500,G="__lodash_placeholder__",z=1,$=2,q=4,H=1,I=2,k=1,U=2,j=4,R=8,K=16,L=32,ee=64,W=128,se=256,fe=512,Ce=30,Dn="...",En=800,Ae=16,Me=1,Rt=2,ke=3,pn=1/0,Ge=9007199254740991,Jn=17976931348623157e292,Qn=NaN,Oe=4294967295,Ot=Oe-1,hn=Oe>>>1,jt=[["ary",W],["bind",k],["bindKey",U],["curry",R],["curryRight",K],["flip",fe],["partial",L],["partialRight",ee],["rearg",se]],gn="[object Arguments]",Un="[object Array]",zn="[object AsyncFunction]",rn="[object Boolean]",He="[object Date]",Vn="[object DOMException]",vn="[object Error]",Wn="[object Function]",et="[object GeneratorFunction]",Se="[object Map]",mn="[object Number]",Tt="[object Null]",qe="[object Object]",vr="[object Promise]",pi="[object Proxy]",ht="[object RegExp]",D="[object Set]",X="[object String]",he="[object Symbol]",De="[object Undefined]",Ee="[object WeakMap]",gt="[object WeakSet]",_n="[object ArrayBuffer]",In="[object DataView]",vt="[object Float32Array]",Nn="[object Float64Array]",Bn="[object Int8Array]",mt="[object Int16Array]",Xt="[object Int32Array]",hi="[object Uint8Array]",gi="[object Uint8ClampedArray]",vi="[object Uint16Array]",mi="[object Uint32Array]",Va=/\b__p \+= '';/g,eu=/\b(__p \+=) '' \+/g,nu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Po=/&(?:amp|lt|gt|quot|#39);/g,$o=/[&<>"']/g,tu=RegExp(Po.source),ru=RegExp($o.source),iu=/<%-([\s\S]+?)%>/g,ou=/<%([\s\S]+?)%>/g,Go=/<%=([\s\S]+?)%>/g,su=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lu=/^\w*$/,au=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_i=/[\\^$.*+?()[\]{}|]/g,uu=RegExp(_i.source),xi=/^\s+/,cu=/\s/,fu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,du=/\{\n\/\* \[wrapped with (.+)\] \*/,pu=/,? & /,hu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gu=/[()=,{}\[\]\/\s]/,vu=/\\(\\)?/g,mu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ho=/\w*$/,_u=/^[-+]0x[0-9a-f]+$/i,xu=/^0b[01]+$/i,wu=/^\[object .+?Constructor\]$/,yu=/^0o[0-7]+$/i,bu=/^(?:0|[1-9]\d*)$/,Cu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mr=/($^)/,Su=/['\n\r\u2028\u2029\\]/g,_r="\\ud800-\\udfff",Au="\\u0300-\\u036f",Du="\\ufe20-\\ufe2f",Eu="\\u20d0-\\u20ff",qo=Au+Du+Eu,Ko="\\u2700-\\u27bf",Yo="a-z\\xdf-\\xf6\\xf8-\\xff",Iu="\\xac\\xb1\\xd7\\xf7",Fu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ru="\\u2000-\\u206f",Ou=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zo="A-Z\\xc0-\\xd6\\xd8-\\xde",Xo="\\ufe0e\\ufe0f",Jo=Iu+Fu+Ru+Ou,wi="['’]",ju="["+_r+"]",Qo="["+Jo+"]",xr="["+qo+"]",Vo="\\d+",Tu="["+Ko+"]",es="["+Yo+"]",ns="[^"+_r+Jo+Vo+Ko+Yo+Zo+"]",yi="\\ud83c[\\udffb-\\udfff]",Mu="(?:"+xr+"|"+yi+")",ts="[^"+_r+"]",bi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ci="[\\ud800-\\udbff][\\udc00-\\udfff]",Mt="["+Zo+"]",rs="\\u200d",is="(?:"+es+"|"+ns+")",ku="(?:"+Mt+"|"+ns+")",os="(?:"+wi+"(?:d|ll|m|re|s|t|ve))?",ss="(?:"+wi+"(?:D|LL|M|RE|S|T|VE))?",ls=Mu+"?",as="["+Xo+"]?",Lu="(?:"+rs+"(?:"+[ts,bi,Ci].join("|")+")"+as+ls+")*",Uu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",us=as+ls+Lu,Wu="(?:"+[Tu,bi,Ci].join("|")+")"+us,Nu="(?:"+[ts+xr+"?",xr,bi,Ci,ju].join("|")+")",Bu=RegExp(wi,"g"),Pu=RegExp(xr,"g"),Si=RegExp(yi+"(?="+yi+")|"+Nu+us,"g"),$u=RegExp([Mt+"?"+es+"+"+os+"(?="+[Qo,Mt,"$"].join("|")+")",ku+"+"+ss+"(?="+[Qo,Mt+is,"$"].join("|")+")",Mt+"?"+is+"+"+os,Mt+"+"+ss,zu,Uu,Vo,Wu].join("|"),"g"),Gu=RegExp("["+rs+_r+qo+Xo+"]"),Hu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ku=-1,ge={};ge[vt]=ge[Nn]=ge[Bn]=ge[mt]=ge[Xt]=ge[hi]=ge[gi]=ge[vi]=ge[mi]=!0,ge[gn]=ge[Un]=ge[_n]=ge[rn]=ge[In]=ge[He]=ge[vn]=ge[Wn]=ge[Se]=ge[mn]=ge[qe]=ge[ht]=ge[D]=ge[X]=ge[Ee]=!1;var de={};de[gn]=de[Un]=de[_n]=de[In]=de[rn]=de[He]=de[vt]=de[Nn]=de[Bn]=de[mt]=de[Xt]=de[Se]=de[mn]=de[qe]=de[ht]=de[D]=de[X]=de[he]=de[hi]=de[gi]=de[vi]=de[mi]=!0,de[vn]=de[Wn]=de[Ee]=!1;var Yu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Zu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ju={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qu=parseFloat,Vu=parseInt,cs=typeof dr=="object"&&dr&&dr.Object===Object&&dr,ec=typeof self=="object"&&self&&self.Object===Object&&self,Le=cs||ec||Function("return this")(),Ai=c&&!c.nodeType&&c,_t=Ai&&!0&&l&&!l.nodeType&&l,fs=_t&&_t.exports===Ai,Di=fs&&cs.process,on=function(){try{var p=_t&&_t.require&&_t.require("util").types;return p||Di&&Di.binding&&Di.binding("util")}catch{}}(),ds=on&&on.isArrayBuffer,ps=on&&on.isDate,hs=on&&on.isMap,gs=on&&on.isRegExp,vs=on&&on.isSet,ms=on&&on.isTypedArray;function Je(p,m,v){switch(v.length){case 0:return p.call(m);case 1:return p.call(m,v[0]);case 2:return p.call(m,v[0],v[1]);case 3:return p.call(m,v[0],v[1],v[2])}return p.apply(m,v)}function nc(p,m,v,O){for(var Y=-1,oe=p==null?0:p.length;++Y<oe;){var Ie=p[Y];m(O,Ie,v(Ie),p)}return O}function sn(p,m){for(var v=-1,O=p==null?0:p.length;++v<O&&m(p[v],v,p)!==!1;);return p}function tc(p,m){for(var v=p==null?0:p.length;v--&&m(p[v],v,p)!==!1;);return p}function _s(p,m){for(var v=-1,O=p==null?0:p.length;++v<O;)if(!m(p[v],v,p))return!1;return!0}function nt(p,m){for(var v=-1,O=p==null?0:p.length,Y=0,oe=[];++v<O;){var Ie=p[v];m(Ie,v,p)&&(oe[Y++]=Ie)}return oe}function wr(p,m){var v=p==null?0:p.length;return!!v&&kt(p,m,0)>-1}function Ei(p,m,v){for(var O=-1,Y=p==null?0:p.length;++O<Y;)if(v(m,p[O]))return!0;return!1}function me(p,m){for(var v=-1,O=p==null?0:p.length,Y=Array(O);++v<O;)Y[v]=m(p[v],v,p);return Y}function tt(p,m){for(var v=-1,O=m.length,Y=p.length;++v<O;)p[Y+v]=m[v];return p}function Ii(p,m,v,O){var Y=-1,oe=p==null?0:p.length;for(O&&oe&&(v=p[++Y]);++Y<oe;)v=m(v,p[Y],Y,p);return v}function rc(p,m,v,O){var Y=p==null?0:p.length;for(O&&Y&&(v=p[--Y]);Y--;)v=m(v,p[Y],Y,p);return v}function Fi(p,m){for(var v=-1,O=p==null?0:p.length;++v<O;)if(m(p[v],v,p))return!0;return!1}var ic=Ri("length");function oc(p){return p.split("")}function sc(p){return p.match(hu)||[]}function xs(p,m,v){var O;return v(p,function(Y,oe,Ie){if(m(Y,oe,Ie))return O=oe,!1}),O}function yr(p,m,v,O){for(var Y=p.length,oe=v+(O?1:-1);O?oe--:++oe<Y;)if(m(p[oe],oe,p))return oe;return-1}function kt(p,m,v){return m===m?_c(p,m,v):yr(p,ws,v)}function lc(p,m,v,O){for(var Y=v-1,oe=p.length;++Y<oe;)if(O(p[Y],m))return Y;return-1}function ws(p){return p!==p}function ys(p,m){var v=p==null?0:p.length;return v?ji(p,m)/v:Qn}function Ri(p){return function(m){return m==null?i:m[p]}}function Oi(p){return function(m){return p==null?i:p[m]}}function bs(p,m,v,O,Y){return Y(p,function(oe,Ie,ue){v=O?(O=!1,oe):m(v,oe,Ie,ue)}),v}function ac(p,m){var v=p.length;for(p.sort(m);v--;)p[v]=p[v].value;return p}function ji(p,m){for(var v,O=-1,Y=p.length;++O<Y;){var oe=m(p[O]);oe!==i&&(v=v===i?oe:v+oe)}return v}function Ti(p,m){for(var v=-1,O=Array(p);++v<p;)O[v]=m(v);return O}function uc(p,m){return me(m,function(v){return[v,p[v]]})}function Cs(p){return p&&p.slice(0,Es(p)+1).replace(xi,"")}function Qe(p){return function(m){return p(m)}}function Mi(p,m){return me(m,function(v){return p[v]})}function Jt(p,m){return p.has(m)}function Ss(p,m){for(var v=-1,O=p.length;++v<O&&kt(m,p[v],0)>-1;);return v}function As(p,m){for(var v=p.length;v--&&kt(m,p[v],0)>-1;);return v}function cc(p,m){for(var v=p.length,O=0;v--;)p[v]===m&&++O;return O}var fc=Oi(Yu),dc=Oi(Zu);function pc(p){return"\\"+Ju[p]}function hc(p,m){return p==null?i:p[m]}function Lt(p){return Gu.test(p)}function gc(p){return Hu.test(p)}function vc(p){for(var m,v=[];!(m=p.next()).done;)v.push(m.value);return v}function ki(p){var m=-1,v=Array(p.size);return p.forEach(function(O,Y){v[++m]=[Y,O]}),v}function Ds(p,m){return function(v){return p(m(v))}}function rt(p,m){for(var v=-1,O=p.length,Y=0,oe=[];++v<O;){var Ie=p[v];(Ie===m||Ie===G)&&(p[v]=G,oe[Y++]=v)}return oe}function br(p){var m=-1,v=Array(p.size);return p.forEach(function(O){v[++m]=O}),v}function mc(p){var m=-1,v=Array(p.size);return p.forEach(function(O){v[++m]=[O,O]}),v}function _c(p,m,v){for(var O=v-1,Y=p.length;++O<Y;)if(p[O]===m)return O;return-1}function xc(p,m,v){for(var O=v+1;O--;)if(p[O]===m)return O;return O}function Ut(p){return Lt(p)?yc(p):ic(p)}function xn(p){return Lt(p)?bc(p):oc(p)}function Es(p){for(var m=p.length;m--&&cu.test(p.charAt(m)););return m}var wc=Oi(Xu);function yc(p){for(var m=Si.lastIndex=0;Si.test(p);)++m;return m}function bc(p){return p.match(Si)||[]}function Cc(p){return p.match($u)||[]}var Sc=function p(m){m=m==null?Le:zt.defaults(Le.Object(),m,zt.pick(Le,qu));var v=m.Array,O=m.Date,Y=m.Error,oe=m.Function,Ie=m.Math,ue=m.Object,Li=m.RegExp,Ac=m.String,ln=m.TypeError,Cr=v.prototype,Dc=oe.prototype,Wt=ue.prototype,Sr=m["__core-js_shared__"],Ar=Dc.toString,ae=Wt.hasOwnProperty,Ec=0,Is=function(){var e=/[^.]+$/.exec(Sr&&Sr.keys&&Sr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Dr=Wt.toString,Ic=Ar.call(ue),Fc=Le._,Rc=Li("^"+Ar.call(ae).replace(_i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Er=fs?m.Buffer:i,it=m.Symbol,Ir=m.Uint8Array,Fs=Er?Er.allocUnsafe:i,Fr=Ds(ue.getPrototypeOf,ue),Rs=ue.create,Os=Wt.propertyIsEnumerable,Rr=Cr.splice,js=it?it.isConcatSpreadable:i,Qt=it?it.iterator:i,xt=it?it.toStringTag:i,Or=function(){try{var e=St(ue,"defineProperty");return e({},"",{}),e}catch{}}(),Oc=m.clearTimeout!==Le.clearTimeout&&m.clearTimeout,jc=O&&O.now!==Le.Date.now&&O.now,Tc=m.setTimeout!==Le.setTimeout&&m.setTimeout,jr=Ie.ceil,Tr=Ie.floor,Ui=ue.getOwnPropertySymbols,Mc=Er?Er.isBuffer:i,Ts=m.isFinite,kc=Cr.join,Lc=Ds(ue.keys,ue),Fe=Ie.max,ze=Ie.min,Uc=O.now,zc=m.parseInt,Ms=Ie.random,Wc=Cr.reverse,zi=St(m,"DataView"),Vt=St(m,"Map"),Wi=St(m,"Promise"),Nt=St(m,"Set"),er=St(m,"WeakMap"),nr=St(ue,"create"),Mr=er&&new er,Bt={},Nc=At(zi),Bc=At(Vt),Pc=At(Wi),$c=At(Nt),Gc=At(er),kr=it?it.prototype:i,tr=kr?kr.valueOf:i,ks=kr?kr.toString:i;function s(e){if(xe(e)&&!Z(e)&&!(e instanceof te)){if(e instanceof an)return e;if(ae.call(e,"__wrapped__"))return Ll(e)}return new an(e)}var Pt=function(){function e(){}return function(n){if(!_e(n))return{};if(Rs)return Rs(n);e.prototype=n;var t=new e;return e.prototype=i,t}}();function Lr(){}function an(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}s.templateSettings={escape:iu,evaluate:ou,interpolate:Go,variable:"",imports:{_:s}},s.prototype=Lr.prototype,s.prototype.constructor=s,an.prototype=Pt(Lr.prototype),an.prototype.constructor=an;function te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function Hc(){var e=new te(this.__wrapped__);return e.__actions__=Ke(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ke(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ke(this.__views__),e}function qc(){if(this.__filtered__){var e=new te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Kc(){var e=this.__wrapped__.value(),n=this.__dir__,t=Z(e),r=n<0,o=t?e.length:0,a=sd(0,o,this.__views__),f=a.start,d=a.end,h=d-f,w=r?d:f-1,b=this.__iteratees__,S=b.length,E=0,M=ze(h,this.__takeCount__);if(!t||!r&&o==h&&M==h)return ol(e,this.__actions__);var B=[];e:for(;h--&&E<M;){w+=n;for(var Q=-1,P=e[w];++Q<S;){var ne=b[Q],re=ne.iteratee,nn=ne.type,Pe=re(P);if(nn==Rt)P=Pe;else if(!Pe){if(nn==Me)continue e;break e}}B[E++]=P}return B}te.prototype=Pt(Lr.prototype),te.prototype.constructor=te;function wt(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Yc(){this.__data__=nr?nr(null):{},this.size=0}function Zc(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Xc(e){var n=this.__data__;if(nr){var t=n[e];return t===A?i:t}return ae.call(n,e)?n[e]:i}function Jc(e){var n=this.__data__;return nr?n[e]!==i:ae.call(n,e)}function Qc(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=nr&&n===i?A:n,this}wt.prototype.clear=Yc,wt.prototype.delete=Zc,wt.prototype.get=Xc,wt.prototype.has=Jc,wt.prototype.set=Qc;function Pn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Vc(){this.__data__=[],this.size=0}function ef(e){var n=this.__data__,t=Ur(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Rr.call(n,t,1),--this.size,!0}function nf(e){var n=this.__data__,t=Ur(n,e);return t<0?i:n[t][1]}function tf(e){return Ur(this.__data__,e)>-1}function rf(e,n){var t=this.__data__,r=Ur(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}Pn.prototype.clear=Vc,Pn.prototype.delete=ef,Pn.prototype.get=nf,Pn.prototype.has=tf,Pn.prototype.set=rf;function $n(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function of(){this.size=0,this.__data__={hash:new wt,map:new(Vt||Pn),string:new wt}}function sf(e){var n=Zr(this,e).delete(e);return this.size-=n?1:0,n}function lf(e){return Zr(this,e).get(e)}function af(e){return Zr(this,e).has(e)}function uf(e,n){var t=Zr(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}$n.prototype.clear=of,$n.prototype.delete=sf,$n.prototype.get=lf,$n.prototype.has=af,$n.prototype.set=uf;function yt(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new $n;++n<t;)this.add(e[n])}function cf(e){return this.__data__.set(e,A),this}function ff(e){return this.__data__.has(e)}yt.prototype.add=yt.prototype.push=cf,yt.prototype.has=ff;function wn(e){var n=this.__data__=new Pn(e);this.size=n.size}function df(){this.__data__=new Pn,this.size=0}function pf(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function hf(e){return this.__data__.get(e)}function gf(e){return this.__data__.has(e)}function vf(e,n){var t=this.__data__;if(t instanceof Pn){var r=t.__data__;if(!Vt||r.length<_-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new $n(r)}return t.set(e,n),this.size=t.size,this}wn.prototype.clear=df,wn.prototype.delete=pf,wn.prototype.get=hf,wn.prototype.has=gf,wn.prototype.set=vf;function Ls(e,n){var t=Z(e),r=!t&&Dt(e),o=!t&&!r&&ut(e),a=!t&&!r&&!o&&qt(e),f=t||r||o||a,d=f?Ti(e.length,Ac):[],h=d.length;for(var w in e)(n||ae.call(e,w))&&!(f&&(w=="length"||o&&(w=="offset"||w=="parent")||a&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||Kn(w,h)))&&d.push(w);return d}function Us(e){var n=e.length;return n?e[Xi(0,n-1)]:i}function mf(e,n){return Xr(Ke(e),bt(n,0,e.length))}function _f(e){return Xr(Ke(e))}function Ni(e,n,t){(t!==i&&!yn(e[n],t)||t===i&&!(n in e))&&Gn(e,n,t)}function rr(e,n,t){var r=e[n];(!(ae.call(e,n)&&yn(r,t))||t===i&&!(n in e))&&Gn(e,n,t)}function Ur(e,n){for(var t=e.length;t--;)if(yn(e[t][0],n))return t;return-1}function xf(e,n,t,r){return ot(e,function(o,a,f){n(r,o,t(o),f)}),r}function zs(e,n){return e&&Rn(n,je(n),e)}function wf(e,n){return e&&Rn(n,Ze(n),e)}function Gn(e,n,t){n=="__proto__"&&Or?Or(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Bi(e,n){for(var t=-1,r=n.length,o=v(r),a=e==null;++t<r;)o[t]=a?i:bo(e,n[t]);return o}function bt(e,n,t){return e===e&&(t!==i&&(e=e<=t?e:t),n!==i&&(e=e>=n?e:n)),e}function un(e,n,t,r,o,a){var f,d=n&z,h=n&$,w=n&q;if(t&&(f=o?t(e,r,o,a):t(e)),f!==i)return f;if(!_e(e))return e;var b=Z(e);if(b){if(f=ad(e),!d)return Ke(e,f)}else{var S=We(e),E=S==Wn||S==et;if(ut(e))return al(e,d);if(S==qe||S==gn||E&&!o){if(f=h||E?{}:El(e),!d)return h?Jf(e,wf(f,e)):Xf(e,zs(f,e))}else{if(!de[S])return o?e:{};f=ud(e,S,d)}}a||(a=new wn);var M=a.get(e);if(M)return M;a.set(e,f),ta(e)?e.forEach(function(P){f.add(un(P,n,t,P,e,a))}):ea(e)&&e.forEach(function(P,ne){f.set(ne,un(P,n,t,ne,e,a))});var B=w?h?lo:so:h?Ze:je,Q=b?i:B(e);return sn(Q||e,function(P,ne){Q&&(ne=P,P=e[ne]),rr(f,ne,un(P,n,t,ne,e,a))}),f}function yf(e){var n=je(e);return function(t){return Ws(t,e,n)}}function Ws(e,n,t){var r=t.length;if(e==null)return!r;for(e=ue(e);r--;){var o=t[r],a=n[o],f=e[o];if(f===i&&!(o in e)||!a(f))return!1}return!0}function Ns(e,n,t){if(typeof e!="function")throw new ln(x);return cr(function(){e.apply(i,t)},n)}function ir(e,n,t,r){var o=-1,a=wr,f=!0,d=e.length,h=[],w=n.length;if(!d)return h;t&&(n=me(n,Qe(t))),r?(a=Ei,f=!1):n.length>=_&&(a=Jt,f=!1,n=new yt(n));e:for(;++o<d;){var b=e[o],S=t==null?b:t(b);if(b=r||b!==0?b:0,f&&S===S){for(var E=w;E--;)if(n[E]===S)continue e;h.push(b)}else a(n,S,r)||h.push(b)}return h}var ot=pl(Fn),Bs=pl($i,!0);function bf(e,n){var t=!0;return ot(e,function(r,o,a){return t=!!n(r,o,a),t}),t}function zr(e,n,t){for(var r=-1,o=e.length;++r<o;){var a=e[r],f=n(a);if(f!=null&&(d===i?f===f&&!en(f):t(f,d)))var d=f,h=a}return h}function Cf(e,n,t,r){var o=e.length;for(t=J(t),t<0&&(t=-t>o?0:o+t),r=r===i||r>o?o:J(r),r<0&&(r+=o),r=t>r?0:ia(r);t<r;)e[t++]=n;return e}function Ps(e,n){var t=[];return ot(e,function(r,o,a){n(r,o,a)&&t.push(r)}),t}function Ue(e,n,t,r,o){var a=-1,f=e.length;for(t||(t=fd),o||(o=[]);++a<f;){var d=e[a];n>0&&t(d)?n>1?Ue(d,n-1,t,r,o):tt(o,d):r||(o[o.length]=d)}return o}var Pi=hl(),$s=hl(!0);function Fn(e,n){return e&&Pi(e,n,je)}function $i(e,n){return e&&$s(e,n,je)}function Wr(e,n){return nt(n,function(t){return Yn(e[t])})}function Ct(e,n){n=lt(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[On(n[t++])];return t&&t==r?e:i}function Gs(e,n,t){var r=n(e);return Z(e)?r:tt(r,t(e))}function Ne(e){return e==null?e===i?De:Tt:xt&&xt in ue(e)?od(e):_d(e)}function Gi(e,n){return e>n}function Sf(e,n){return e!=null&&ae.call(e,n)}function Af(e,n){return e!=null&&n in ue(e)}function Df(e,n,t){return e>=ze(n,t)&&e<Fe(n,t)}function Hi(e,n,t){for(var r=t?Ei:wr,o=e[0].length,a=e.length,f=a,d=v(a),h=1/0,w=[];f--;){var b=e[f];f&&n&&(b=me(b,Qe(n))),h=ze(b.length,h),d[f]=!t&&(n||o>=120&&b.length>=120)?new yt(f&&b):i}b=e[0];var S=-1,E=d[0];e:for(;++S<o&&w.length<h;){var M=b[S],B=n?n(M):M;if(M=t||M!==0?M:0,!(E?Jt(E,B):r(w,B,t))){for(f=a;--f;){var Q=d[f];if(!(Q?Jt(Q,B):r(e[f],B,t)))continue e}E&&E.push(B),w.push(M)}}return w}function Ef(e,n,t,r){return Fn(e,function(o,a,f){n(r,t(o),a,f)}),r}function or(e,n,t){n=lt(n,e),e=Ol(e,n);var r=e==null?e:e[On(fn(n))];return r==null?i:Je(r,e,t)}function Hs(e){return xe(e)&&Ne(e)==gn}function If(e){return xe(e)&&Ne(e)==_n}function Ff(e){return xe(e)&&Ne(e)==He}function sr(e,n,t,r,o){return e===n?!0:e==null||n==null||!xe(e)&&!xe(n)?e!==e&&n!==n:Rf(e,n,t,r,sr,o)}function Rf(e,n,t,r,o,a){var f=Z(e),d=Z(n),h=f?Un:We(e),w=d?Un:We(n);h=h==gn?qe:h,w=w==gn?qe:w;var b=h==qe,S=w==qe,E=h==w;if(E&&ut(e)){if(!ut(n))return!1;f=!0,b=!1}if(E&&!b)return a||(a=new wn),f||qt(e)?Sl(e,n,t,r,o,a):rd(e,n,h,t,r,o,a);if(!(t&H)){var M=b&&ae.call(e,"__wrapped__"),B=S&&ae.call(n,"__wrapped__");if(M||B){var Q=M?e.value():e,P=B?n.value():n;return a||(a=new wn),o(Q,P,t,r,a)}}return E?(a||(a=new wn),id(e,n,t,r,o,a)):!1}function Of(e){return xe(e)&&We(e)==Se}function qi(e,n,t,r){var o=t.length,a=o,f=!r;if(e==null)return!a;for(e=ue(e);o--;){var d=t[o];if(f&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++o<a;){d=t[o];var h=d[0],w=e[h],b=d[1];if(f&&d[2]){if(w===i&&!(h in e))return!1}else{var S=new wn;if(r)var E=r(w,b,h,e,n,S);if(!(E===i?sr(b,w,H|I,r,S):E))return!1}}return!0}function qs(e){if(!_e(e)||pd(e))return!1;var n=Yn(e)?Rc:wu;return n.test(At(e))}function jf(e){return xe(e)&&Ne(e)==ht}function Tf(e){return xe(e)&&We(e)==D}function Mf(e){return xe(e)&&ti(e.length)&&!!ge[Ne(e)]}function Ks(e){return typeof e=="function"?e:e==null?Xe:typeof e=="object"?Z(e)?Xs(e[0],e[1]):Zs(e):ga(e)}function Ki(e){if(!ur(e))return Lc(e);var n=[];for(var t in ue(e))ae.call(e,t)&&t!="constructor"&&n.push(t);return n}function kf(e){if(!_e(e))return md(e);var n=ur(e),t=[];for(var r in e)r=="constructor"&&(n||!ae.call(e,r))||t.push(r);return t}function Yi(e,n){return e<n}function Ys(e,n){var t=-1,r=Ye(e)?v(e.length):[];return ot(e,function(o,a,f){r[++t]=n(o,a,f)}),r}function Zs(e){var n=uo(e);return n.length==1&&n[0][2]?Fl(n[0][0],n[0][1]):function(t){return t===e||qi(t,e,n)}}function Xs(e,n){return fo(e)&&Il(n)?Fl(On(e),n):function(t){var r=bo(t,e);return r===i&&r===n?Co(t,e):sr(n,r,H|I)}}function Nr(e,n,t,r,o){e!==n&&Pi(n,function(a,f){if(o||(o=new wn),_e(a))Lf(e,n,f,t,Nr,r,o);else{var d=r?r(ho(e,f),a,f+"",e,n,o):i;d===i&&(d=a),Ni(e,f,d)}},Ze)}function Lf(e,n,t,r,o,a,f){var d=ho(e,t),h=ho(n,t),w=f.get(h);if(w){Ni(e,t,w);return}var b=a?a(d,h,t+"",e,n,f):i,S=b===i;if(S){var E=Z(h),M=!E&&ut(h),B=!E&&!M&&qt(h);b=h,E||M||B?Z(d)?b=d:we(d)?b=Ke(d):M?(S=!1,b=al(h,!0)):B?(S=!1,b=ul(h,!0)):b=[]:fr(h)||Dt(h)?(b=d,Dt(d)?b=oa(d):(!_e(d)||Yn(d))&&(b=El(h))):S=!1}S&&(f.set(h,b),o(b,h,r,a,f),f.delete(h)),Ni(e,t,b)}function Js(e,n){var t=e.length;if(t)return n+=n<0?t:0,Kn(n,t)?e[n]:i}function Qs(e,n,t){n.length?n=me(n,function(a){return Z(a)?function(f){return Ct(f,a.length===1?a[0]:a)}:a}):n=[Xe];var r=-1;n=me(n,Qe(N()));var o=Ys(e,function(a,f,d){var h=me(n,function(w){return w(a)});return{criteria:h,index:++r,value:a}});return ac(o,function(a,f){return Zf(a,f,t)})}function Uf(e,n){return Vs(e,n,function(t,r){return Co(e,r)})}function Vs(e,n,t){for(var r=-1,o=n.length,a={};++r<o;){var f=n[r],d=Ct(e,f);t(d,f)&&lr(a,lt(f,e),d)}return a}function zf(e){return function(n){return Ct(n,e)}}function Zi(e,n,t,r){var o=r?lc:kt,a=-1,f=n.length,d=e;for(e===n&&(n=Ke(n)),t&&(d=me(e,Qe(t)));++a<f;)for(var h=0,w=n[a],b=t?t(w):w;(h=o(d,b,h,r))>-1;)d!==e&&Rr.call(d,h,1),Rr.call(e,h,1);return e}function el(e,n){for(var t=e?n.length:0,r=t-1;t--;){var o=n[t];if(t==r||o!==a){var a=o;Kn(o)?Rr.call(e,o,1):Vi(e,o)}}return e}function Xi(e,n){return e+Tr(Ms()*(n-e+1))}function Wf(e,n,t,r){for(var o=-1,a=Fe(jr((n-e)/(t||1)),0),f=v(a);a--;)f[r?a:++o]=e,e+=t;return f}function Ji(e,n){var t="";if(!e||n<1||n>Ge)return t;do n%2&&(t+=e),n=Tr(n/2),n&&(e+=e);while(n);return t}function V(e,n){return go(Rl(e,n,Xe),e+"")}function Nf(e){return Us(Kt(e))}function Bf(e,n){var t=Kt(e);return Xr(t,bt(n,0,t.length))}function lr(e,n,t,r){if(!_e(e))return e;n=lt(n,e);for(var o=-1,a=n.length,f=a-1,d=e;d!=null&&++o<a;){var h=On(n[o]),w=t;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(o!=f){var b=d[h];w=r?r(b,h,d):i,w===i&&(w=_e(b)?b:Kn(n[o+1])?[]:{})}rr(d,h,w),d=d[h]}return e}var nl=Mr?function(e,n){return Mr.set(e,n),e}:Xe,Pf=Or?function(e,n){return Or(e,"toString",{configurable:!0,enumerable:!1,value:Ao(n),writable:!0})}:Xe;function $f(e){return Xr(Kt(e))}function cn(e,n,t){var r=-1,o=e.length;n<0&&(n=-n>o?0:o+n),t=t>o?o:t,t<0&&(t+=o),o=n>t?0:t-n>>>0,n>>>=0;for(var a=v(o);++r<o;)a[r]=e[r+n];return a}function Gf(e,n){var t;return ot(e,function(r,o,a){return t=n(r,o,a),!t}),!!t}function Br(e,n,t){var r=0,o=e==null?r:e.length;if(typeof n=="number"&&n===n&&o<=hn){for(;r<o;){var a=r+o>>>1,f=e[a];f!==null&&!en(f)&&(t?f<=n:f<n)?r=a+1:o=a}return o}return Qi(e,n,Xe,t)}function Qi(e,n,t,r){var o=0,a=e==null?0:e.length;if(a===0)return 0;n=t(n);for(var f=n!==n,d=n===null,h=en(n),w=n===i;o<a;){var b=Tr((o+a)/2),S=t(e[b]),E=S!==i,M=S===null,B=S===S,Q=en(S);if(f)var P=r||B;else w?P=B&&(r||E):d?P=B&&E&&(r||!M):h?P=B&&E&&!M&&(r||!Q):M||Q?P=!1:P=r?S<=n:S<n;P?o=b+1:a=b}return ze(a,Ot)}function tl(e,n){for(var t=-1,r=e.length,o=0,a=[];++t<r;){var f=e[t],d=n?n(f):f;if(!t||!yn(d,h)){var h=d;a[o++]=f===0?0:f}}return a}function rl(e){return typeof e=="number"?e:en(e)?Qn:+e}function Ve(e){if(typeof e=="string")return e;if(Z(e))return me(e,Ve)+"";if(en(e))return ks?ks.call(e):"";var n=e+"";return n=="0"&&1/e==-pn?"-0":n}function st(e,n,t){var r=-1,o=wr,a=e.length,f=!0,d=[],h=d;if(t)f=!1,o=Ei;else if(a>=_){var w=n?null:nd(e);if(w)return br(w);f=!1,o=Jt,h=new yt}else h=n?[]:d;e:for(;++r<a;){var b=e[r],S=n?n(b):b;if(b=t||b!==0?b:0,f&&S===S){for(var E=h.length;E--;)if(h[E]===S)continue e;n&&h.push(S),d.push(b)}else o(h,S,t)||(h!==d&&h.push(S),d.push(b))}return d}function Vi(e,n){return n=lt(n,e),e=Ol(e,n),e==null||delete e[On(fn(n))]}function il(e,n,t,r){return lr(e,n,t(Ct(e,n)),r)}function Pr(e,n,t,r){for(var o=e.length,a=r?o:-1;(r?a--:++a<o)&&n(e[a],a,e););return t?cn(e,r?0:a,r?a+1:o):cn(e,r?a+1:0,r?o:a)}function ol(e,n){var t=e;return t instanceof te&&(t=t.value()),Ii(n,function(r,o){return o.func.apply(o.thisArg,tt([r],o.args))},t)}function eo(e,n,t){var r=e.length;if(r<2)return r?st(e[0]):[];for(var o=-1,a=v(r);++o<r;)for(var f=e[o],d=-1;++d<r;)d!=o&&(a[o]=ir(a[o]||f,e[d],n,t));return st(Ue(a,1),n,t)}function sl(e,n,t){for(var r=-1,o=e.length,a=n.length,f={};++r<o;){var d=r<a?n[r]:i;t(f,e[r],d)}return f}function no(e){return we(e)?e:[]}function to(e){return typeof e=="function"?e:Xe}function lt(e,n){return Z(e)?e:fo(e,n)?[e]:kl(le(e))}var Hf=V;function at(e,n,t){var r=e.length;return t=t===i?r:t,!n&&t>=r?e:cn(e,n,t)}var ll=Oc||function(e){return Le.clearTimeout(e)};function al(e,n){if(n)return e.slice();var t=e.length,r=Fs?Fs(t):new e.constructor(t);return e.copy(r),r}function ro(e){var n=new e.constructor(e.byteLength);return new Ir(n).set(new Ir(e)),n}function qf(e,n){var t=n?ro(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function Kf(e){var n=new e.constructor(e.source,Ho.exec(e));return n.lastIndex=e.lastIndex,n}function Yf(e){return tr?ue(tr.call(e)):{}}function ul(e,n){var t=n?ro(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function cl(e,n){if(e!==n){var t=e!==i,r=e===null,o=e===e,a=en(e),f=n!==i,d=n===null,h=n===n,w=en(n);if(!d&&!w&&!a&&e>n||a&&f&&h&&!d&&!w||r&&f&&h||!t&&h||!o)return 1;if(!r&&!a&&!w&&e<n||w&&t&&o&&!r&&!a||d&&t&&o||!f&&o||!h)return-1}return 0}function Zf(e,n,t){for(var r=-1,o=e.criteria,a=n.criteria,f=o.length,d=t.length;++r<f;){var h=cl(o[r],a[r]);if(h){if(r>=d)return h;var w=t[r];return h*(w=="desc"?-1:1)}}return e.index-n.index}function fl(e,n,t,r){for(var o=-1,a=e.length,f=t.length,d=-1,h=n.length,w=Fe(a-f,0),b=v(h+w),S=!r;++d<h;)b[d]=n[d];for(;++o<f;)(S||o<a)&&(b[t[o]]=e[o]);for(;w--;)b[d++]=e[o++];return b}function dl(e,n,t,r){for(var o=-1,a=e.length,f=-1,d=t.length,h=-1,w=n.length,b=Fe(a-d,0),S=v(b+w),E=!r;++o<b;)S[o]=e[o];for(var M=o;++h<w;)S[M+h]=n[h];for(;++f<d;)(E||o<a)&&(S[M+t[f]]=e[o++]);return S}function Ke(e,n){var t=-1,r=e.length;for(n||(n=v(r));++t<r;)n[t]=e[t];return n}function Rn(e,n,t,r){var o=!t;t||(t={});for(var a=-1,f=n.length;++a<f;){var d=n[a],h=r?r(t[d],e[d],d,t,e):i;h===i&&(h=e[d]),o?Gn(t,d,h):rr(t,d,h)}return t}function Xf(e,n){return Rn(e,co(e),n)}function Jf(e,n){return Rn(e,Al(e),n)}function $r(e,n){return function(t,r){var o=Z(t)?nc:xf,a=n?n():{};return o(t,e,N(r,2),a)}}function $t(e){return V(function(n,t){var r=-1,o=t.length,a=o>1?t[o-1]:i,f=o>2?t[2]:i;for(a=e.length>3&&typeof a=="function"?(o--,a):i,f&&Be(t[0],t[1],f)&&(a=o<3?i:a,o=1),n=ue(n);++r<o;){var d=t[r];d&&e(n,d,r,a)}return n})}function pl(e,n){return function(t,r){if(t==null)return t;if(!Ye(t))return e(t,r);for(var o=t.length,a=n?o:-1,f=ue(t);(n?a--:++a<o)&&r(f[a],a,f)!==!1;);return t}}function hl(e){return function(n,t,r){for(var o=-1,a=ue(n),f=r(n),d=f.length;d--;){var h=f[e?d:++o];if(t(a[h],h,a)===!1)break}return n}}function Qf(e,n,t){var r=n&k,o=ar(e);function a(){var f=this&&this!==Le&&this instanceof a?o:e;return f.apply(r?t:this,arguments)}return a}function gl(e){return function(n){n=le(n);var t=Lt(n)?xn(n):i,r=t?t[0]:n.charAt(0),o=t?at(t,1).join(""):n.slice(1);return r[e]()+o}}function Gt(e){return function(n){return Ii(pa(da(n).replace(Bu,"")),e,"")}}function ar(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=Pt(e.prototype),r=e.apply(t,n);return _e(r)?r:t}}function Vf(e,n,t){var r=ar(e);function o(){for(var a=arguments.length,f=v(a),d=a,h=Ht(o);d--;)f[d]=arguments[d];var w=a<3&&f[0]!==h&&f[a-1]!==h?[]:rt(f,h);if(a-=w.length,a<t)return wl(e,n,Gr,o.placeholder,i,f,w,i,i,t-a);var b=this&&this!==Le&&this instanceof o?r:e;return Je(b,this,f)}return o}function vl(e){return function(n,t,r){var o=ue(n);if(!Ye(n)){var a=N(t,3);n=je(n),t=function(d){return a(o[d],d,o)}}var f=e(n,t,r);return f>-1?o[a?n[f]:f]:i}}function ml(e){return qn(function(n){var t=n.length,r=t,o=an.prototype.thru;for(e&&n.reverse();r--;){var a=n[r];if(typeof a!="function")throw new ln(x);if(o&&!f&&Yr(a)=="wrapper")var f=new an([],!0)}for(r=f?r:t;++r<t;){a=n[r];var d=Yr(a),h=d=="wrapper"?ao(a):i;h&&po(h[0])&&h[1]==(W|R|L|se)&&!h[4].length&&h[9]==1?f=f[Yr(h[0])].apply(f,h[3]):f=a.length==1&&po(a)?f[d]():f.thru(a)}return function(){var w=arguments,b=w[0];if(f&&w.length==1&&Z(b))return f.plant(b).value();for(var S=0,E=t?n[S].apply(this,w):b;++S<t;)E=n[S].call(this,E);return E}})}function Gr(e,n,t,r,o,a,f,d,h,w){var b=n&W,S=n&k,E=n&U,M=n&(R|K),B=n&fe,Q=E?i:ar(e);function P(){for(var ne=arguments.length,re=v(ne),nn=ne;nn--;)re[nn]=arguments[nn];if(M)var Pe=Ht(P),tn=cc(re,Pe);if(r&&(re=fl(re,r,o,M)),a&&(re=dl(re,a,f,M)),ne-=tn,M&&ne<w){var ye=rt(re,Pe);return wl(e,n,Gr,P.placeholder,t,re,ye,d,h,w-ne)}var bn=S?t:this,Xn=E?bn[e]:e;return ne=re.length,d?re=xd(re,d):B&&ne>1&&re.reverse(),b&&h<ne&&(re.length=h),this&&this!==Le&&this instanceof P&&(Xn=Q||ar(Xn)),Xn.apply(bn,re)}return P}function _l(e,n){return function(t,r){return Ef(t,e,n(r),{})}}function Hr(e,n){return function(t,r){var o;if(t===i&&r===i)return n;if(t!==i&&(o=t),r!==i){if(o===i)return r;typeof t=="string"||typeof r=="string"?(t=Ve(t),r=Ve(r)):(t=rl(t),r=rl(r)),o=e(t,r)}return o}}function io(e){return qn(function(n){return n=me(n,Qe(N())),V(function(t){var r=this;return e(n,function(o){return Je(o,r,t)})})})}function qr(e,n){n=n===i?" ":Ve(n);var t=n.length;if(t<2)return t?Ji(n,e):n;var r=Ji(n,jr(e/Ut(n)));return Lt(n)?at(xn(r),0,e).join(""):r.slice(0,e)}function ed(e,n,t,r){var o=n&k,a=ar(e);function f(){for(var d=-1,h=arguments.length,w=-1,b=r.length,S=v(b+h),E=this&&this!==Le&&this instanceof f?a:e;++w<b;)S[w]=r[w];for(;h--;)S[w++]=arguments[++d];return Je(E,o?t:this,S)}return f}function xl(e){return function(n,t,r){return r&&typeof r!="number"&&Be(n,t,r)&&(t=r=i),n=Zn(n),t===i?(t=n,n=0):t=Zn(t),r=r===i?n<t?1:-1:Zn(r),Wf(n,t,r,e)}}function Kr(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=dn(n),t=dn(t)),e(n,t)}}function wl(e,n,t,r,o,a,f,d,h,w){var b=n&R,S=b?f:i,E=b?i:f,M=b?a:i,B=b?i:a;n|=b?L:ee,n&=~(b?ee:L),n&j||(n&=~(k|U));var Q=[e,n,o,M,S,B,E,d,h,w],P=t.apply(i,Q);return po(e)&&jl(P,Q),P.placeholder=r,Tl(P,e,n)}function oo(e){var n=Ie[e];return function(t,r){if(t=dn(t),r=r==null?0:ze(J(r),292),r&&Ts(t)){var o=(le(t)+"e").split("e"),a=n(o[0]+"e"+(+o[1]+r));return o=(le(a)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return n(t)}}var nd=Nt&&1/br(new Nt([,-0]))[1]==pn?function(e){return new Nt(e)}:Io;function yl(e){return function(n){var t=We(n);return t==Se?ki(n):t==D?mc(n):uc(n,e(n))}}function Hn(e,n,t,r,o,a,f,d){var h=n&U;if(!h&&typeof e!="function")throw new ln(x);var w=r?r.length:0;if(w||(n&=~(L|ee),r=o=i),f=f===i?f:Fe(J(f),0),d=d===i?d:J(d),w-=o?o.length:0,n&ee){var b=r,S=o;r=o=i}var E=h?i:ao(e),M=[e,n,t,r,o,b,S,a,f,d];if(E&&vd(M,E),e=M[0],n=M[1],t=M[2],r=M[3],o=M[4],d=M[9]=M[9]===i?h?0:e.length:Fe(M[9]-w,0),!d&&n&(R|K)&&(n&=~(R|K)),!n||n==k)var B=Qf(e,n,t);else n==R||n==K?B=Vf(e,n,d):(n==L||n==(k|L))&&!o.length?B=ed(e,n,t,r):B=Gr.apply(i,M);var Q=E?nl:jl;return Tl(Q(B,M),e,n)}function bl(e,n,t,r){return e===i||yn(e,Wt[t])&&!ae.call(r,t)?n:e}function Cl(e,n,t,r,o,a){return _e(e)&&_e(n)&&(a.set(n,e),Nr(e,n,i,Cl,a),a.delete(n)),e}function td(e){return fr(e)?i:e}function Sl(e,n,t,r,o,a){var f=t&H,d=e.length,h=n.length;if(d!=h&&!(f&&h>d))return!1;var w=a.get(e),b=a.get(n);if(w&&b)return w==n&&b==e;var S=-1,E=!0,M=t&I?new yt:i;for(a.set(e,n),a.set(n,e);++S<d;){var B=e[S],Q=n[S];if(r)var P=f?r(Q,B,S,n,e,a):r(B,Q,S,e,n,a);if(P!==i){if(P)continue;E=!1;break}if(M){if(!Fi(n,function(ne,re){if(!Jt(M,re)&&(B===ne||o(B,ne,t,r,a)))return M.push(re)})){E=!1;break}}else if(!(B===Q||o(B,Q,t,r,a))){E=!1;break}}return a.delete(e),a.delete(n),E}function rd(e,n,t,r,o,a,f){switch(t){case In:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case _n:return!(e.byteLength!=n.byteLength||!a(new Ir(e),new Ir(n)));case rn:case He:case mn:return yn(+e,+n);case vn:return e.name==n.name&&e.message==n.message;case ht:case X:return e==n+"";case Se:var d=ki;case D:var h=r&H;if(d||(d=br),e.size!=n.size&&!h)return!1;var w=f.get(e);if(w)return w==n;r|=I,f.set(e,n);var b=Sl(d(e),d(n),r,o,a,f);return f.delete(e),b;case he:if(tr)return tr.call(e)==tr.call(n)}return!1}function id(e,n,t,r,o,a){var f=t&H,d=so(e),h=d.length,w=so(n),b=w.length;if(h!=b&&!f)return!1;for(var S=h;S--;){var E=d[S];if(!(f?E in n:ae.call(n,E)))return!1}var M=a.get(e),B=a.get(n);if(M&&B)return M==n&&B==e;var Q=!0;a.set(e,n),a.set(n,e);for(var P=f;++S<h;){E=d[S];var ne=e[E],re=n[E];if(r)var nn=f?r(re,ne,E,n,e,a):r(ne,re,E,e,n,a);if(!(nn===i?ne===re||o(ne,re,t,r,a):nn)){Q=!1;break}P||(P=E=="constructor")}if(Q&&!P){var Pe=e.constructor,tn=n.constructor;Pe!=tn&&"constructor"in e&&"constructor"in n&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof tn=="function"&&tn instanceof tn)&&(Q=!1)}return a.delete(e),a.delete(n),Q}function qn(e){return go(Rl(e,i,Wl),e+"")}function so(e){return Gs(e,je,co)}function lo(e){return Gs(e,Ze,Al)}var ao=Mr?function(e){return Mr.get(e)}:Io;function Yr(e){for(var n=e.name+"",t=Bt[n],r=ae.call(Bt,n)?t.length:0;r--;){var o=t[r],a=o.func;if(a==null||a==e)return o.name}return n}function Ht(e){var n=ae.call(s,"placeholder")?s:e;return n.placeholder}function N(){var e=s.iteratee||Do;return e=e===Do?Ks:e,arguments.length?e(arguments[0],arguments[1]):e}function Zr(e,n){var t=e.__data__;return dd(n)?t[typeof n=="string"?"string":"hash"]:t.map}function uo(e){for(var n=je(e),t=n.length;t--;){var r=n[t],o=e[r];n[t]=[r,o,Il(o)]}return n}function St(e,n){var t=hc(e,n);return qs(t)?t:i}function od(e){var n=ae.call(e,xt),t=e[xt];try{e[xt]=i;var r=!0}catch{}var o=Dr.call(e);return r&&(n?e[xt]=t:delete e[xt]),o}var co=Ui?function(e){return e==null?[]:(e=ue(e),nt(Ui(e),function(n){return Os.call(e,n)}))}:Fo,Al=Ui?function(e){for(var n=[];e;)tt(n,co(e)),e=Fr(e);return n}:Fo,We=Ne;(zi&&We(new zi(new ArrayBuffer(1)))!=In||Vt&&We(new Vt)!=Se||Wi&&We(Wi.resolve())!=vr||Nt&&We(new Nt)!=D||er&&We(new er)!=Ee)&&(We=function(e){var n=Ne(e),t=n==qe?e.constructor:i,r=t?At(t):"";if(r)switch(r){case Nc:return In;case Bc:return Se;case Pc:return vr;case $c:return D;case Gc:return Ee}return n});function sd(e,n,t){for(var r=-1,o=t.length;++r<o;){var a=t[r],f=a.size;switch(a.type){case"drop":e+=f;break;case"dropRight":n-=f;break;case"take":n=ze(n,e+f);break;case"takeRight":e=Fe(e,n-f);break}}return{start:e,end:n}}function ld(e){var n=e.match(du);return n?n[1].split(pu):[]}function Dl(e,n,t){n=lt(n,e);for(var r=-1,o=n.length,a=!1;++r<o;){var f=On(n[r]);if(!(a=e!=null&&t(e,f)))break;e=e[f]}return a||++r!=o?a:(o=e==null?0:e.length,!!o&&ti(o)&&Kn(f,o)&&(Z(e)||Dt(e)))}function ad(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&ae.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function El(e){return typeof e.constructor=="function"&&!ur(e)?Pt(Fr(e)):{}}function ud(e,n,t){var r=e.constructor;switch(n){case _n:return ro(e);case rn:case He:return new r(+e);case In:return qf(e,t);case vt:case Nn:case Bn:case mt:case Xt:case hi:case gi:case vi:case mi:return ul(e,t);case Se:return new r;case mn:case X:return new r(e);case ht:return Kf(e);case D:return new r;case he:return Yf(e)}}function cd(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace(fu,`{
/* [wrapped with `+n+`] */
`)}function fd(e){return Z(e)||Dt(e)||!!(js&&e&&e[js])}function Kn(e,n){var t=typeof e;return n=n??Ge,!!n&&(t=="number"||t!="symbol"&&bu.test(e))&&e>-1&&e%1==0&&e<n}function Be(e,n,t){if(!_e(t))return!1;var r=typeof n;return(r=="number"?Ye(t)&&Kn(n,t.length):r=="string"&&n in t)?yn(t[n],e):!1}function fo(e,n){if(Z(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||en(e)?!0:lu.test(e)||!su.test(e)||n!=null&&e in ue(n)}function dd(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function po(e){var n=Yr(e),t=s[n];if(typeof t!="function"||!(n in te.prototype))return!1;if(e===t)return!0;var r=ao(t);return!!r&&e===r[0]}function pd(e){return!!Is&&Is in e}var hd=Sr?Yn:Ro;function ur(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Wt;return e===t}function Il(e){return e===e&&!_e(e)}function Fl(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==i||e in ue(t))}}function gd(e){var n=ei(e,function(r){return t.size===F&&t.clear(),r}),t=n.cache;return n}function vd(e,n){var t=e[1],r=n[1],o=t|r,a=o<(k|U|W),f=r==W&&t==R||r==W&&t==se&&e[7].length<=n[8]||r==(W|se)&&n[7].length<=n[8]&&t==R;if(!(a||f))return e;r&k&&(e[2]=n[2],o|=t&k?0:j);var d=n[3];if(d){var h=e[3];e[3]=h?fl(h,d,n[4]):d,e[4]=h?rt(e[3],G):n[4]}return d=n[5],d&&(h=e[5],e[5]=h?dl(h,d,n[6]):d,e[6]=h?rt(e[5],G):n[6]),d=n[7],d&&(e[7]=d),r&W&&(e[8]=e[8]==null?n[8]:ze(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=o,e}function md(e){var n=[];if(e!=null)for(var t in ue(e))n.push(t);return n}function _d(e){return Dr.call(e)}function Rl(e,n,t){return n=Fe(n===i?e.length-1:n,0),function(){for(var r=arguments,o=-1,a=Fe(r.length-n,0),f=v(a);++o<a;)f[o]=r[n+o];o=-1;for(var d=v(n+1);++o<n;)d[o]=r[o];return d[n]=t(f),Je(e,this,d)}}function Ol(e,n){return n.length<2?e:Ct(e,cn(n,0,-1))}function xd(e,n){for(var t=e.length,r=ze(n.length,t),o=Ke(e);r--;){var a=n[r];e[r]=Kn(a,t)?o[a]:i}return e}function ho(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var jl=Ml(nl),cr=Tc||function(e,n){return Le.setTimeout(e,n)},go=Ml(Pf);function Tl(e,n,t){var r=n+"";return go(e,cd(r,wd(ld(r),t)))}function Ml(e){var n=0,t=0;return function(){var r=Uc(),o=Ae-(r-t);if(t=r,o>0){if(++n>=En)return arguments[0]}else n=0;return e.apply(i,arguments)}}function Xr(e,n){var t=-1,r=e.length,o=r-1;for(n=n===i?r:n;++t<n;){var a=Xi(t,o),f=e[a];e[a]=e[t],e[t]=f}return e.length=n,e}var kl=gd(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(au,function(t,r,o,a){n.push(o?a.replace(vu,"$1"):r||t)}),n});function On(e){if(typeof e=="string"||en(e))return e;var n=e+"";return n=="0"&&1/e==-pn?"-0":n}function At(e){if(e!=null){try{return Ar.call(e)}catch{}try{return e+""}catch{}}return""}function wd(e,n){return sn(jt,function(t){var r="_."+t[0];n&t[1]&&!wr(e,r)&&e.push(r)}),e.sort()}function Ll(e){if(e instanceof te)return e.clone();var n=new an(e.__wrapped__,e.__chain__);return n.__actions__=Ke(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function yd(e,n,t){(t?Be(e,n,t):n===i)?n=1:n=Fe(J(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var o=0,a=0,f=v(jr(r/n));o<r;)f[a++]=cn(e,o,o+=n);return f}function bd(e){for(var n=-1,t=e==null?0:e.length,r=0,o=[];++n<t;){var a=e[n];a&&(o[r++]=a)}return o}function Cd(){var e=arguments.length;if(!e)return[];for(var n=v(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return tt(Z(t)?Ke(t):[t],Ue(n,1))}var Sd=V(function(e,n){return we(e)?ir(e,Ue(n,1,we,!0)):[]}),Ad=V(function(e,n){var t=fn(n);return we(t)&&(t=i),we(e)?ir(e,Ue(n,1,we,!0),N(t,2)):[]}),Dd=V(function(e,n){var t=fn(n);return we(t)&&(t=i),we(e)?ir(e,Ue(n,1,we,!0),i,t):[]});function Ed(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===i?1:J(n),cn(e,n<0?0:n,r)):[]}function Id(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===i?1:J(n),n=r-n,cn(e,0,n<0?0:n)):[]}function Fd(e,n){return e&&e.length?Pr(e,N(n,3),!0,!0):[]}function Rd(e,n){return e&&e.length?Pr(e,N(n,3),!0):[]}function Od(e,n,t,r){var o=e==null?0:e.length;return o?(t&&typeof t!="number"&&Be(e,n,t)&&(t=0,r=o),Cf(e,n,t,r)):[]}function Ul(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=t==null?0:J(t);return o<0&&(o=Fe(r+o,0)),yr(e,N(n,3),o)}function zl(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return t!==i&&(o=J(t),o=t<0?Fe(r+o,0):ze(o,r-1)),yr(e,N(n,3),o,!0)}function Wl(e){var n=e==null?0:e.length;return n?Ue(e,1):[]}function jd(e){var n=e==null?0:e.length;return n?Ue(e,pn):[]}function Td(e,n){var t=e==null?0:e.length;return t?(n=n===i?1:J(n),Ue(e,n)):[]}function Md(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var o=e[n];r[o[0]]=o[1]}return r}function Nl(e){return e&&e.length?e[0]:i}function kd(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=t==null?0:J(t);return o<0&&(o=Fe(r+o,0)),kt(e,n,o)}function Ld(e){var n=e==null?0:e.length;return n?cn(e,0,-1):[]}var Ud=V(function(e){var n=me(e,no);return n.length&&n[0]===e[0]?Hi(n):[]}),zd=V(function(e){var n=fn(e),t=me(e,no);return n===fn(t)?n=i:t.pop(),t.length&&t[0]===e[0]?Hi(t,N(n,2)):[]}),Wd=V(function(e){var n=fn(e),t=me(e,no);return n=typeof n=="function"?n:i,n&&t.pop(),t.length&&t[0]===e[0]?Hi(t,i,n):[]});function Nd(e,n){return e==null?"":kc.call(e,n)}function fn(e){var n=e==null?0:e.length;return n?e[n-1]:i}function Bd(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=r;return t!==i&&(o=J(t),o=o<0?Fe(r+o,0):ze(o,r-1)),n===n?xc(e,n,o):yr(e,ws,o,!0)}function Pd(e,n){return e&&e.length?Js(e,J(n)):i}var $d=V(Bl);function Bl(e,n){return e&&e.length&&n&&n.length?Zi(e,n):e}function Gd(e,n,t){return e&&e.length&&n&&n.length?Zi(e,n,N(t,2)):e}function Hd(e,n,t){return e&&e.length&&n&&n.length?Zi(e,n,i,t):e}var qd=qn(function(e,n){var t=e==null?0:e.length,r=Bi(e,n);return el(e,me(n,function(o){return Kn(o,t)?+o:o}).sort(cl)),r});function Kd(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,o=[],a=e.length;for(n=N(n,3);++r<a;){var f=e[r];n(f,r,e)&&(t.push(f),o.push(r))}return el(e,o),t}function vo(e){return e==null?e:Wc.call(e)}function Yd(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&Be(e,n,t)?(n=0,t=r):(n=n==null?0:J(n),t=t===i?r:J(t)),cn(e,n,t)):[]}function Zd(e,n){return Br(e,n)}function Xd(e,n,t){return Qi(e,n,N(t,2))}function Jd(e,n){var t=e==null?0:e.length;if(t){var r=Br(e,n);if(r<t&&yn(e[r],n))return r}return-1}function Qd(e,n){return Br(e,n,!0)}function Vd(e,n,t){return Qi(e,n,N(t,2),!0)}function ep(e,n){var t=e==null?0:e.length;if(t){var r=Br(e,n,!0)-1;if(yn(e[r],n))return r}return-1}function np(e){return e&&e.length?tl(e):[]}function tp(e,n){return e&&e.length?tl(e,N(n,2)):[]}function rp(e){var n=e==null?0:e.length;return n?cn(e,1,n):[]}function ip(e,n,t){return e&&e.length?(n=t||n===i?1:J(n),cn(e,0,n<0?0:n)):[]}function op(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===i?1:J(n),n=r-n,cn(e,n<0?0:n,r)):[]}function sp(e,n){return e&&e.length?Pr(e,N(n,3),!1,!0):[]}function lp(e,n){return e&&e.length?Pr(e,N(n,3)):[]}var ap=V(function(e){return st(Ue(e,1,we,!0))}),up=V(function(e){var n=fn(e);return we(n)&&(n=i),st(Ue(e,1,we,!0),N(n,2))}),cp=V(function(e){var n=fn(e);return n=typeof n=="function"?n:i,st(Ue(e,1,we,!0),i,n)});function fp(e){return e&&e.length?st(e):[]}function dp(e,n){return e&&e.length?st(e,N(n,2)):[]}function pp(e,n){return n=typeof n=="function"?n:i,e&&e.length?st(e,i,n):[]}function mo(e){if(!(e&&e.length))return[];var n=0;return e=nt(e,function(t){if(we(t))return n=Fe(t.length,n),!0}),Ti(n,function(t){return me(e,Ri(t))})}function Pl(e,n){if(!(e&&e.length))return[];var t=mo(e);return n==null?t:me(t,function(r){return Je(n,i,r)})}var hp=V(function(e,n){return we(e)?ir(e,n):[]}),gp=V(function(e){return eo(nt(e,we))}),vp=V(function(e){var n=fn(e);return we(n)&&(n=i),eo(nt(e,we),N(n,2))}),mp=V(function(e){var n=fn(e);return n=typeof n=="function"?n:i,eo(nt(e,we),i,n)}),_p=V(mo);function xp(e,n){return sl(e||[],n||[],rr)}function wp(e,n){return sl(e||[],n||[],lr)}var yp=V(function(e){var n=e.length,t=n>1?e[n-1]:i;return t=typeof t=="function"?(e.pop(),t):i,Pl(e,t)});function $l(e){var n=s(e);return n.__chain__=!0,n}function bp(e,n){return n(e),e}function Jr(e,n){return n(e)}var Cp=qn(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,o=function(a){return Bi(a,e)};return n>1||this.__actions__.length||!(r instanceof te)||!Kn(t)?this.thru(o):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:Jr,args:[o],thisArg:i}),new an(r,this.__chain__).thru(function(a){return n&&!a.length&&a.push(i),a}))});function Sp(){return $l(this)}function Ap(){return new an(this.value(),this.__chain__)}function Dp(){this.__values__===i&&(this.__values__=ra(this.value()));var e=this.__index__>=this.__values__.length,n=e?i:this.__values__[this.__index__++];return{done:e,value:n}}function Ep(){return this}function Ip(e){for(var n,t=this;t instanceof Lr;){var r=Ll(t);r.__index__=0,r.__values__=i,n?o.__wrapped__=r:n=r;var o=r;t=t.__wrapped__}return o.__wrapped__=e,n}function Fp(){var e=this.__wrapped__;if(e instanceof te){var n=e;return this.__actions__.length&&(n=new te(this)),n=n.reverse(),n.__actions__.push({func:Jr,args:[vo],thisArg:i}),new an(n,this.__chain__)}return this.thru(vo)}function Rp(){return ol(this.__wrapped__,this.__actions__)}var Op=$r(function(e,n,t){ae.call(e,t)?++e[t]:Gn(e,t,1)});function jp(e,n,t){var r=Z(e)?_s:bf;return t&&Be(e,n,t)&&(n=i),r(e,N(n,3))}function Tp(e,n){var t=Z(e)?nt:Ps;return t(e,N(n,3))}var Mp=vl(Ul),kp=vl(zl);function Lp(e,n){return Ue(Qr(e,n),1)}function Up(e,n){return Ue(Qr(e,n),pn)}function zp(e,n,t){return t=t===i?1:J(t),Ue(Qr(e,n),t)}function Gl(e,n){var t=Z(e)?sn:ot;return t(e,N(n,3))}function Hl(e,n){var t=Z(e)?tc:Bs;return t(e,N(n,3))}var Wp=$r(function(e,n,t){ae.call(e,t)?e[t].push(n):Gn(e,t,[n])});function Np(e,n,t,r){e=Ye(e)?e:Kt(e),t=t&&!r?J(t):0;var o=e.length;return t<0&&(t=Fe(o+t,0)),ri(e)?t<=o&&e.indexOf(n,t)>-1:!!o&&kt(e,n,t)>-1}var Bp=V(function(e,n,t){var r=-1,o=typeof n=="function",a=Ye(e)?v(e.length):[];return ot(e,function(f){a[++r]=o?Je(n,f,t):or(f,n,t)}),a}),Pp=$r(function(e,n,t){Gn(e,t,n)});function Qr(e,n){var t=Z(e)?me:Ys;return t(e,N(n,3))}function $p(e,n,t,r){return e==null?[]:(Z(n)||(n=n==null?[]:[n]),t=r?i:t,Z(t)||(t=t==null?[]:[t]),Qs(e,n,t))}var Gp=$r(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function Hp(e,n,t){var r=Z(e)?Ii:bs,o=arguments.length<3;return r(e,N(n,4),t,o,ot)}function qp(e,n,t){var r=Z(e)?rc:bs,o=arguments.length<3;return r(e,N(n,4),t,o,Bs)}function Kp(e,n){var t=Z(e)?nt:Ps;return t(e,ni(N(n,3)))}function Yp(e){var n=Z(e)?Us:Nf;return n(e)}function Zp(e,n,t){(t?Be(e,n,t):n===i)?n=1:n=J(n);var r=Z(e)?mf:Bf;return r(e,n)}function Xp(e){var n=Z(e)?_f:$f;return n(e)}function Jp(e){if(e==null)return 0;if(Ye(e))return ri(e)?Ut(e):e.length;var n=We(e);return n==Se||n==D?e.size:Ki(e).length}function Qp(e,n,t){var r=Z(e)?Fi:Gf;return t&&Be(e,n,t)&&(n=i),r(e,N(n,3))}var Vp=V(function(e,n){if(e==null)return[];var t=n.length;return t>1&&Be(e,n[0],n[1])?n=[]:t>2&&Be(n[0],n[1],n[2])&&(n=[n[0]]),Qs(e,Ue(n,1),[])}),Vr=jc||function(){return Le.Date.now()};function eh(e,n){if(typeof n!="function")throw new ln(x);return e=J(e),function(){if(--e<1)return n.apply(this,arguments)}}function ql(e,n,t){return n=t?i:n,n=e&&n==null?e.length:n,Hn(e,W,i,i,i,i,n)}function Kl(e,n){var t;if(typeof n!="function")throw new ln(x);return e=J(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=i),t}}var _o=V(function(e,n,t){var r=k;if(t.length){var o=rt(t,Ht(_o));r|=L}return Hn(e,r,n,t,o)}),Yl=V(function(e,n,t){var r=k|U;if(t.length){var o=rt(t,Ht(Yl));r|=L}return Hn(n,r,e,t,o)});function Zl(e,n,t){n=t?i:n;var r=Hn(e,R,i,i,i,i,i,n);return r.placeholder=Zl.placeholder,r}function Xl(e,n,t){n=t?i:n;var r=Hn(e,K,i,i,i,i,i,n);return r.placeholder=Xl.placeholder,r}function Jl(e,n,t){var r,o,a,f,d,h,w=0,b=!1,S=!1,E=!0;if(typeof e!="function")throw new ln(x);n=dn(n)||0,_e(t)&&(b=!!t.leading,S="maxWait"in t,a=S?Fe(dn(t.maxWait)||0,n):a,E="trailing"in t?!!t.trailing:E);function M(ye){var bn=r,Xn=o;return r=o=i,w=ye,f=e.apply(Xn,bn),f}function B(ye){return w=ye,d=cr(ne,n),b?M(ye):f}function Q(ye){var bn=ye-h,Xn=ye-w,va=n-bn;return S?ze(va,a-Xn):va}function P(ye){var bn=ye-h,Xn=ye-w;return h===i||bn>=n||bn<0||S&&Xn>=a}function ne(){var ye=Vr();if(P(ye))return re(ye);d=cr(ne,Q(ye))}function re(ye){return d=i,E&&r?M(ye):(r=o=i,f)}function nn(){d!==i&&ll(d),w=0,r=h=o=d=i}function Pe(){return d===i?f:re(Vr())}function tn(){var ye=Vr(),bn=P(ye);if(r=arguments,o=this,h=ye,bn){if(d===i)return B(h);if(S)return ll(d),d=cr(ne,n),M(h)}return d===i&&(d=cr(ne,n)),f}return tn.cancel=nn,tn.flush=Pe,tn}var nh=V(function(e,n){return Ns(e,1,n)}),th=V(function(e,n,t){return Ns(e,dn(n)||0,t)});function rh(e){return Hn(e,fe)}function ei(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new ln(x);var t=function(){var r=arguments,o=n?n.apply(this,r):r[0],a=t.cache;if(a.has(o))return a.get(o);var f=e.apply(this,r);return t.cache=a.set(o,f)||a,f};return t.cache=new(ei.Cache||$n),t}ei.Cache=$n;function ni(e){if(typeof e!="function")throw new ln(x);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function ih(e){return Kl(2,e)}var oh=Hf(function(e,n){n=n.length==1&&Z(n[0])?me(n[0],Qe(N())):me(Ue(n,1),Qe(N()));var t=n.length;return V(function(r){for(var o=-1,a=ze(r.length,t);++o<a;)r[o]=n[o].call(this,r[o]);return Je(e,this,r)})}),xo=V(function(e,n){var t=rt(n,Ht(xo));return Hn(e,L,i,n,t)}),Ql=V(function(e,n){var t=rt(n,Ht(Ql));return Hn(e,ee,i,n,t)}),sh=qn(function(e,n){return Hn(e,se,i,i,i,n)});function lh(e,n){if(typeof e!="function")throw new ln(x);return n=n===i?n:J(n),V(e,n)}function ah(e,n){if(typeof e!="function")throw new ln(x);return n=n==null?0:Fe(J(n),0),V(function(t){var r=t[n],o=at(t,0,n);return r&&tt(o,r),Je(e,this,o)})}function uh(e,n,t){var r=!0,o=!0;if(typeof e!="function")throw new ln(x);return _e(t)&&(r="leading"in t?!!t.leading:r,o="trailing"in t?!!t.trailing:o),Jl(e,n,{leading:r,maxWait:n,trailing:o})}function ch(e){return ql(e,1)}function fh(e,n){return xo(to(n),e)}function dh(){if(!arguments.length)return[];var e=arguments[0];return Z(e)?e:[e]}function ph(e){return un(e,q)}function hh(e,n){return n=typeof n=="function"?n:i,un(e,q,n)}function gh(e){return un(e,z|q)}function vh(e,n){return n=typeof n=="function"?n:i,un(e,z|q,n)}function mh(e,n){return n==null||Ws(e,n,je(n))}function yn(e,n){return e===n||e!==e&&n!==n}var _h=Kr(Gi),xh=Kr(function(e,n){return e>=n}),Dt=Hs(function(){return arguments}())?Hs:function(e){return xe(e)&&ae.call(e,"callee")&&!Os.call(e,"callee")},Z=v.isArray,wh=ds?Qe(ds):If;function Ye(e){return e!=null&&ti(e.length)&&!Yn(e)}function we(e){return xe(e)&&Ye(e)}function yh(e){return e===!0||e===!1||xe(e)&&Ne(e)==rn}var ut=Mc||Ro,bh=ps?Qe(ps):Ff;function Ch(e){return xe(e)&&e.nodeType===1&&!fr(e)}function Sh(e){if(e==null)return!0;if(Ye(e)&&(Z(e)||typeof e=="string"||typeof e.splice=="function"||ut(e)||qt(e)||Dt(e)))return!e.length;var n=We(e);if(n==Se||n==D)return!e.size;if(ur(e))return!Ki(e).length;for(var t in e)if(ae.call(e,t))return!1;return!0}function Ah(e,n){return sr(e,n)}function Dh(e,n,t){t=typeof t=="function"?t:i;var r=t?t(e,n):i;return r===i?sr(e,n,i,t):!!r}function wo(e){if(!xe(e))return!1;var n=Ne(e);return n==vn||n==Vn||typeof e.message=="string"&&typeof e.name=="string"&&!fr(e)}function Eh(e){return typeof e=="number"&&Ts(e)}function Yn(e){if(!_e(e))return!1;var n=Ne(e);return n==Wn||n==et||n==zn||n==pi}function Vl(e){return typeof e=="number"&&e==J(e)}function ti(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ge}function _e(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function xe(e){return e!=null&&typeof e=="object"}var ea=hs?Qe(hs):Of;function Ih(e,n){return e===n||qi(e,n,uo(n))}function Fh(e,n,t){return t=typeof t=="function"?t:i,qi(e,n,uo(n),t)}function Rh(e){return na(e)&&e!=+e}function Oh(e){if(hd(e))throw new Y(C);return qs(e)}function jh(e){return e===null}function Th(e){return e==null}function na(e){return typeof e=="number"||xe(e)&&Ne(e)==mn}function fr(e){if(!xe(e)||Ne(e)!=qe)return!1;var n=Fr(e);if(n===null)return!0;var t=ae.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Ar.call(t)==Ic}var yo=gs?Qe(gs):jf;function Mh(e){return Vl(e)&&e>=-Ge&&e<=Ge}var ta=vs?Qe(vs):Tf;function ri(e){return typeof e=="string"||!Z(e)&&xe(e)&&Ne(e)==X}function en(e){return typeof e=="symbol"||xe(e)&&Ne(e)==he}var qt=ms?Qe(ms):Mf;function kh(e){return e===i}function Lh(e){return xe(e)&&We(e)==Ee}function Uh(e){return xe(e)&&Ne(e)==gt}var zh=Kr(Yi),Wh=Kr(function(e,n){return e<=n});function ra(e){if(!e)return[];if(Ye(e))return ri(e)?xn(e):Ke(e);if(Qt&&e[Qt])return vc(e[Qt]());var n=We(e),t=n==Se?ki:n==D?br:Kt;return t(e)}function Zn(e){if(!e)return e===0?e:0;if(e=dn(e),e===pn||e===-pn){var n=e<0?-1:1;return n*Jn}return e===e?e:0}function J(e){var n=Zn(e),t=n%1;return n===n?t?n-t:n:0}function ia(e){return e?bt(J(e),0,Oe):0}function dn(e){if(typeof e=="number")return e;if(en(e))return Qn;if(_e(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=_e(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Cs(e);var t=xu.test(e);return t||yu.test(e)?Vu(e.slice(2),t?2:8):_u.test(e)?Qn:+e}function oa(e){return Rn(e,Ze(e))}function Nh(e){return e?bt(J(e),-Ge,Ge):e===0?e:0}function le(e){return e==null?"":Ve(e)}var Bh=$t(function(e,n){if(ur(n)||Ye(n)){Rn(n,je(n),e);return}for(var t in n)ae.call(n,t)&&rr(e,t,n[t])}),sa=$t(function(e,n){Rn(n,Ze(n),e)}),ii=$t(function(e,n,t,r){Rn(n,Ze(n),e,r)}),Ph=$t(function(e,n,t,r){Rn(n,je(n),e,r)}),$h=qn(Bi);function Gh(e,n){var t=Pt(e);return n==null?t:zs(t,n)}var Hh=V(function(e,n){e=ue(e);var t=-1,r=n.length,o=r>2?n[2]:i;for(o&&Be(n[0],n[1],o)&&(r=1);++t<r;)for(var a=n[t],f=Ze(a),d=-1,h=f.length;++d<h;){var w=f[d],b=e[w];(b===i||yn(b,Wt[w])&&!ae.call(e,w))&&(e[w]=a[w])}return e}),qh=V(function(e){return e.push(i,Cl),Je(la,i,e)});function Kh(e,n){return xs(e,N(n,3),Fn)}function Yh(e,n){return xs(e,N(n,3),$i)}function Zh(e,n){return e==null?e:Pi(e,N(n,3),Ze)}function Xh(e,n){return e==null?e:$s(e,N(n,3),Ze)}function Jh(e,n){return e&&Fn(e,N(n,3))}function Qh(e,n){return e&&$i(e,N(n,3))}function Vh(e){return e==null?[]:Wr(e,je(e))}function eg(e){return e==null?[]:Wr(e,Ze(e))}function bo(e,n,t){var r=e==null?i:Ct(e,n);return r===i?t:r}function ng(e,n){return e!=null&&Dl(e,n,Sf)}function Co(e,n){return e!=null&&Dl(e,n,Af)}var tg=_l(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Dr.call(n)),e[n]=t},Ao(Xe)),rg=_l(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Dr.call(n)),ae.call(e,n)?e[n].push(t):e[n]=[t]},N),ig=V(or);function je(e){return Ye(e)?Ls(e):Ki(e)}function Ze(e){return Ye(e)?Ls(e,!0):kf(e)}function og(e,n){var t={};return n=N(n,3),Fn(e,function(r,o,a){Gn(t,n(r,o,a),r)}),t}function sg(e,n){var t={};return n=N(n,3),Fn(e,function(r,o,a){Gn(t,o,n(r,o,a))}),t}var lg=$t(function(e,n,t){Nr(e,n,t)}),la=$t(function(e,n,t,r){Nr(e,n,t,r)}),ag=qn(function(e,n){var t={};if(e==null)return t;var r=!1;n=me(n,function(a){return a=lt(a,e),r||(r=a.length>1),a}),Rn(e,lo(e),t),r&&(t=un(t,z|$|q,td));for(var o=n.length;o--;)Vi(t,n[o]);return t});function ug(e,n){return aa(e,ni(N(n)))}var cg=qn(function(e,n){return e==null?{}:Uf(e,n)});function aa(e,n){if(e==null)return{};var t=me(lo(e),function(r){return[r]});return n=N(n),Vs(e,t,function(r,o){return n(r,o[0])})}function fg(e,n,t){n=lt(n,e);var r=-1,o=n.length;for(o||(o=1,e=i);++r<o;){var a=e==null?i:e[On(n[r])];a===i&&(r=o,a=t),e=Yn(a)?a.call(e):a}return e}function dg(e,n,t){return e==null?e:lr(e,n,t)}function pg(e,n,t,r){return r=typeof r=="function"?r:i,e==null?e:lr(e,n,t,r)}var ua=yl(je),ca=yl(Ze);function hg(e,n,t){var r=Z(e),o=r||ut(e)||qt(e);if(n=N(n,4),t==null){var a=e&&e.constructor;o?t=r?new a:[]:_e(e)?t=Yn(a)?Pt(Fr(e)):{}:t={}}return(o?sn:Fn)(e,function(f,d,h){return n(t,f,d,h)}),t}function gg(e,n){return e==null?!0:Vi(e,n)}function vg(e,n,t){return e==null?e:il(e,n,to(t))}function mg(e,n,t,r){return r=typeof r=="function"?r:i,e==null?e:il(e,n,to(t),r)}function Kt(e){return e==null?[]:Mi(e,je(e))}function _g(e){return e==null?[]:Mi(e,Ze(e))}function xg(e,n,t){return t===i&&(t=n,n=i),t!==i&&(t=dn(t),t=t===t?t:0),n!==i&&(n=dn(n),n=n===n?n:0),bt(dn(e),n,t)}function wg(e,n,t){return n=Zn(n),t===i?(t=n,n=0):t=Zn(t),e=dn(e),Df(e,n,t)}function yg(e,n,t){if(t&&typeof t!="boolean"&&Be(e,n,t)&&(n=t=i),t===i&&(typeof n=="boolean"?(t=n,n=i):typeof e=="boolean"&&(t=e,e=i)),e===i&&n===i?(e=0,n=1):(e=Zn(e),n===i?(n=e,e=0):n=Zn(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var o=Ms();return ze(e+o*(n-e+Qu("1e-"+((o+"").length-1))),n)}return Xi(e,n)}var bg=Gt(function(e,n,t){return n=n.toLowerCase(),e+(t?fa(n):n)});function fa(e){return So(le(e).toLowerCase())}function da(e){return e=le(e),e&&e.replace(Cu,fc).replace(Pu,"")}function Cg(e,n,t){e=le(e),n=Ve(n);var r=e.length;t=t===i?r:bt(J(t),0,r);var o=t;return t-=n.length,t>=0&&e.slice(t,o)==n}function Sg(e){return e=le(e),e&&ru.test(e)?e.replace($o,dc):e}function Ag(e){return e=le(e),e&&uu.test(e)?e.replace(_i,"\\$&"):e}var Dg=Gt(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),Eg=Gt(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),Ig=gl("toLowerCase");function Fg(e,n,t){e=le(e),n=J(n);var r=n?Ut(e):0;if(!n||r>=n)return e;var o=(n-r)/2;return qr(Tr(o),t)+e+qr(jr(o),t)}function Rg(e,n,t){e=le(e),n=J(n);var r=n?Ut(e):0;return n&&r<n?e+qr(n-r,t):e}function Og(e,n,t){e=le(e),n=J(n);var r=n?Ut(e):0;return n&&r<n?qr(n-r,t)+e:e}function jg(e,n,t){return t||n==null?n=0:n&&(n=+n),zc(le(e).replace(xi,""),n||0)}function Tg(e,n,t){return(t?Be(e,n,t):n===i)?n=1:n=J(n),Ji(le(e),n)}function Mg(){var e=arguments,n=le(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var kg=Gt(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function Lg(e,n,t){return t&&typeof t!="number"&&Be(e,n,t)&&(n=t=i),t=t===i?Oe:t>>>0,t?(e=le(e),e&&(typeof n=="string"||n!=null&&!yo(n))&&(n=Ve(n),!n&&Lt(e))?at(xn(e),0,t):e.split(n,t)):[]}var Ug=Gt(function(e,n,t){return e+(t?" ":"")+So(n)});function zg(e,n,t){return e=le(e),t=t==null?0:bt(J(t),0,e.length),n=Ve(n),e.slice(t,t+n.length)==n}function Wg(e,n,t){var r=s.templateSettings;t&&Be(e,n,t)&&(n=i),e=le(e),n=ii({},n,r,bl);var o=ii({},n.imports,r.imports,bl),a=je(o),f=Mi(o,a),d,h,w=0,b=n.interpolate||mr,S="__p += '",E=Li((n.escape||mr).source+"|"+b.source+"|"+(b===Go?mu:mr).source+"|"+(n.evaluate||mr).source+"|$","g"),M="//# sourceURL="+(ae.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ku+"]")+`
`;e.replace(E,function(P,ne,re,nn,Pe,tn){return re||(re=nn),S+=e.slice(w,tn).replace(Su,pc),ne&&(d=!0,S+=`' +
__e(`+ne+`) +
'`),Pe&&(h=!0,S+=`';
`+Pe+`;
__p += '`),re&&(S+=`' +
((__t = (`+re+`)) == null ? '' : __t) +
'`),w=tn+P.length,P}),S+=`';
`;var B=ae.call(n,"variable")&&n.variable;if(!B)S=`with (obj) {
`+S+`
}
`;else if(gu.test(B))throw new Y(y);S=(h?S.replace(Va,""):S).replace(eu,"$1").replace(nu,"$1;"),S="function("+(B||"obj")+`) {
`+(B?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(d?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+S+`return __p
}`;var Q=ha(function(){return oe(a,M+"return "+S).apply(i,f)});if(Q.source=S,wo(Q))throw Q;return Q}function Ng(e){return le(e).toLowerCase()}function Bg(e){return le(e).toUpperCase()}function Pg(e,n,t){if(e=le(e),e&&(t||n===i))return Cs(e);if(!e||!(n=Ve(n)))return e;var r=xn(e),o=xn(n),a=Ss(r,o),f=As(r,o)+1;return at(r,a,f).join("")}function $g(e,n,t){if(e=le(e),e&&(t||n===i))return e.slice(0,Es(e)+1);if(!e||!(n=Ve(n)))return e;var r=xn(e),o=As(r,xn(n))+1;return at(r,0,o).join("")}function Gg(e,n,t){if(e=le(e),e&&(t||n===i))return e.replace(xi,"");if(!e||!(n=Ve(n)))return e;var r=xn(e),o=Ss(r,xn(n));return at(r,o).join("")}function Hg(e,n){var t=Ce,r=Dn;if(_e(n)){var o="separator"in n?n.separator:o;t="length"in n?J(n.length):t,r="omission"in n?Ve(n.omission):r}e=le(e);var a=e.length;if(Lt(e)){var f=xn(e);a=f.length}if(t>=a)return e;var d=t-Ut(r);if(d<1)return r;var h=f?at(f,0,d).join(""):e.slice(0,d);if(o===i)return h+r;if(f&&(d+=h.length-d),yo(o)){if(e.slice(d).search(o)){var w,b=h;for(o.global||(o=Li(o.source,le(Ho.exec(o))+"g")),o.lastIndex=0;w=o.exec(b);)var S=w.index;h=h.slice(0,S===i?d:S)}}else if(e.indexOf(Ve(o),d)!=d){var E=h.lastIndexOf(o);E>-1&&(h=h.slice(0,E))}return h+r}function qg(e){return e=le(e),e&&tu.test(e)?e.replace(Po,wc):e}var Kg=Gt(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),So=gl("toUpperCase");function pa(e,n,t){return e=le(e),n=t?i:n,n===i?gc(e)?Cc(e):sc(e):e.match(n)||[]}var ha=V(function(e,n){try{return Je(e,i,n)}catch(t){return wo(t)?t:new Y(t)}}),Yg=qn(function(e,n){return sn(n,function(t){t=On(t),Gn(e,t,_o(e[t],e))}),e});function Zg(e){var n=e==null?0:e.length,t=N();return e=n?me(e,function(r){if(typeof r[1]!="function")throw new ln(x);return[t(r[0]),r[1]]}):[],V(function(r){for(var o=-1;++o<n;){var a=e[o];if(Je(a[0],this,r))return Je(a[1],this,r)}})}function Xg(e){return yf(un(e,z))}function Ao(e){return function(){return e}}function Jg(e,n){return e==null||e!==e?n:e}var Qg=ml(),Vg=ml(!0);function Xe(e){return e}function Do(e){return Ks(typeof e=="function"?e:un(e,z))}function ev(e){return Zs(un(e,z))}function nv(e,n){return Xs(e,un(n,z))}var tv=V(function(e,n){return function(t){return or(t,e,n)}}),rv=V(function(e,n){return function(t){return or(e,t,n)}});function Eo(e,n,t){var r=je(n),o=Wr(n,r);t==null&&!(_e(n)&&(o.length||!r.length))&&(t=n,n=e,e=this,o=Wr(n,je(n)));var a=!(_e(t)&&"chain"in t)||!!t.chain,f=Yn(e);return sn(o,function(d){var h=n[d];e[d]=h,f&&(e.prototype[d]=function(){var w=this.__chain__;if(a||w){var b=e(this.__wrapped__),S=b.__actions__=Ke(this.__actions__);return S.push({func:h,args:arguments,thisArg:e}),b.__chain__=w,b}return h.apply(e,tt([this.value()],arguments))})}),e}function iv(){return Le._===this&&(Le._=Fc),this}function Io(){}function ov(e){return e=J(e),V(function(n){return Js(n,e)})}var sv=io(me),lv=io(_s),av=io(Fi);function ga(e){return fo(e)?Ri(On(e)):zf(e)}function uv(e){return function(n){return e==null?i:Ct(e,n)}}var cv=xl(),fv=xl(!0);function Fo(){return[]}function Ro(){return!1}function dv(){return{}}function pv(){return""}function hv(){return!0}function gv(e,n){if(e=J(e),e<1||e>Ge)return[];var t=Oe,r=ze(e,Oe);n=N(n),e-=Oe;for(var o=Ti(r,n);++t<e;)n(t);return o}function vv(e){return Z(e)?me(e,On):en(e)?[e]:Ke(kl(le(e)))}function mv(e){var n=++Ec;return le(e)+n}var _v=Hr(function(e,n){return e+n},0),xv=oo("ceil"),wv=Hr(function(e,n){return e/n},1),yv=oo("floor");function bv(e){return e&&e.length?zr(e,Xe,Gi):i}function Cv(e,n){return e&&e.length?zr(e,N(n,2),Gi):i}function Sv(e){return ys(e,Xe)}function Av(e,n){return ys(e,N(n,2))}function Dv(e){return e&&e.length?zr(e,Xe,Yi):i}function Ev(e,n){return e&&e.length?zr(e,N(n,2),Yi):i}var Iv=Hr(function(e,n){return e*n},1),Fv=oo("round"),Rv=Hr(function(e,n){return e-n},0);function Ov(e){return e&&e.length?ji(e,Xe):0}function jv(e,n){return e&&e.length?ji(e,N(n,2)):0}return s.after=eh,s.ary=ql,s.assign=Bh,s.assignIn=sa,s.assignInWith=ii,s.assignWith=Ph,s.at=$h,s.before=Kl,s.bind=_o,s.bindAll=Yg,s.bindKey=Yl,s.castArray=dh,s.chain=$l,s.chunk=yd,s.compact=bd,s.concat=Cd,s.cond=Zg,s.conforms=Xg,s.constant=Ao,s.countBy=Op,s.create=Gh,s.curry=Zl,s.curryRight=Xl,s.debounce=Jl,s.defaults=Hh,s.defaultsDeep=qh,s.defer=nh,s.delay=th,s.difference=Sd,s.differenceBy=Ad,s.differenceWith=Dd,s.drop=Ed,s.dropRight=Id,s.dropRightWhile=Fd,s.dropWhile=Rd,s.fill=Od,s.filter=Tp,s.flatMap=Lp,s.flatMapDeep=Up,s.flatMapDepth=zp,s.flatten=Wl,s.flattenDeep=jd,s.flattenDepth=Td,s.flip=rh,s.flow=Qg,s.flowRight=Vg,s.fromPairs=Md,s.functions=Vh,s.functionsIn=eg,s.groupBy=Wp,s.initial=Ld,s.intersection=Ud,s.intersectionBy=zd,s.intersectionWith=Wd,s.invert=tg,s.invertBy=rg,s.invokeMap=Bp,s.iteratee=Do,s.keyBy=Pp,s.keys=je,s.keysIn=Ze,s.map=Qr,s.mapKeys=og,s.mapValues=sg,s.matches=ev,s.matchesProperty=nv,s.memoize=ei,s.merge=lg,s.mergeWith=la,s.method=tv,s.methodOf=rv,s.mixin=Eo,s.negate=ni,s.nthArg=ov,s.omit=ag,s.omitBy=ug,s.once=ih,s.orderBy=$p,s.over=sv,s.overArgs=oh,s.overEvery=lv,s.overSome=av,s.partial=xo,s.partialRight=Ql,s.partition=Gp,s.pick=cg,s.pickBy=aa,s.property=ga,s.propertyOf=uv,s.pull=$d,s.pullAll=Bl,s.pullAllBy=Gd,s.pullAllWith=Hd,s.pullAt=qd,s.range=cv,s.rangeRight=fv,s.rearg=sh,s.reject=Kp,s.remove=Kd,s.rest=lh,s.reverse=vo,s.sampleSize=Zp,s.set=dg,s.setWith=pg,s.shuffle=Xp,s.slice=Yd,s.sortBy=Vp,s.sortedUniq=np,s.sortedUniqBy=tp,s.split=Lg,s.spread=ah,s.tail=rp,s.take=ip,s.takeRight=op,s.takeRightWhile=sp,s.takeWhile=lp,s.tap=bp,s.throttle=uh,s.thru=Jr,s.toArray=ra,s.toPairs=ua,s.toPairsIn=ca,s.toPath=vv,s.toPlainObject=oa,s.transform=hg,s.unary=ch,s.union=ap,s.unionBy=up,s.unionWith=cp,s.uniq=fp,s.uniqBy=dp,s.uniqWith=pp,s.unset=gg,s.unzip=mo,s.unzipWith=Pl,s.update=vg,s.updateWith=mg,s.values=Kt,s.valuesIn=_g,s.without=hp,s.words=pa,s.wrap=fh,s.xor=gp,s.xorBy=vp,s.xorWith=mp,s.zip=_p,s.zipObject=xp,s.zipObjectDeep=wp,s.zipWith=yp,s.entries=ua,s.entriesIn=ca,s.extend=sa,s.extendWith=ii,Eo(s,s),s.add=_v,s.attempt=ha,s.camelCase=bg,s.capitalize=fa,s.ceil=xv,s.clamp=xg,s.clone=ph,s.cloneDeep=gh,s.cloneDeepWith=vh,s.cloneWith=hh,s.conformsTo=mh,s.deburr=da,s.defaultTo=Jg,s.divide=wv,s.endsWith=Cg,s.eq=yn,s.escape=Sg,s.escapeRegExp=Ag,s.every=jp,s.find=Mp,s.findIndex=Ul,s.findKey=Kh,s.findLast=kp,s.findLastIndex=zl,s.findLastKey=Yh,s.floor=yv,s.forEach=Gl,s.forEachRight=Hl,s.forIn=Zh,s.forInRight=Xh,s.forOwn=Jh,s.forOwnRight=Qh,s.get=bo,s.gt=_h,s.gte=xh,s.has=ng,s.hasIn=Co,s.head=Nl,s.identity=Xe,s.includes=Np,s.indexOf=kd,s.inRange=wg,s.invoke=ig,s.isArguments=Dt,s.isArray=Z,s.isArrayBuffer=wh,s.isArrayLike=Ye,s.isArrayLikeObject=we,s.isBoolean=yh,s.isBuffer=ut,s.isDate=bh,s.isElement=Ch,s.isEmpty=Sh,s.isEqual=Ah,s.isEqualWith=Dh,s.isError=wo,s.isFinite=Eh,s.isFunction=Yn,s.isInteger=Vl,s.isLength=ti,s.isMap=ea,s.isMatch=Ih,s.isMatchWith=Fh,s.isNaN=Rh,s.isNative=Oh,s.isNil=Th,s.isNull=jh,s.isNumber=na,s.isObject=_e,s.isObjectLike=xe,s.isPlainObject=fr,s.isRegExp=yo,s.isSafeInteger=Mh,s.isSet=ta,s.isString=ri,s.isSymbol=en,s.isTypedArray=qt,s.isUndefined=kh,s.isWeakMap=Lh,s.isWeakSet=Uh,s.join=Nd,s.kebabCase=Dg,s.last=fn,s.lastIndexOf=Bd,s.lowerCase=Eg,s.lowerFirst=Ig,s.lt=zh,s.lte=Wh,s.max=bv,s.maxBy=Cv,s.mean=Sv,s.meanBy=Av,s.min=Dv,s.minBy=Ev,s.stubArray=Fo,s.stubFalse=Ro,s.stubObject=dv,s.stubString=pv,s.stubTrue=hv,s.multiply=Iv,s.nth=Pd,s.noConflict=iv,s.noop=Io,s.now=Vr,s.pad=Fg,s.padEnd=Rg,s.padStart=Og,s.parseInt=jg,s.random=yg,s.reduce=Hp,s.reduceRight=qp,s.repeat=Tg,s.replace=Mg,s.result=fg,s.round=Fv,s.runInContext=p,s.sample=Yp,s.size=Jp,s.snakeCase=kg,s.some=Qp,s.sortedIndex=Zd,s.sortedIndexBy=Xd,s.sortedIndexOf=Jd,s.sortedLastIndex=Qd,s.sortedLastIndexBy=Vd,s.sortedLastIndexOf=ep,s.startCase=Ug,s.startsWith=zg,s.subtract=Rv,s.sum=Ov,s.sumBy=jv,s.template=Wg,s.times=gv,s.toFinite=Zn,s.toInteger=J,s.toLength=ia,s.toLower=Ng,s.toNumber=dn,s.toSafeInteger=Nh,s.toString=le,s.toUpper=Bg,s.trim=Pg,s.trimEnd=$g,s.trimStart=Gg,s.truncate=Hg,s.unescape=qg,s.uniqueId=mv,s.upperCase=Kg,s.upperFirst=So,s.each=Gl,s.eachRight=Hl,s.first=Nl,Eo(s,function(){var e={};return Fn(s,function(n,t){ae.call(s.prototype,t)||(e[t]=n)}),e}(),{chain:!1}),s.VERSION=g,sn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),sn(["drop","take"],function(e,n){te.prototype[e]=function(t){t=t===i?1:Fe(J(t),0);var r=this.__filtered__&&!n?new te(this):this.clone();return r.__filtered__?r.__takeCount__=ze(t,r.__takeCount__):r.__views__.push({size:ze(t,Oe),type:e+(r.__dir__<0?"Right":"")}),r},te.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),sn(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==Me||t==ke;te.prototype[e]=function(o){var a=this.clone();return a.__iteratees__.push({iteratee:N(o,3),type:t}),a.__filtered__=a.__filtered__||r,a}}),sn(["head","last"],function(e,n){var t="take"+(n?"Right":"");te.prototype[e]=function(){return this[t](1).value()[0]}}),sn(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");te.prototype[e]=function(){return this.__filtered__?new te(this):this[t](1)}}),te.prototype.compact=function(){return this.filter(Xe)},te.prototype.find=function(e){return this.filter(e).head()},te.prototype.findLast=function(e){return this.reverse().find(e)},te.prototype.invokeMap=V(function(e,n){return typeof e=="function"?new te(this):this.map(function(t){return or(t,e,n)})}),te.prototype.reject=function(e){return this.filter(ni(N(e)))},te.prototype.slice=function(e,n){e=J(e);var t=this;return t.__filtered__&&(e>0||n<0)?new te(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==i&&(n=J(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},te.prototype.toArray=function(){return this.take(Oe)},Fn(te.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=s[r?"take"+(n=="last"?"Right":""):n],a=r||/^find/.test(n);o&&(s.prototype[n]=function(){var f=this.__wrapped__,d=r?[1]:arguments,h=f instanceof te,w=d[0],b=h||Z(f),S=function(ne){var re=o.apply(s,tt([ne],d));return r&&E?re[0]:re};b&&t&&typeof w=="function"&&w.length!=1&&(h=b=!1);var E=this.__chain__,M=!!this.__actions__.length,B=a&&!E,Q=h&&!M;if(!a&&b){f=Q?f:new te(this);var P=e.apply(f,d);return P.__actions__.push({func:Jr,args:[S],thisArg:i}),new an(P,E)}return B&&Q?e.apply(this,d):(P=this.thru(S),B?r?P.value()[0]:P.value():P)})}),sn(["pop","push","shift","sort","splice","unshift"],function(e){var n=Cr[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var o=arguments;if(r&&!this.__chain__){var a=this.value();return n.apply(Z(a)?a:[],o)}return this[t](function(f){return n.apply(Z(f)?f:[],o)})}}),Fn(te.prototype,function(e,n){var t=s[n];if(t){var r=t.name+"";ae.call(Bt,r)||(Bt[r]=[]),Bt[r].push({name:n,func:t})}}),Bt[Gr(i,U).name]=[{name:"wrapper",func:i}],te.prototype.clone=Hc,te.prototype.reverse=qc,te.prototype.value=Kc,s.prototype.at=Cp,s.prototype.chain=Sp,s.prototype.commit=Ap,s.prototype.next=Dp,s.prototype.plant=Ip,s.prototype.reverse=Fp,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=Rp,s.prototype.first=s.prototype.head,Qt&&(s.prototype[Qt]=Ep),s},zt=Sc();_t?((_t.exports=zt)._=zt,Ai._=zt):Le._=zt}).call(dr)})(li,li.exports);var ya=li.exports;const Fm=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function gr(l,c){const i=Rm(l);if(typeof i.path!="string"){const{webkitRelativePath:g}=l;Object.defineProperty(i,"path",{value:typeof c=="string"?c:typeof g=="string"&&g.length>0?g:l.name,writable:!1,configurable:!1,enumerable:!0})}return i}function Rm(l){const{name:c}=l;if(c&&c.lastIndexOf(".")!==-1&&!l.type){const g=c.split(".").pop().toLowerCase(),_=Fm.get(g);_&&Object.defineProperty(l,"type",{value:_,writable:!1,configurable:!1,enumerable:!0})}return l}var Zt=(l,c,i)=>new Promise((g,_)=>{var C=A=>{try{y(i.next(A))}catch(F){_(F)}},x=A=>{try{y(i.throw(A))}catch(F){_(F)}},y=A=>A.done?g(A.value):Promise.resolve(A.value).then(C,x);y((i=i.apply(l,c)).next())});const Om=[".DS_Store","Thumbs.db"];function jm(l){return Zt(this,null,function*(){return ai(l)&&Tm(l.dataTransfer)?Um(l.dataTransfer,l.type):Mm(l)?km(l):Array.isArray(l)&&l.every(c=>"getFile"in c&&typeof c.getFile=="function")?Lm(l):[]})}function Tm(l){return ai(l)}function Mm(l){return ai(l)&&ai(l.target)}function ai(l){return typeof l=="object"&&l!==null}function km(l){return jo(l.target.files).map(c=>gr(c))}function Lm(l){return Zt(this,null,function*(){return(yield Promise.all(l.map(i=>i.getFile()))).map(i=>gr(i))})}function Um(l,c){return Zt(this,null,function*(){if(l.items){const i=jo(l.items).filter(_=>_.kind==="file");if(c!=="drop")return i;const g=yield Promise.all(i.map(zm));return ba(Pa(g))}return ba(jo(l.files).map(i=>gr(i)))})}function ba(l){return l.filter(c=>Om.indexOf(c.name)===-1)}function jo(l){if(l===null)return[];const c=[];for(let i=0;i<l.length;i++){const g=l[i];c.push(g)}return c}function zm(l){if(typeof l.webkitGetAsEntry!="function")return Ca(l);const c=l.webkitGetAsEntry();return c&&c.isDirectory?$a(c):Ca(l)}function Pa(l){return l.reduce((c,i)=>[...c,...Array.isArray(i)?Pa(i):[i]],[])}function Ca(l){const c=l.getAsFile();if(!c)return Promise.reject(`${l} is not a File`);const i=gr(c);return Promise.resolve(i)}function Wm(l){return Zt(this,null,function*(){return l.isDirectory?$a(l):Nm(l)})}function $a(l){const c=l.createReader();return new Promise((i,g)=>{const _=[];function C(){c.readEntries(x=>Zt(this,null,function*(){if(x.length){const y=Promise.all(x.map(Wm));_.push(y),C()}else try{const y=yield Promise.all(_);i(y)}catch(y){g(y)}}),x=>{g(x)})}C()})}function Nm(l){return Zt(this,null,function*(){return new Promise((c,i)=>{l.file(g=>{const _=gr(g,l.fullPath);c(_)},g=>{i(g)})})})}function Bm(l,c){if(l&&c){const i=Array.isArray(c)?c:c.split(","),g=l.name||"",_=(l.type||"").toLowerCase(),C=_.replace(/\/.*$/,"");return i.some(x=>{const y=x.trim().toLowerCase();return y.charAt(0)==="."?g.toLowerCase().endsWith(y):y.endsWith("/*")?C===y.replace(/\/.*$/,""):_===y})}return!0}var Pm=Object.defineProperty,$m=Object.defineProperties,Gm=Object.getOwnPropertyDescriptors,Sa=Object.getOwnPropertySymbols,Hm=Object.prototype.hasOwnProperty,qm=Object.prototype.propertyIsEnumerable,Aa=(l,c,i)=>c in l?Pm(l,c,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[c]=i,Km=(l,c)=>{for(var i in c||(c={}))Hm.call(c,i)&&Aa(l,i,c[i]);if(Sa)for(var i of Sa(c))qm.call(c,i)&&Aa(l,i,c[i]);return l},Ym=(l,c)=>$m(l,Gm(c));const Zm="file-invalid-type",Xm="file-too-large",Jm="file-too-small",Qm="too-many-files",Vm=l=>{l=Array.isArray(l)&&l.length===1?l[0]:l;const c=Array.isArray(l)?`one of ${l.join(", ")}`:l;return{code:Zm,message:`File type must be ${c}`}},Da=l=>({code:Xm,message:`File is larger than ${l} ${l===1?"byte":"bytes"}`}),Ea=l=>({code:Jm,message:`File is smaller than ${l} ${l===1?"byte":"bytes"}`}),e_={code:Qm,message:"Too many files"};function Ga(l,c){const i=l.type==="application/x-moz-file"||Bm(l,c);return[i,i?null:Vm(c)]}function Ha(l,c,i){if(Et(l.size))if(Et(c)&&Et(i)){if(l.size>i)return[!1,Da(i)];if(l.size<c)return[!1,Ea(c)]}else{if(Et(c)&&l.size<c)return[!1,Ea(c)];if(Et(i)&&l.size>i)return[!1,Da(i)]}return[!0,null]}function Et(l){return l!=null}function n_({files:l,accept:c,minSize:i,maxSize:g,multiple:_,maxFiles:C,validator:x}){return!_&&l.length>1||_&&C>=1&&l.length>C?!1:l.every(y=>{const[A]=Ga(y,c),[F]=Ha(y,i,g),G=x?x(y):null;return A&&F&&!G})}function ui(l){return typeof l.isPropagationStopped=="function"?l.isPropagationStopped():typeof l.cancelBubble<"u"?l.cancelBubble:!1}function oi(l){return l.dataTransfer?Array.prototype.some.call(l.dataTransfer.types,c=>c==="Files"||c==="application/x-moz-file"):!!l.target&&!!l.target.files}function Ia(l){l.preventDefault()}function t_(l){return l.indexOf("MSIE")!==-1||l.indexOf("Trident/")!==-1}function r_(l){return l.indexOf("Edge/")!==-1}function i_(l=window.navigator.userAgent){return t_(l)||r_(l)}function jn(...l){return(c,...i)=>l.some(g=>(!ui(c)&&g&&g(c,...i),ui(c)))}function o_(){return"showOpenFilePicker"in window}function s_(l){return Et(l)?[{description:"Files",accept:Object.entries(l).filter(([i,g])=>{let _=!0;return qa(i)||(console.warn(`Skipped "${i}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),_=!1),(!Array.isArray(g)||!g.every(Ka))&&(console.warn(`Skipped "${i}" because an invalid file extension was provided.`),_=!1),_}).reduce((i,[g,_])=>Ym(Km({},i),{[g]:_}),{})}]:l}function l_(l){if(Et(l))return Object.entries(l).reduce((c,[i,g])=>[...c,i,...g],[]).filter(c=>qa(c)||Ka(c)).join(",")}function a_(l){return l instanceof DOMException&&(l.name==="AbortError"||l.code===l.ABORT_ERR)}function u_(l){return l instanceof DOMException&&(l.name==="SecurityError"||l.code===l.SECURITY_ERR)}function qa(l){return l==="audio/*"||l==="video/*"||l==="image/*"||l==="text/*"||/\w+\/[-+.\w]+/g.test(l)}function Ka(l){return/^.*\.[\w]+$/.test(l)}var c_=Object.defineProperty,f_=Object.defineProperties,d_=Object.getOwnPropertyDescriptors,ci=Object.getOwnPropertySymbols,Ya=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,Fa=(l,c,i)=>c in l?c_(l,c,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[c]=i,$e=(l,c)=>{for(var i in c||(c={}))Ya.call(c,i)&&Fa(l,i,c[i]);if(ci)for(var i of ci(c))Za.call(c,i)&&Fa(l,i,c[i]);return l},ft=(l,c)=>f_(l,d_(c)),fi=(l,c)=>{var i={};for(var g in l)Ya.call(l,g)&&c.indexOf(g)<0&&(i[g]=l[g]);if(l!=null&&ci)for(var g of ci(l))c.indexOf(g)<0&&Za.call(l,g)&&(i[g]=l[g]);return i};const Wo=T.forwardRef((l,c)=>{var i=l,{children:g}=i,_=fi(i,["children"]);const C=Ja(_),{open:x}=C,y=fi(C,["open"]);return T.useImperativeHandle(c,()=>({open:x}),[x]),ka.createElement(T.Fragment,null,g(ft($e({},y),{open:x})))});Wo.displayName="Dropzone";const Xa={disabled:!1,getFilesFromEvent:jm,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Wo.defaultProps=Xa;Wo.propTypes={children:ce.func,accept:ce.objectOf(ce.arrayOf(ce.string)),multiple:ce.bool,preventDropOnDocument:ce.bool,noClick:ce.bool,noKeyboard:ce.bool,noDrag:ce.bool,noDragEventsBubbling:ce.bool,minSize:ce.number,maxSize:ce.number,maxFiles:ce.number,disabled:ce.bool,getFilesFromEvent:ce.func,onFileDialogCancel:ce.func,onFileDialogOpen:ce.func,useFsAccessApi:ce.bool,autoFocus:ce.bool,onDragEnter:ce.func,onDragLeave:ce.func,onDragOver:ce.func,onDrop:ce.func,onDropAccepted:ce.func,onDropRejected:ce.func,onError:ce.func,validator:ce.func};const To={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ja(l={}){const{accept:c,disabled:i,getFilesFromEvent:g,maxSize:_,minSize:C,multiple:x,maxFiles:y,onDragEnter:A,onDragLeave:F,onDragOver:G,onDrop:z,onDropAccepted:$,onDropRejected:q,onFileDialogCancel:H,onFileDialogOpen:I,useFsAccessApi:k,autoFocus:U,preventDropOnDocument:j,noClick:R,noKeyboard:K,noDrag:L,noDragEventsBubbling:ee,onError:W,validator:se}=$e($e({},Xa),l),fe=T.useMemo(()=>l_(c),[c]),Ce=T.useMemo(()=>s_(c),[c]),Dn=T.useMemo(()=>typeof I=="function"?I:Ra,[I]),En=T.useMemo(()=>typeof H=="function"?H:Ra,[H]),Ae=T.useRef(null),Me=T.useRef(null),[Rt,ke]=T.useReducer(p_,To),{isFocused:pn,isFileDialogActive:Ge}=Rt,Jn=T.useRef(typeof window<"u"&&window.isSecureContext&&k&&o_()),Qn=()=>{!Jn.current&&Ge&&setTimeout(()=>{if(Me.current){const{files:D}=Me.current;D.length||(ke({type:"closeDialog"}),En())}},300)};T.useEffect(()=>(window.addEventListener("focus",Qn,!1),()=>{window.removeEventListener("focus",Qn,!1)}),[Me,Ge,En,Jn]);const Oe=T.useRef([]),Ot=D=>{Ae.current&&Ae.current.contains(D.target)||(D.preventDefault(),Oe.current=[])};T.useEffect(()=>(j&&(document.addEventListener("dragover",Ia,!1),document.addEventListener("drop",Ot,!1)),()=>{j&&(document.removeEventListener("dragover",Ia),document.removeEventListener("drop",Ot))}),[Ae,j]),T.useEffect(()=>(!i&&U&&Ae.current&&Ae.current.focus(),()=>{}),[Ae,U,i]);const hn=T.useCallback(D=>{W?W(D):console.error(D)},[W]),jt=T.useCallback(D=>{D.preventDefault(),D.persist(),qe(D),Oe.current=[...Oe.current,D.target],oi(D)&&Promise.resolve(g(D)).then(X=>{if(ui(D)&&!ee)return;const he=X.length,De=he>0&&n_({files:X,accept:fe,minSize:C,maxSize:_,multiple:x,maxFiles:y,validator:se}),Ee=he>0&&!De;ke({isDragAccept:De,isDragReject:Ee,isDragActive:!0,type:"setDraggedFiles"}),A&&A(D)}).catch(X=>hn(X))},[g,A,hn,ee,fe,C,_,x,y,se]),gn=T.useCallback(D=>{D.preventDefault(),D.persist(),qe(D);const X=oi(D);if(X&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch{}return X&&G&&G(D),!1},[G,ee]),Un=T.useCallback(D=>{D.preventDefault(),D.persist(),qe(D);const X=Oe.current.filter(De=>Ae.current&&Ae.current.contains(De)),he=X.indexOf(D.target);he!==-1&&X.splice(he,1),Oe.current=X,!(X.length>0)&&(ke({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),oi(D)&&F&&F(D))},[Ae,F,ee]),zn=T.useCallback((D,X)=>{const he=[],De=[];D.forEach(Ee=>{const[gt,_n]=Ga(Ee,fe),[In,vt]=Ha(Ee,C,_),Nn=se?se(Ee):null;if(gt&&In&&!Nn)he.push(Ee);else{let Bn=[_n,vt];Nn&&(Bn=Bn.concat(Nn)),De.push({file:Ee,errors:Bn.filter(mt=>mt)})}}),(!x&&he.length>1||x&&y>=1&&he.length>y)&&(he.forEach(Ee=>{De.push({file:Ee,errors:[e_]})}),he.splice(0)),ke({acceptedFiles:he,fileRejections:De,type:"setFiles"}),z&&z(he,De,X),De.length>0&&q&&q(De,X),he.length>0&&$&&$(he,X)},[ke,x,fe,C,_,y,z,$,q,se]),rn=T.useCallback(D=>{D.preventDefault(),D.persist(),qe(D),Oe.current=[],oi(D)&&Promise.resolve(g(D)).then(X=>{ui(D)&&!ee||zn(X,D)}).catch(X=>hn(X)),ke({type:"reset"})},[g,zn,hn,ee]),He=T.useCallback(()=>{if(Jn.current){ke({type:"openDialog"}),Dn();const D={multiple:x,types:Ce};window.showOpenFilePicker(D).then(X=>g(X)).then(X=>{zn(X,null),ke({type:"closeDialog"})}).catch(X=>{a_(X)?(En(X),ke({type:"closeDialog"})):u_(X)?(Jn.current=!1,Me.current?(Me.current.value=null,Me.current.click()):hn(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):hn(X)});return}Me.current&&(ke({type:"openDialog"}),Dn(),Me.current.value=null,Me.current.click())},[ke,Dn,En,k,zn,hn,Ce,x]),Vn=T.useCallback(D=>{!Ae.current||!Ae.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),He())},[Ae,He]),vn=T.useCallback(()=>{ke({type:"focus"})},[]),Wn=T.useCallback(()=>{ke({type:"blur"})},[]),et=T.useCallback(()=>{R||(i_()?setTimeout(He,0):He())},[R,He]),Se=D=>i?null:D,mn=D=>K?null:Se(D),Tt=D=>L?null:Se(D),qe=D=>{ee&&D.stopPropagation()},vr=T.useMemo(()=>(D={})=>{var X=D,{refKey:he="ref",role:De,onKeyDown:Ee,onFocus:gt,onBlur:_n,onClick:In,onDragEnter:vt,onDragOver:Nn,onDragLeave:Bn,onDrop:mt}=X,Xt=fi(X,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return $e($e({onKeyDown:mn(jn(Ee,Vn)),onFocus:mn(jn(gt,vn)),onBlur:mn(jn(_n,Wn)),onClick:Se(jn(In,et)),onDragEnter:Tt(jn(vt,jt)),onDragOver:Tt(jn(Nn,gn)),onDragLeave:Tt(jn(Bn,Un)),onDrop:Tt(jn(mt,rn)),role:typeof De=="string"&&De!==""?De:"presentation",[he]:Ae},!i&&!K?{tabIndex:0}:{}),Xt)},[Ae,Vn,vn,Wn,et,jt,gn,Un,rn,K,L,i]),pi=T.useCallback(D=>{D.stopPropagation()},[]),ht=T.useMemo(()=>(D={})=>{var X=D,{refKey:he="ref",onChange:De,onClick:Ee}=X,gt=fi(X,["refKey","onChange","onClick"]);const _n={accept:fe,multiple:x,type:"file",style:{display:"none"},onChange:Se(jn(De,rn)),onClick:Se(jn(Ee,pi)),tabIndex:-1,[he]:Me};return $e($e({},_n),gt)},[Me,c,x,rn,i]);return ft($e({},Rt),{isFocused:pn&&!i,getRootProps:vr,getInputProps:ht,rootRef:Ae,inputRef:Me,open:Se(He)})}function p_(l,c){switch(c.type){case"focus":return ft($e({},l),{isFocused:!0});case"blur":return ft($e({},l),{isFocused:!1});case"openDialog":return ft($e({},To),{isFileDialogActive:!0});case"closeDialog":return ft($e({},l),{isFileDialogActive:!1});case"setDraggedFiles":return ft($e({},l),{isDragActive:c.isDragActive,isDragAccept:c.isDragAccept,isDragReject:c.isDragReject});case"setFiles":return ft($e({},l),{acceptedFiles:c.acceptedFiles,fileRejections:c.fileRejections});case"reset":return $e({},To);default:return l}}function Ra(){}const[h_,g_]=Lv("Dropzone component was not found in tree");function No(l){const c=i=>{const{children:g,..._}=di(`Dropzone${_a(l)}`,{},i),C=g_(),x=Uv(g)?g:u.jsx("span",{children:g});return C[l]?T.cloneElement(x,_):null};return c.displayName=`@mantine/dropzone/${_a(l)}`,c}const v_=No("accept"),m_=No("reject"),__=No("idle");var hr={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};const x_={loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},w_=Ma((l,{radius:c,variant:i,acceptColor:g,rejectColor:_})=>{const C=l.variantColorResolver({color:g||l.primaryColor,theme:l,variant:i}),x=l.variantColorResolver({color:_||"red",theme:l,variant:i});return{root:{"--dropzone-radius":Wv(c),"--dropzone-accept-color":C.color,"--dropzone-accept-bg":C.background,"--dropzone-reject-color":x.color,"--dropzone-reject-bg":x.background}}}),pt=Mo((l,c)=>{const i=di("Dropzone",x_,l),{classNames:g,className:_,style:C,styles:x,unstyled:y,vars:A,radius:F,disabled:G,loading:z,multiple:$,maxSize:q,accept:H,children:I,onDropAny:k,onDrop:U,onReject:j,openRef:R,name:K,maxFiles:L,autoFocus:ee,activateOnClick:W,activateOnDrag:se,dragEventsBubbling:fe,activateOnKeyboard:Ce,onDragEnter:Dn,onDragLeave:En,onDragOver:Ae,onFileDialogCancel:Me,onFileDialogOpen:Rt,preventDropOnDocument:ke,useFsAccessApi:pn,getFilesFromEvent:Ge,validator:Jn,rejectColor:Qn,acceptColor:Oe,enablePointerEvents:Ot,loaderProps:hn,inputProps:jt,mod:gn,...Un}=i,zn=ko({name:"Dropzone",classes:hr,props:i,className:_,style:C,classNames:g,styles:x,unstyled:y,vars:A,varsResolver:w_}),{getRootProps:rn,getInputProps:He,isDragAccept:Vn,isDragReject:vn,open:Wn}=Ja({onDrop:k,onDropAccepted:U,onDropRejected:j,disabled:G||z,accept:Array.isArray(H)?H.reduce((Se,mn)=>({...Se,[mn]:[]}),{}):H,multiple:$,maxSize:q,maxFiles:L,autoFocus:ee,noClick:!W,noDrag:!se,noDragEventsBubbling:!fe,noKeyboard:!Ce,onDragEnter:Dn,onDragLeave:En,onDragOver:Ae,onFileDialogCancel:Me,onFileDialogOpen:Rt,preventDropOnDocument:ke,useFsAccessApi:pn,validator:Jn,...Ge?{getFilesFromEvent:Ge}:null});zv(R,Wn);const et=!Vn&&!vn;return u.jsx(h_,{value:{accept:Vn,reject:vn,idle:et},children:u.jsxs(Lo,{...rn(),...zn("root",{focusable:!0}),...Un,mod:[{accept:Vn,reject:vn,idle:et,disabled:G,loading:z,"activate-on-click":W},gn],children:[u.jsx(zo,{visible:z,overlayProps:{radius:F},unstyled:y,loaderProps:hn}),u.jsx("input",{...He(jt),name:K}),u.jsx("div",{...zn("inner"),ref:c,"data-enable-pointer-events":Ot||void 0,children:I})]})})});pt.classes=hr;pt.displayName="@mantine/dropzone/Dropzone";pt.Accept=v_;pt.Idle=__;pt.Reject=m_;const y_={loading:!1,maxSize:1/0,activateOnClick:!1,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:ja("max"),withinPortal:!0},Bo=Mo((l,c)=>{const i=di("DropzoneFullScreen",y_,l),{classNames:g,className:_,style:C,styles:x,unstyled:y,vars:A,active:F,onDrop:G,onReject:z,zIndex:$,withinPortal:q,portalProps:H,...I}=i,k=ko({name:"DropzoneFullScreen",classes:hr,props:i,className:_,style:C,classNames:g,styles:x,unstyled:y,rootSelector:"fullScreen"}),{resolvedClassNames:U,resolvedStyles:j}=Jv({classNames:g,styles:x,props:i}),[R,K]=T.useState(0),[L,{open:ee,close:W}]=Hv(!1),se=Ce=>{var Dn;(Dn=Ce.dataTransfer)!=null&&Dn.types.includes("Files")&&(K(En=>En+1),ee())},fe=()=>{K(Ce=>Ce-1)};return T.useEffect(()=>{R===0&&W()},[R]),T.useEffect(()=>{if(F)return document.addEventListener("dragenter",se,!1),document.addEventListener("dragleave",fe,!1),()=>{document.removeEventListener("dragenter",se,!1),document.removeEventListener("dragleave",fe,!1)}},[F]),u.jsx(Nv,{...H,withinPortal:q,children:u.jsx(Lo,{...k("fullScreen",{style:{opacity:L?1:0,pointerEvents:L?"all":"none",zIndex:$}}),ref:c,children:u.jsx(pt,{...I,classNames:U,styles:j,unstyled:y,className:hr.dropzone,onDrop:Ce=>{G==null||G(Ce),W(),K(0)},onReject:Ce=>{z==null||z(Ce),W(),K(0)}})})})});Bo.classes=hr;Bo.displayName="@mantine/dropzone/DropzoneFullScreen";pt.FullScreen=Bo;const Oa=pt;function b_({onDrop:l,openRef:c,children:i}){return u.jsxs(Oa,{openRef:c,onDrop:l,activateOnClick:!1,accept:{"application/pdf":[],"application/msword":[],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[],"image/png":[],"image/jpeg":[]},maxSize:10*1024**2,styles:{root:{border:"none",padding:0}},onReject:()=>{pe.show({position:"top-center",title:"Error",message:"File type not supported",color:"red",icon:u.jsx(Em,{})})},children:[u.jsx(Oa.Accept,{children:u.jsx(Qv,{style:{width:It(52),height:It(52),color:"var(--mantine-color-blue-6)",position:"absolute",bottom:It(16),left:"50%",transform:"translateX(-50%)",zIndex:9999},stroke:1.5})}),i]})}function C_({itemParentId:l}){const[c,i]=T.useState("reviewal"),{closeModal:g,modals:_}=Re(),C=Ua(c,_.createWorkflow),{data:x,setData:y,post:A,processing:F,errors:G,reset:z}=Sn({folder_item_id:"",resolution:"",destination:"",type:"reviewal",users:[]}),[$,q]=T.useState([]),H=C.length;T.useEffect(()=>{q([])},[c,C]);const I=L=>{L.preventDefault();const ee=$.map(W=>parseInt(W.selectedUser)).filter(W=>!isNaN(W));x.folder_item_id=l??"",x.users=ee.map(W=>({user_id:W})),A(route("workflows.store"),{preserveScroll:!0,onSuccess:()=>{g("createWorkflow"),pe.show({position:"top-center",message:"Approval process created",color:"green"})},onError:()=>{pe.show({position:"top-center",message:"Something went wrong",color:"red"})},onFinish:()=>z()})},k=()=>{$.length<H&&q([...$,{selectedUser:""}])},U=()=>{const L=$.map(se=>se.selectedUser),W=C.filter(se=>!L.includes(se.id.toString())).map(se=>({selectedUser:se.id.toString()}));q([...$,...W])},j=L=>{const ee=[...$];ee.splice(L,1),q(ee)},R=(L,ee)=>{const W=[...$];W[L].selectedUser=ee||"",q(W)},K=$.map(L=>L.selectedUser).filter(L=>L!=="");return{data:x,setData:y,createApprovalSubmit:I,processing:F,errors:G,users:$,setWorkflowType:i,addUser:k,removeUser:j,handleUserChange:R,addAllUsers:U,maxUsers:H,selectedUserIds:K,fetchedUsers:C}}const S_=({itemParent:l})=>{const{data:c,setData:i,createApprovalSubmit:g,processing:_,errors:C,users:x,setWorkflowType:y,addUser:A,removeUser:F,handleUserChange:G,addAllUsers:z,maxUsers:$,selectedUserIds:q,fetchedUsers:H}=C_({itemParentId:l==null?void 0:l.item_id}),{modals:I,closeModal:k}=Re(),U=j=>H.filter(R=>!q.includes(R.id.toString())||R.id.toString()===x[j].selectedUser).map(R=>({value:R.id.toString(),label:`${R.name} (${R.email})`}));return u.jsx(Ln,{opened:I.createWorkflow,onClose:()=>k("createWorkflow"),title:u.jsx(ve,{fw:"bold",size:"lg",children:"Create Workflow Process"}),size:550,children:u.jsxs("form",{onSubmit:g,children:[u.jsxs(kn,{gap:16,children:[u.jsx(ve,{size:"sm",color:"dimmed",children:"Routinely directs any uploaded file in this folder through a predefined approval workflow"}),u.jsx(Yt.Group,{name:"status",value:c.type,onChange:j=>{i("type",j),y(j)},children:u.jsxs(be,{mt:"xs",children:[u.jsx(Yt,{value:"reviewal",label:"Review"}),u.jsx(Yt,{value:"approval",label:"Approval"})]})}),u.jsx(Uo,{label:"Resolution",placeholder:"Your resolution for this approval",value:c.resolution??"",onChange:j=>i("resolution",j.target.value),error:C.resolution,autosize:!0,minRows:2,maxRows:4}),u.jsx(ve,{size:"sm",fw:500,mb:-8,children:"Users in this workflow"}),x.map((j,R)=>u.jsxs(be,{justify:"space-between",align:"flex-end",children:[u.jsx(Ft,{placeholder:"Select a user",data:U(R),value:j.selectedUser,onChange:K=>G(R,K),required:!0,style:{flex:1},allowDeselect:!1}),u.jsx(Te,{color:"red",onClick:()=>F(R),title:"Remove User",children:u.jsx(dt,{size:18})})]},R)),u.jsxs(be,{children:[x.length<$&&u.jsx(ie,{variant:"subtle",color:"green",leftSection:u.jsx(Mn,{size:16}),onClick:A,disabled:x.length>=$,children:"Add User"}),q.length<$&&u.jsx(ie,{variant:"subtle",color:"blue",leftSection:u.jsx(Mn,{size:16}),onClick:z,disabled:x.length>=$,children:"Add All Users"})]})]}),u.jsxs(Tn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"light",onClick:()=>k("createWorkflow"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:_,children:"Create"})]})]})})};function A_({itemParent:l}){const{data:c,setData:i,post:g,processing:_,errors:C,reset:x}=Sn({folder_item_id:(l==null?void 0:l.item_id)??"",name:"",prefix:"",next_number:1,reset_frequency:"none",add_if_approved:!1}),{closeModal:y}=Re(),A=G=>{G.preventDefault();const z=F(c.prefix);i("prefix",z),g(route("numbering-scheme.store"),{preserveScroll:!0,onSuccess:()=>{y("createNumberingScheme"),pe.show({position:"top-center",message:"Numbering scheme created",color:"green"})},onError:$=>{pe.show({position:"top-center",message:"Something went wrong",color:"red"})},onFinish:()=>x()})},F=G=>G;return{data:c,setData:i,handleSubmit:A,processing:_,errors:C}}const D_=({itemParent:l})=>{const{data:c,setData:i,handleSubmit:g,processing:_,errors:C}=A_({itemParent:l}),{modals:x,closeModal:y}=Re(),[A,F]=T.useState([]);T.useEffect(()=>{const I=A.map(k=>k.type==="text"?`{${k.value}}`:`[${k.value}]`).join(" ");i("prefix",I)},[A]);const G=()=>{F([...A,{id:Date.now(),type:"text",value:""}])},z=()=>{F([...A,{id:Date.now(),type:"dynamic",value:""}])},$=(I,k)=>{F(A.map(U=>U.id===I?{...U,value:k}:U))},q=I=>{F(A.filter(k=>k.id!==I))},H=[{value:"YY",label:"Year"},{value:"MM",label:"Month"},{value:"DD",label:"Day"},{value:"INC",label:"Increment"}];return u.jsx(Ln,{opened:x.createNumberingScheme,onClose:()=>y("createNumberingScheme"),title:u.jsx(ve,{size:"lg",children:"Create Numbering Scheme"}),size:600,children:u.jsxs("form",{onSubmit:g,children:[u.jsxs(kn,{gap:16,children:[u.jsx(si,{label:"Name",value:c.name,onChange:I=>i("name",I.target.value),error:C.name,required:!0}),u.jsx(nm,{label:"Add Number Only If Approved",checked:c.add_if_approved,onChange:I=>i("add_if_approved",I.currentTarget.checked),mt:"md"}),u.jsx(ve,{size:"sm",fw:500,children:"Prefix Builder"}),u.jsxs(be,{children:[u.jsx(ie,{variant:"subtle",size:"sm",leftSection:u.jsx(Mn,{size:16}),onClick:G,children:"Add Text"}),u.jsx(ie,{variant:"subtle",size:"sm",leftSection:u.jsx(Mn,{size:16}),onClick:z,children:"Add Dynamic"})]}),A.map((I,k)=>u.jsxs(be,{align:"flex-end",children:[I.type==="text"?u.jsx(si,{placeholder:"Enter text",value:I.value,onChange:U=>$(I.id,U.target.value),required:!0,style:{flex:1}}):u.jsx(Ft,{placeholder:"Select dynamic part",data:H,value:I.value,onChange:U=>$(I.id,U||""),required:!0,style:{flex:1}}),u.jsx(Te,{color:"red",onClick:()=>q(I.id),children:u.jsx(dt,{size:16})})]},I.id)),u.jsx(ve,{size:"sm",fw:500,children:"Preview:"}),u.jsx(Bv,{withBorder:!0,p:12,bg:"#f9f9f9",children:u.jsx(ve,{children:A.map(I=>{if(I.type==="text")return I.value+" ";switch(I.value){case"YY":return new Date().getFullYear().toString().slice(2)+" ";case"MM":return(new Date().getMonth()+1).toString().padStart(2,"0")+" ";case"DD":return new Date().getDate().toString().padStart(2,"0")+" ";case"INC":return c.next_number.toString()+" ";default:return""}}).join("").trim()})}),u.jsx(be,{justify:"space-between",children:u.jsx(tm,{label:"Next Number",value:c.next_number,onChange:I=>i("next_number",Number(I)),min:1,error:C.next_number,required:!0,style:{flex:1}})}),u.jsx(Ft,{label:"Reset Frequency",data:[{value:"none",label:"None"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],value:c.reset_frequency,onChange:I=>i("reset_frequency",I??"none"),error:C.reset_frequency,required:!0})]}),u.jsxs(Tn,{align:"center",justify:"end",mt:24,children:[u.jsx(ie,{variant:"light",onClick:()=>y("createNumberingScheme"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:_,children:"Create"})]})]})})};function E_({itemParent:l,close:c}){const{data:i,setData:g,post:_,processing:C,errors:x,reset:y,clearErrors:A}=Sn({parent_id:"",name:""}),{closeModal:F}=Re();return{data:i,setData:g,submit:z=>{i.parent_id=(l==null?void 0:l.item_id)||"",z.preventDefault(),_(route("folder.create"),{preserveScroll:!0,onSuccess:()=>{pe.show({position:"top-center",message:"New folder created",color:"green"})},onError:$=>{let q="";Object.keys($).length>0?q=$[Object.keys($)[0]]:q="Error during file upload. Please try again later.",pe.show({position:"top-center",message:q,color:"red"})},onFinish:()=>{F("folder"),y(),A()}})},processing:C,errors:x}}const I_=({itemParent:l})=>{const{data:c,setData:i,submit:g,processing:_,errors:C}=E_({itemParent:l,close}),{modals:x,closeModal:y}=Re();return u.jsx(Ln,{opened:x.folder,onClose:()=>y("folder"),title:u.jsx(ve,{fw:"bold",size:"lg",children:"Create Folder"}),size:550,children:u.jsxs("form",{onSubmit:g,children:[u.jsx(kn,{gap:16,children:u.jsx(si,{id:"name",type:"text",name:"name",value:c.name,placeholder:"Folder Name",onChange:A=>i("name",A.target.value),error:C.name})}),u.jsxs(Tn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"outline",onClick:()=>y("folder"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:_,children:"Create"})]})]})})};function F_({workflowId:l,isOpen:c}){const[i,g]=T.useState(null);T.useEffect(()=>{l&&c&&_(l)},[l,c]);const _=async C=>{try{const x=await pr.get(`/workflows/${C}`);g(x.data)}catch(x){console.error("Error fetching workflow",x)}};return i}function R_({itemParent:l,isOpen:c}){const[i,g]=T.useState("reviewal"),_=F_({workflowId:l==null?void 0:l.workflow_id,isOpen:c}),C=Ua(i,c),{closeModal:x}=Re(),{data:y,setData:A,put:F,processing:G,errors:z,reset:$,clearErrors:q}=Sn({resolution:"",type:"",users:[]}),[H,I]=T.useState([]),k=C.length;T.useEffect(()=>{_&&(g(_.type||""),A({resolution:_.resolution||"",type:_.type||"",users:_.users.map(W=>({user_id:W.id}))}),I(_.users.map(W=>({selectedUser:W.id.toString()}))))},[_,c]),T.useEffect(()=>{I([])},[i]);const U=W=>{W.preventDefault();const se=H.map(fe=>parseInt(fe.selectedUser)).filter(fe=>!isNaN(fe));y.users=se.map(fe=>({user_id:fe})),F(route("workflows.update",l==null?void 0:l.workflow_id),{onSuccess:()=>{x("updateWorkflow"),pe.show({position:"top-center",message:"Workflow updated successfully",color:"green"})},onError:fe=>{pe.show({position:"top-center",message:"Something went wrong",color:"red"})},onFinish:()=>$()})},j=()=>{H.length<k&&I([...H,{selectedUser:""}])},R=()=>{const W=H.map(Ce=>Ce.selectedUser),fe=C.filter(Ce=>!W.includes(Ce.id.toString())).map(Ce=>({selectedUser:Ce.id.toString()}));I([...H,...fe])},K=W=>{const se=[...H];se.splice(W,1),I(se)},L=(W,se)=>{const fe=[...H];fe[W].selectedUser=se||"",I(fe)},ee=H.map(W=>W.selectedUser).filter(W=>W!=="");return{data:y,setData:A,handleUpdateWorkflow:U,processing:G,errors:z,users:H,setWorkflowType:g,addUser:j,removeUser:K,handleUserChange:L,addAllUsers:R,maxUsers:k,selectedUserIds:ee,fetchedUsers:C}}function O_({workflowId:l,onDeleteSuccess:c}){const{delete:i,processing:g}=Sn();return{handleDeleteWorkflow:()=>{if(!l){pe.show({position:"top-center",message:"Workflow ID is missing.",color:"red"});return}i(route("workflows.destroy",l),{preserveScroll:!0,onSuccess:()=>{pe.show({position:"top-center",message:"Workflow deleted successfully.",color:"green"}),c()},onError:C=>{let x="Failed to delete workflow.";C&&Object.keys(C).length>0&&(x=C[Object.keys(C)[0]]),pe.show({position:"top-center",message:x,color:"red"})}})},processing:g}}const j_=({workflowId:l})=>{const{modals:c,closeModal:i,openModal:g}=Re(),_=c.confirmDeleteWorkflow,{handleDeleteWorkflow:C,processing:x}=O_({workflowId:l,onDeleteSuccess:()=>{i("confirmDeleteWorkflow"),i("updateWorkflow")}});return u.jsxs(Ln,{opened:_,onClose:()=>i("confirmDeleteWorkflow"),title:u.jsx(ve,{fw:"bold",size:"lg",children:"Confirm Delete"}),size:"sm",centered:!0,children:[u.jsx(ve,{c:"gray.8",children:"Are you sure you want to delete this workflow? This action cannot be undone."}),u.jsxs(Tn,{align:"center",justify:"flex-end",mt:16,children:[u.jsx(ie,{variant:"light",onClick:()=>{i("confirmDeleteWorkflow"),g("updateWorkflow")},children:"Cancel"}),u.jsx(ie,{color:"red",ml:12,onClick:C,loading:x,children:"Delete"})]})]})},T_=({itemParent:l})=>{const{modals:c,closeModal:i,openModal:g}=Re(),_=c.updateWorkflow,{data:C,setData:x,handleUpdateWorkflow:y,processing:A,users:F,setWorkflowType:G,addUser:z,removeUser:$,handleUserChange:q,addAllUsers:H,maxUsers:I,selectedUserIds:k,fetchedUsers:U,errors:j}=R_({itemParent:l,isOpen:_}),R=K=>U.filter(L=>!k.includes(L.id.toString())||L.id.toString()===F[K].selectedUser).map(L=>({value:L.id.toString(),label:`${L.name} (${L.email})`}));return u.jsxs(u.Fragment,{children:[u.jsx(Ln,{opened:_,onClose:()=>i("updateWorkflow"),title:u.jsx(ve,{fw:"bold",size:"lg",children:"Update Workflow Process"}),size:550,children:u.jsxs("form",{onSubmit:y,children:[u.jsxs(kn,{gap:16,children:[u.jsx(ve,{size:"sm",c:"dimmed",children:"Routinely directs any uploaded file in this folder through a predefined approval workflow"}),u.jsx(Yt.Group,{name:"status",value:C.type,onChange:K=>{x("type",K),G(K)},children:u.jsxs(be,{mt:"xs",children:[u.jsx(Yt,{value:"reviewal",label:"Review"}),u.jsx(Yt,{value:"approval",label:"Approval"})]})}),u.jsx(Uo,{label:"Resolution",placeholder:"Your resolution for this approval",value:C.resolution??"",onChange:K=>x("resolution",K.target.value),error:j.resolution,autosize:!0,minRows:2,maxRows:4}),u.jsx(ve,{size:"sm",fw:500,mb:-8,children:"Users in this workflow"}),F.map((K,L)=>u.jsxs(be,{justify:"space-between",align:"flex-end",children:[u.jsx(Ft,{placeholder:"Select a user",data:R(L),value:K.selectedUser,onChange:ee=>q(L,ee),required:!0,style:{flex:1},allowDeselect:!1}),u.jsx(Te,{color:"red",onClick:()=>$(L),title:"Remove User",children:u.jsx(dt,{size:18})})]},L)),u.jsxs(be,{children:[F.length<I&&u.jsx(ie,{variant:"subtle",color:"green",leftSection:u.jsx(Mn,{size:16}),onClick:z,disabled:F.length>=I,children:"Add User"}),k.length<I&&u.jsx(ie,{variant:"subtle",color:"blue",leftSection:u.jsx(Mn,{size:16}),onClick:H,disabled:F.length>=I,children:"Add All Users"})]})]}),u.jsxs(Tn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"light",onClick:()=>i("updateWorkflow"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:A,children:"Update"}),u.jsx(Te,{variant:"transparent",color:"red",onClick:()=>{g("confirmDeleteWorkflow"),i("updateWorkflow")},title:"Delete Workflow",ml:12,children:u.jsx(dt,{size:18})})]})]})}),u.jsx(j_,{workflowId:l==null?void 0:l.workflow_id})]})};function M_(){return{generateReport:async i=>{var g;try{const _=await pr.post(route("report.generate"),{folder_item_id:i}),{url:C,filename:x}=_.data;if(C){const y=document.createElement("a");y.href=C,y.download=x,document.body.appendChild(y),y.click(),document.body.removeChild(y)}else console.error("No URL returned for the report.")}catch(_){console.error("Error generating report:",((g=_.response)==null?void 0:g.data)||_.message)}},generateDashboardReport:async i=>{var g;try{const _=await pr.post(route("report.generateDashboard"),i),{url:C,filename:x}=_.data;if(C){const y=document.createElement("a");y.href=C,y.download=x,document.body.appendChild(y),y.click(),document.body.removeChild(y)}else console.error("No URL returned for the dashboard report.")}catch(_){console.error("Error generating dashboard report:",((g=_.response)==null?void 0:g.data)||_.message)}}}}function k_({folderId:l,isOpen:c}){const[i,g]=T.useState([]),[_,C]=T.useState(!1),[x,y]=T.useState(null);return T.useEffect(()=>{l&&(async()=>{C(!0);try{const F=await pr.get(route("folder.fetchSharedUsers",{folder:l}));g(F.data),y(null)}catch(F){console.error(F),y("Failed to fetch shared users."),pe.show({position:"top-center",title:"Error",message:"Unable to fetch shared users.",color:"red"})}finally{C(!1)}})()},[l,c]),{sharedUsers:i,loading:_,error:x}}function L_({folderId:l,close:c}){const{modals:i}=Re(),g=i.shareFolder,{sharedUsers:_,loading:C,error:x}=k_({folderId:l,isOpen:g}),{data:y,setData:A,post:F,processing:G,errors:z,reset:$}=Sn({users:[]});return T.useEffect(()=>{if(_.length>0){const j=_.map(R=>({email:R.email,role:R.role}));A("users",j)}},[_]),{data:y,submit:()=>{F(route("folder.share",{folder:l}),{onSuccess:()=>{c(),pe.show({position:"top-center",message:"Folder shared successfully.",color:"green"}),$()},onError:j=>{pe.show({position:"top-center",message:"Failed to share the folder.",color:"red"})}})},processing:G,errors:z,addUser:()=>{A("users",[...y.users,{email:"",role:"viewer"}])},removeUser:j=>{const R=y.users.filter((K,L)=>L!==j);A("users",R)},handleUserChange:(j,R,K)=>{const L=y.users.map((ee,W)=>W===j?{...ee,[R]:K}:ee);A("users",L)},handleAddAllUsers:()=>{const j=_.map(R=>({email:R.email,role:"viewer"}));A("users",j)}}}const U_=({folderId:l})=>{const{modals:c,closeModal:i}=Re(),{users:g,loading:_,error:C}=Vv(),{data:x,submit:y,processing:A,errors:F,addUser:G,removeUser:z,handleUserChange:$}=L_({folderId:l,close:()=>i("shareFolder")}),q=()=>{const I=g.map(k=>({email:k.email,role:"viewer"}));H(I)},H=I=>{I.forEach(()=>G())};return u.jsx(Ln,{opened:c.shareFolder,onClose:()=>i("shareFolder"),title:u.jsx(ve,{size:"lg",children:"Share Folder"}),size:"600",children:u.jsxs("form",{onSubmit:I=>{I.preventDefault(),y()},children:[u.jsxs(kn,{children:[x.users.map((I,k)=>u.jsxs(be,{align:"flex-end",children:[u.jsx(Ft,{data:g.map(U=>({value:U.email,label:`${U.name} (${U.email})`})),placeholder:"Select a user",value:I.email,onChange:U=>$(k,"email",U||""),style:{flex:1}}),u.jsx(Ft,{data:[{value:"viewer",label:"Viewer"},{value:"editor",label:"Editor"}],placeholder:"Select role",value:I.role,onChange:U=>$(k,"role",U||"viewer"),style:{width:120}}),u.jsx(Cn,{label:"Remove User",withArrow:!0,children:u.jsx(Te,{color:"red",onClick:()=>z(k),children:u.jsx(dt,{size:18})})})]},k)),u.jsxs(be,{children:[u.jsx(ie,{variant:"subtle",color:"green",leftSection:u.jsx(Mn,{size:16}),onClick:()=>G(),children:"Add User"}),u.jsx(ie,{variant:"subtle",color:"blue",leftSection:u.jsx(Mn,{size:16}),onClick:q,disabled:x.users.length>=g.length,children:"Add All Users"})]})]}),u.jsxs(be,{mt:"md",children:[u.jsx(ie,{variant:"outline",onClick:()=>i("shareFolder"),children:"Cancel"}),u.jsx(ie,{type:"submit",loading:A,children:"Save"})]})]})})};function z_({itemParent:l}){const{closeModal:c}=Re(),{data:i,setData:g,put:_,processing:C,errors:x,reset:y,clearErrors:A}=Sn({name:(l==null?void 0:l.name)||"",description:(l==null?void 0:l.description)||""});return T.useEffect(()=>{g("name",(l==null?void 0:l.name)||""),g("description",(l==null?void 0:l.description)||"")},[l]),{data:i,setData:g,submit:G=>{G.preventDefault(),_(route("folder.update",{id:(l==null?void 0:l.item_id)||""}),{preserveScroll:!0,onSuccess:()=>{pe.show({position:"top-center",message:"Folder properties updated successfully.",color:"green"}),c("folderProperties")},onError:()=>{pe.show({position:"top-center",message:"Failed to update folder properties.",color:"red"})},onFinish:()=>{y(),A()}})},processing:C,errors:x}}const W_=({itemParent:l})=>{const{data:c,setData:i,submit:g,processing:_,errors:C}=z_({itemParent:l}),{modals:x,closeModal:y}=Re();return u.jsx(Ln,{opened:x.folderProperties,onClose:()=>y("folderProperties"),title:u.jsx(ve,{fw:"bold",size:"lg",children:"Folder Properties"}),size:"550",children:u.jsxs("form",{onSubmit:g,children:[u.jsxs(kn,{gap:16,children:[u.jsx(si,{label:"Folder Name",name:"name",value:c.name,onChange:A=>i("name",A.target.value),error:C.name,required:!0}),u.jsx(Uo,{label:"Notes",name:"description",value:c.description,onChange:A=>i("description",A.target.value),error:C.description,autosize:!0,minRows:4})]}),u.jsxs(Tn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"outline",onClick:()=>y("folderProperties"),children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:_,children:"Save"})]})]})})};function N_({setSelectedRecord:l}){const{data:c,delete:i,processing:g}=Sn({ids:[],isWorkspace:!1}),{closeModal:_}=Re();return{handleDelete:x=>{c.ids=x,i(route("item.delete"),{onSuccess:()=>{_("deleteFiles"),setTimeout(()=>{l([])},100),pe.show({position:"top-center",message:"Files deleted",color:"green"})},onError:y=>{let A="Error during file deletion. Please try again later.";Object.keys(y).length>0&&(A=y[Object.keys(y)[0]]),pe.show({position:"top-center",message:A,color:"red"})}})},processing:g}}const Qa=({selectedIds:l,setSelectedRecord:c})=>{const{handleDelete:i,processing:g}=N_({setSelectedRecord:c}),{modals:_,closeModal:C}=Re();return u.jsx(Ln,{opened:_.deleteFiles,onClose:()=>C("deleteFiles"),title:u.jsx(ve,{fw:"bold",size:"lg",children:"Delete Files"}),size:550,children:u.jsxs("form",{onSubmit:x=>{x.preventDefault(),i(l)},children:[u.jsx(ve,{c:"dimmed",children:"Delete selected files?"}),u.jsxs(Tn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"subtle",onClick:()=>C("deleteFiles"),color:"gray",children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:g,color:"red",children:"Delete"})]})]})})},B_=({uploadFileRef:l,itemParent:c,folderUserRole:i})=>{const{openModal:g,modals:_}=Re(),{generateReport:C}=M_(),[x,y]=T.useState(!1);T.useEffect(()=>{const F=()=>{y(window.innerWidth<=768)};return window.addEventListener("resize",F),F(),()=>window.removeEventListener("resize",F)},[]);const A=()=>{var F;return u.jsxs(u.Fragment,{children:[u.jsx(Cn,{label:"Properties",position:"bottom",withArrow:!0,children:u.jsx(Te,{size:"lg",variant:"transparent",color:"dark.3",onClick:()=>g("folderProperties"),children:u.jsx(_m,{size:18})})}),u.jsx(Cn,{label:"Workflow",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",size:"lg",color:c!=null&&c.workflow_id?"green.8":"dark.3",onClick:()=>g(c!=null&&c.workflow_id?"updateWorkflow":"createWorkflow"),children:u.jsx(em,{size:18})})}),u.jsx(Cn,{label:"Share",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",size:"lg",color:c!=null&&c.is_shared?"green.8":"dark.3",onClick:()=>g("shareFolder"),children:u.jsx(Yv,{size:18})})}),u.jsx(Cn,{label:"Metadata",position:"bottom",withArrow:!0,children:u.jsx(Te,{component:Oo,size:"lg",href:route("folder.showRequiredMetadata",{id:c==null?void 0:c.item_id}),variant:"transparent",color:(F=c==null?void 0:c.required_metadata)!=null&&F.length?"green.8":"dark.3",children:u.jsx(qv,{size:18})})}),u.jsx(Cn,{label:"Activity",position:"bottom",withArrow:!0,children:u.jsx(Te,{component:Oo,size:"lg",href:route("folder.activity-log",{id:c==null?void 0:c.item_id}),variant:"transparent",color:"dark.3",children:u.jsx(wa,{size:18})})}),u.jsx(Cn,{label:"Numbering",position:"bottom",withArrow:!0,children:u.jsx(Te,{size:"lg",variant:"transparent",color:c!=null&&c.numbering_scheme_id?"green.8":"dark.3",onClick:()=>g(c!=null&&c.numbering_scheme_id?"updateNumberingScheme":"createNumberingScheme"),children:u.jsx(Dm,{size:18})})}),u.jsx(Cn,{label:"Column",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",color:"dark.3",size:"lg",onClick:()=>g("selectMetadataColumns"),children:u.jsx(im,{size:18})})}),u.jsx(Cn,{label:"Report",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",color:"dark.3",size:"lg",onClick:()=>C((c==null?void 0:c.item_id)??""),children:u.jsx(Cm,{size:18})})}),u.jsx(Cn,{label:"Delete Folder",position:"bottom",withArrow:!0,children:u.jsx(Te,{variant:"transparent",size:"lg",color:"red",onClick:()=>g("deleteFiles"),children:u.jsx(dt,{size:18})})})]})};return u.jsxs(be,{h:"50%",px:32,align:"center",justify:"space-between",children:[(i==="editor"||i==="admin")&&u.jsxs(be,{gap:"xs",children:[u.jsxs(ct,{shadow:"md",width:220,transitionProps:{transition:"pop-top-left"},position:"bottom-start",children:[u.jsx(ct.Target,{children:u.jsx(ie,{variant:"subtle",color:"dark.3",leftSection:u.jsx(Mn,{size:18}),rightSection:u.jsx(wm,{size:12}),children:"New"})}),u.jsxs(ct.Dropdown,{children:[u.jsx(ct.Item,{leftSection:u.jsx(Sm,{style:{width:It(14),height:It(14)}}),onClick:()=>g("folder"),children:"New Folder"}),u.jsx(ct.Item,{leftSection:u.jsx(bm,{style:{width:It(14),height:It(14)}}),onClick:()=>{var F;return(F=l==null?void 0:l.current)==null?void 0:F.call(l)},children:"Upload Files"})]})]}),x?u.jsxs(ct,{shadow:"md",width:200,children:[u.jsx(ct.Target,{children:u.jsx(Te,{variant:"transparent",color:"dark.3",size:"lg",children:u.jsx(ym,{size:18})})}),u.jsx(ct.Dropdown,{children:A()})]}):A()]}),i==="viewer"&&u.jsx(be,{gap:"xs",children:u.jsx(Cn,{label:"Activity",position:"bottom",withArrow:!0,children:u.jsx(Te,{component:Oo,size:"lg",href:route("folder.activity-log",{id:c==null?void 0:c.item_id}),variant:"transparent",color:"dark.3",children:u.jsx(wa,{size:18})})})}),u.jsx(I_,{itemParent:c}),u.jsx(S_,{itemParent:c}),u.jsx(T_,{itemParent:c}),u.jsx(D_,{itemParent:c}),u.jsx(rm,{itemParent:c}),u.jsx(U_,{folderId:(c==null?void 0:c.item_id)??""}),u.jsx(W_,{itemParent:c}),u.jsx(Qa,{selectedIds:[(c==null?void 0:c.item_id)??""],setSelectedRecord:()=>{}})]})};function P_({setSelectedRecord:l}){const{data:c,setData:i,put:g,processing:_,errors:C,reset:x,clearErrors:y}=Sn({ids:[],destination_folder_id:""});return{data:c,setData:i,moveDocuments:()=>{g(route("document.move"),{onSuccess:()=>{l([]),pe.show({position:"top-center",message:"Documents moved successfully",color:"green"}),x()},onError:F=>{pe.show({position:"top-center",message:"Failed to move documents",color:"red"})},onFinish:()=>{y()}})},processing:_,errors:C,reset:x}}const $_=({selectedDocumentIds:l,setSelectedRecord:c})=>{const{modals:i,closeModal:g}=Re(),_=i.moveModal,[C,x]=T.useState(null),{data:y,loading:A,error:F}=sm(C,_),{data:G,setData:z,moveDocuments:$,processing:q}=P_({setSelectedRecord:c}),H=U=>{x(U)},I=()=>{y.itemParent&&y.itemParent.parent_id?x(y.itemParent.parent_id):x(null)},k=()=>{if(!C){pe.show({position:"top-center",message:"Please select a destination folder.",color:"red"});return}G.ids=l,G.destination_folder_id=C,$(),g("moveModal")};return u.jsx(Ln,{opened:_,onClose:()=>g("moveModal"),title:u.jsx(ve,{fw:500,children:"Move Documents"}),size:"lg",children:u.jsxs(kn,{gap:"md",children:[u.jsxs(be,{children:[C&&u.jsx(Te,{onClick:I,children:u.jsx(lm,{size:16})}),u.jsx(ve,{c:"dark.5",fw:500,children:"Choose Destination Folder"})]}),u.jsx(Kv,{}),A?u.jsx(ve,{children:"Loading..."}):F?u.jsx(ve,{c:"red",children:F}):u.jsx(kn,{gap:"sm",style:{maxHeight:400,overflowY:"auto"},children:y.itemContents.map(U=>u.jsxs(be,{gap:"sm",style:{cursor:"pointer"},onClick:()=>H(U.item_id),children:[u.jsx(La,{mime:U.mime??"",isFolder:U.type==="folder"}),u.jsx(ve,{children:U.name})]},U.item_id))}),u.jsxs(be,{justify:"flex-end",mt:"md",children:[u.jsx(ie,{variant:"outline",onClick:()=>g("moveModal"),children:"Cancel"}),u.jsx(ie,{onClick:k,disabled:!C||q,loading:q,children:"Move Here"})]})]})})},G_=({setSelectedRecord:l,selectedIds:c,parentId:i})=>{const{downloadFiles:g}=Im(),{openModal:_}=Re();return u.jsxs(be,{h:"50%",px:"md",align:"center",justify:"flex-start",children:[u.jsx(ie,{onClick:()=>_("deleteFiles"),variant:"subtle",color:"dark.3",leftSection:u.jsx(dt,{size:18}),children:"Delete"}),u.jsx(ie,{onClick:()=>g({all:!1,ids:c,parentId:i}),variant:"subtle",color:"dark.3",leftSection:u.jsx(am,{size:18}),children:"Download"}),u.jsx(ie,{onClick:()=>_("moveModal"),variant:"subtle",color:"dark.3",leftSection:u.jsx(Am,{size:18}),children:"Move"}),u.jsx(Qa,{selectedIds:c,setSelectedRecord:l}),u.jsx($_,{selectedDocumentIds:c,setSelectedRecord:l})]})};function H_(l){const{data:c,post:i,reset:g,clearErrors:_}=Sn({parent_id:"",files:[]});return{uploadFiles:x=>{c.parent_id=l.item_id,c.files=x.map(y=>({file:y})),i(route("document.store"),{onSuccess:()=>{pe.show({position:"top-center",message:"Document uploaded",color:"green",icon:ka.createElement(xm)})},onError:y=>{let A="";Object.keys(y).length>0?A=y[Object.keys(y)[0]]:A="Error during file upload. Please try again later.",pe.show({position:"top-center",message:A,color:"red"})},onFinish:()=>{g(),_()}})}}}function q_(){const[l,c]=T.useState([]),g=(_=>_.map(C=>C.id))(l);return{selectedRecord:l,setSelectedRecord:c,ids:g}}function K_(){return{openFolder:(c,i)=>{c==="folder"&&Pv.visit(route("folder.show",{id:i}))}}}function Y_(){const[l,c]=T.useState([]);return T.useEffect(()=>{pr.get(route("metadata.fetch-all")).then(i=>{c(i.data.metadata)}).catch(i=>{console.error("Error fetching metadata:",i)})},[]),{metadataList:l}}const Z_=({folderId:l})=>{const{modals:c,closeModal:i}=Re(),g=c.selectMetadataColumns,{metadataList:_}=Y_(),{existingMetadataColumns:C,loading:x,error:y}=om({folderId:l,isOpen:g}),{data:A,setData:F,post:G,processing:z,errors:$,reset:q}=Sn({metadata_columns:[{id:Date.now(),value:""}],metadata_ids:[]});T.useEffect(()=>{if(C.length>0){const j=C.map(R=>({id:R.metadata_id,value:R.metadata_id.toString()}));F("metadata_columns",j)}},[C]),T.useEffect(()=>{const j=A.metadata_columns.map(R=>parseInt(R.value)).filter(R=>!isNaN(R));F("metadata_ids",j)},[A.metadata_columns]);const H=()=>{F("metadata_columns",[...A.metadata_columns,{id:Date.now(),value:""}])},I=j=>{F("metadata_columns",A.metadata_columns.filter(R=>R.id!==j))},k=(j,R)=>{const K=A.metadata_columns.map(L=>L.id===j?{...L,value:R}:L);F("metadata_columns",K)},U=j=>{j.preventDefault(),A.metadata_columns.map(R=>parseInt(R.value)).filter(R=>!isNaN(R)),G(route("folder.selectMetadataColumn",l),{preserveScroll:!0,onSuccess:()=>{i("selectMetadataColumns"),pe.show({position:"top-center",title:"Success",message:"Metadata columns selected successfully",color:"green"}),q()},onError:()=>{pe.show({position:"top-center",title:"Error",message:"Failed to select metadata columns",color:"red"})}})};return u.jsx(Ln,{opened:g,onClose:()=>{i("selectMetadataColumns"),q()},title:u.jsx(ve,{fw:"bold",size:"lg",children:"Select Tag Columns"}),size:550,children:x?u.jsx(Tn,{justify:"center",align:"center",h:"100%",children:u.jsx(Ta,{})}):y?u.jsx(cm,{icon:u.jsx(fm,{size:16}),title:"Error",color:"red",children:y}):u.jsxs("form",{onSubmit:U,children:[u.jsxs(kn,{gap:16,children:[u.jsx(ve,{c:"dimmed",children:"Select the metadata columns you want to display"}),A.metadata_columns.map(j=>u.jsxs(be,{justify:"space-between",align:"flex-end",children:[u.jsx(Ft,{placeholder:"Pick a metadata column",data:_.map(R=>({value:R.metadata_id.toString(),label:R.name})),value:j.value,onChange:R=>k(j.id,R||""),w:"90%",required:!0}),A.metadata_columns.length>1&&u.jsx(Te,{color:"red",variant:"subtle",onClick:()=>I(j.id),children:u.jsx(dt,{size:18})})]},j.id)),u.jsx(Tn,{justify:"flex-start",children:u.jsx(ie,{variant:"subtle",color:"blue.5",leftSection:u.jsx(Mn,{size:18}),onClick:H,children:"Add New Column"})})]}),u.jsxs(Tn,{align:"center",justify:"end",mt:16,children:[u.jsx(ie,{variant:"outline",onClick:()=>{i("selectMetadataColumns"),q()},children:"Cancel"}),u.jsx(ie,{ml:12,type:"submit",loading:z,children:"Save"})]})]})})};function A0({itemParent:l,itemAncestors:c,itemContents:i,folderUserRole:g}){var U;const _=T.useRef(null),{uploadFiles:C}=H_(l),{selectedRecord:x,setSelectedRecord:y,ids:A}=q_(),{openFolder:F}=K_(),{openDocument:G}=um(),[z,$]=T.useState({columnAccessor:"name",direction:"asc"}),[q,H]=T.useState(ya.sortBy(i,"name"));T.useEffect(()=>{const j=ya.sortBy(i,z.columnAccessor);H(z.direction==="desc"?j.reverse():j)},[z,i]);const I=((U=l.metadata_columns)==null?void 0:U.map(j=>({accessor:`metadata_${j.metadata_id}`,title:j.name,render:R=>{var L;const K=(L=R.metadata)==null?void 0:L.find(ee=>ee.metadata_id===j.metadata_id);return K?K.value:null},sortable:!0,ellipsis:!0})))??[],k=[{accessor:"name",render:({mime:j,type:R,name:K,approval_status:L,review_status:ee,missing_required_metadata:W})=>u.jsxs(be,{align:"center",gap:12,preventGrowOverflow:!0,children:[u.jsx(La,{mime:j??"",isFolder:R==="folder",reviewStatus:ee,approvalStatus:L,missingRequiredMetadata:W}),u.jsx("span",{children:K})]}),sortable:!0,ellipsis:!0},{accessor:"updated_at",title:"Last Modified",sortable:!0,ellipsis:!0},...I??[]];return u.jsxs(u.Fragment,{children:[u.jsx($v,{title:"My Files"}),u.jsx(Zv,{toolbar:x.length>0?u.jsx(G_,{setSelectedRecord:y,selectedIds:A,parentId:l.item_id}):u.jsx(B_,{itemParent:{...l},folderUserRole:g,uploadFileRef:_}),children:u.jsx(b_,{onDrop:C,openRef:_,children:u.jsxs(kn,{px:8,gap:24,py:8,style:{pointerEvents:"all"},children:[u.jsx(Xv,{ancestors:c}),i.length?u.jsx(Gv,{textSelectionDisabled:!0,columns:k,records:q,customRowAttributes:({type:j,id:R})=>({onDoubleClick:K=>{K.button===0&&(j==="folder"?F(j,R):j==="document"&&G(R))}}),highlightOnHover:!0,verticalSpacing:"lg",horizontalSpacing:"xl",selectedRecords:x,onSelectedRecordsChange:y,sortStatus:z,onSortStatusChange:$}):u.jsx(ve,{size:"lg",c:"gray.5",children:"This folder is empty"})]})})}),u.jsx(Z_,{folderId:l.item_id})]})}export{A0 as default};
