import{v as Ta,f as Lo,u as di,w as Ov,d as Uo,j as c,T as Tv,B as ko,L as ja,O as ma,e as Ma,l as jv,k as fr,b as j,R as Mv,x as Lv,z as Uv,h as kv,g as Wv,A as zv,r as Kn,W as Tn,n as _e,M as Xn,P as Pv,c as pr,a as oi,y as Nv,Y as Bv}from"./app-Dj8oY4Sv.js";import{Y as $v}from"./index-bGR0mOy6.js";import{u as Gv,G as we,A as Te,M as dr,e as Hv,I as qv,d as Kv}from"./NotificationMenu-Dv2fd-r9.js";import{u as ke,a as Et,b as On,T as pn,A as Yv}from"./Authenticated-CXrFhtgK.js";import{I as Zv}from"./ItemBreadcrumbs-Cyz6YySZ.js";import{u as Xv}from"./Popover-Dg2sZB9k.js";import{I as Jv,u as La,R as Kt,a as Qv,b as Vv,c as em}from"./use-fetch-users-BUjtKVuy.js";import{T as me,F as Yn}from"./OfficeLogo-ClyZGDRI.js";import{S as Zn}from"./Stack-Ct7A46eR.js";import{T as Ua}from"./Textarea-DVdYzpRO.js";import{S as It}from"./Select-D0mBFprC.js";import{B as oe}from"./Button-DV_DgoO4.js";import{S as nm,N as tm,U as rm}from"./UpdateNumberingSchemeForm-BJGZr1F2.js";import{T as To}from"./TextInput-BAT--W9p.js";import{c as Jn}from"./IconUser-tGMAG_ub.js";import{I as im}from"./IconTable-BcJ9UG5i.js";import{u as om,a as sm,A as lm,I as am}from"./use-show-items-for-moving--kC62IUr.js";import{I as um}from"./IconFolder-DCMx6I6D.js";import{I as cm}from"./IconDownload-BxxJIpkQ.js";import{u as fm}from"./use-document-properties-BZjTl5C9.js";import{u as dm}from"./use-fetch-metadata-D1QyEfom.js";import"./Checkbox-BfT6YYFD.js";import"./InputBase-BqH0PwBP.js";import"./use-uncontrolled-B5KzFrsn.js";import"./CheckIcon-D9bMejXc.js";import"./get-sorted-breakpoints-CmPpz3cM.js";import"./Anchor-QPtu0t-v.js";import"./Combobox-kEnZwdjW.js";import"./clamp-DTmYCdls.js";function _a(a){return typeof a!="string"?"":a.charAt(0).toUpperCase()+a.slice(1)}var ka={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const xa={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Ta("overlay")},pm=Ma((a,{zIndex:u})=>({root:{"--lo-z-index":u==null?void 0:u.toString()}})),Wo=Lo((a,u)=>{const i=di("LoadingOverlay",xa,a),{classNames:v,className:_,style:A,styles:x,unstyled:b,vars:C,transitionProps:O,loaderProps:G,overlayProps:k,visible:B,zIndex:q,...H}=i,I=Ov(),L=Uo({name:"LoadingOverlay",classes:ka,props:i,className:_,style:A,classNames:v,styles:x,unstyled:b,vars:C,varsResolver:pm}),W={...xa.overlayProps,...k};return c.jsx(Tv,{transition:"fade",...O,mounted:!!B,children:T=>c.jsxs(ko,{...L("root",{style:T}),ref:u,...H,children:[c.jsx(ja,{...L("loader"),unstyled:b,...G}),c.jsx(ma,{...W,...L("overlay"),darkHidden:!0,unstyled:b,color:(k==null?void 0:k.color)||I.white}),c.jsx(ma,{...W,...L("overlay"),lightHidden:!0,unstyled:b,color:(k==null?void 0:k.color)||I.colors.dark[5]})]})})});Wo.classes=ka;Wo.displayName="@mantine/core/LoadingOverlay";var Wa={exports:{}},hm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gm=hm,vm=gm;function za(){}function Pa(){}Pa.resetWarningCache=za;var mm=function(){function a(v,_,A,x,b,C){if(C!==vm){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}}a.isRequired=a;function u(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:u,element:a,elementType:a,instanceOf:u,node:a,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:Pa,resetWarningCache:za};return i.PropTypes=i,i};Wa.exports=mm();var _m=Wa.exports;const ce=jv(_m);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xm=Jn("outline","adjustments","IconAdjustments",[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wa=Jn("outline","article","IconArticle",[["path",{d:"M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 8h10",key:"svg-1"}],["path",{d:"M7 12h10",key:"svg-2"}],["path",{d:"M7 16h10",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oo=Jn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wm=Jn("outline","file-isr","IconFileIsr",[["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-1"}],["path",{d:"M6 8v-3a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7",key:"svg-2"}],["path",{d:"M3 15l3 -3l3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ym=Jn("outline","file-report","IconFileReport",[["path",{d:"M17 17m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M17 13v4h4",key:"svg-1"}],["path",{d:"M12 3v4a1 1 0 0 0 1 1h4",key:"svg-2"}],["path",{d:"M11.5 21h-6.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v2m0 3v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bm=Jn("outline","folder-plus","IconFolderPlus",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Am=Jn("outline","folder-symlink","IconFolderSymlink",[["path",{d:"M3 21v-4a3 3 0 0 1 3 -3h5",key:"svg-0"}],["path",{d:"M8 17l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 11v-5a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sm=Jn("outline","list-tree","IconListTree",[["path",{d:"M9 6h11",key:"svg-0"}],["path",{d:"M12 12h8",key:"svg-1"}],["path",{d:"M15 18h5",key:"svg-2"}],["path",{d:"M5 6v.01",key:"svg-3"}],["path",{d:"M8 12v.01",key:"svg-4"}],["path",{d:"M11 18v.01",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cm=Jn("outline","selector","IconSelector",[["path",{d:"M8 9l4 -4l4 4",key:"svg-0"}],["path",{d:"M16 15l-4 4l-4 -4",key:"svg-1"}]]),li={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */li.exports;(function(a,u){(function(){var i,v="4.17.21",_=200,A="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",x="Expected a function",b="Invalid `variable` option passed into `_.template`",C="__lodash_hash_undefined__",O=500,G="__lodash_placeholder__",k=1,B=2,q=4,H=1,I=2,L=1,W=2,T=4,F=8,K=16,U=32,ee=64,$=128,se=256,fe=512,Ae=30,Sn="...",Cn=800,Ce=16,je=1,Ft=2,Me=3,hn=1/0,Ge=9007199254740991,Qn=17976931348623157e292,Vn=NaN,Re=4294967295,Rt=Re-1,gn=Re>>>1,Ot=[["ary",$],["bind",L],["bindKey",W],["curry",F],["curryRight",K],["flip",fe],["partial",U],["partialRight",ee],["rearg",se]],vn="[object Arguments]",jn="[object Array]",Mn="[object AsyncFunction]",rn="[object Boolean]",He="[object Date]",et="[object DOMException]",mn="[object Error]",Ln="[object Function]",nt="[object GeneratorFunction]",Se="[object Map]",_n="[object Number]",Tt="[object Null]",qe="[object Object]",vr="[object Promise]",pi="[object Proxy]",pt="[object RegExp]",D="[object Set]",X="[object String]",pe="[object Symbol]",De="[object Undefined]",Ee="[object WeakMap]",ht="[object WeakSet]",xn="[object ArrayBuffer]",Dn="[object DataView]",gt="[object Float32Array]",Un="[object Float64Array]",kn="[object Int8Array]",vt="[object Int16Array]",Zt="[object Int32Array]",hi="[object Uint8Array]",gi="[object Uint8ClampedArray]",vi="[object Uint16Array]",mi="[object Uint32Array]",Ja=/\b__p \+= '';/g,Qa=/\b(__p \+=) '' \+/g,Va=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bo=/&(?:amp|lt|gt|quot|#39);/g,$o=/[&<>"']/g,eu=RegExp(Bo.source),nu=RegExp($o.source),tu=/<%-([\s\S]+?)%>/g,ru=/<%([\s\S]+?)%>/g,Go=/<%=([\s\S]+?)%>/g,iu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ou=/^\w*$/,su=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_i=/[\\^$.*+?()[\]{}|]/g,lu=RegExp(_i.source),xi=/^\s+/,au=/\s/,uu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cu=/\{\n\/\* \[wrapped with (.+)\] \*/,fu=/,? & /,du=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pu=/[()=,{}\[\]\/\s]/,hu=/\\(\\)?/g,gu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ho=/\w*$/,vu=/^[-+]0x[0-9a-f]+$/i,mu=/^0b[01]+$/i,_u=/^\[object .+?Constructor\]$/,xu=/^0o[0-7]+$/i,wu=/^(?:0|[1-9]\d*)$/,yu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mr=/($^)/,bu=/['\n\r\u2028\u2029\\]/g,_r="\\ud800-\\udfff",Au="\\u0300-\\u036f",Su="\\ufe20-\\ufe2f",Cu="\\u20d0-\\u20ff",qo=Au+Su+Cu,Ko="\\u2700-\\u27bf",Yo="a-z\\xdf-\\xf6\\xf8-\\xff",Du="\\xac\\xb1\\xd7\\xf7",Eu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Iu="\\u2000-\\u206f",Fu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zo="A-Z\\xc0-\\xd6\\xd8-\\xde",Xo="\\ufe0e\\ufe0f",Jo=Du+Eu+Iu+Fu,wi="['’]",Ru="["+_r+"]",Qo="["+Jo+"]",xr="["+qo+"]",Vo="\\d+",Ou="["+Ko+"]",es="["+Yo+"]",ns="[^"+_r+Jo+Vo+Ko+Yo+Zo+"]",yi="\\ud83c[\\udffb-\\udfff]",Tu="(?:"+xr+"|"+yi+")",ts="[^"+_r+"]",bi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ai="[\\ud800-\\udbff][\\udc00-\\udfff]",jt="["+Zo+"]",rs="\\u200d",is="(?:"+es+"|"+ns+")",ju="(?:"+jt+"|"+ns+")",os="(?:"+wi+"(?:d|ll|m|re|s|t|ve))?",ss="(?:"+wi+"(?:D|LL|M|RE|S|T|VE))?",ls=Tu+"?",as="["+Xo+"]?",Mu="(?:"+rs+"(?:"+[ts,bi,Ai].join("|")+")"+as+ls+")*",Lu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",us=as+ls+Mu,ku="(?:"+[Ou,bi,Ai].join("|")+")"+us,Wu="(?:"+[ts+xr+"?",xr,bi,Ai,Ru].join("|")+")",zu=RegExp(wi,"g"),Pu=RegExp(xr,"g"),Si=RegExp(yi+"(?="+yi+")|"+Wu+us,"g"),Nu=RegExp([jt+"?"+es+"+"+os+"(?="+[Qo,jt,"$"].join("|")+")",ju+"+"+ss+"(?="+[Qo,jt+is,"$"].join("|")+")",jt+"?"+is+"+"+os,jt+"+"+ss,Uu,Lu,Vo,ku].join("|"),"g"),Bu=RegExp("["+rs+_r+qo+Xo+"]"),$u=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Hu=-1,he={};he[gt]=he[Un]=he[kn]=he[vt]=he[Zt]=he[hi]=he[gi]=he[vi]=he[mi]=!0,he[vn]=he[jn]=he[xn]=he[rn]=he[Dn]=he[He]=he[mn]=he[Ln]=he[Se]=he[_n]=he[qe]=he[pt]=he[D]=he[X]=he[Ee]=!1;var de={};de[vn]=de[jn]=de[xn]=de[Dn]=de[rn]=de[He]=de[gt]=de[Un]=de[kn]=de[vt]=de[Zt]=de[Se]=de[_n]=de[qe]=de[pt]=de[D]=de[X]=de[pe]=de[hi]=de[gi]=de[vi]=de[mi]=!0,de[mn]=de[Ln]=de[Ee]=!1;var qu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ku={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xu=parseFloat,Ju=parseInt,cs=typeof fr=="object"&&fr&&fr.Object===Object&&fr,Qu=typeof self=="object"&&self&&self.Object===Object&&self,Le=cs||Qu||Function("return this")(),Ci=u&&!u.nodeType&&u,mt=Ci&&!0&&a&&!a.nodeType&&a,fs=mt&&mt.exports===Ci,Di=fs&&cs.process,on=function(){try{var p=mt&&mt.require&&mt.require("util").types;return p||Di&&Di.binding&&Di.binding("util")}catch{}}(),ds=on&&on.isArrayBuffer,ps=on&&on.isDate,hs=on&&on.isMap,gs=on&&on.isRegExp,vs=on&&on.isSet,ms=on&&on.isTypedArray;function Je(p,m,g){switch(g.length){case 0:return p.call(m);case 1:return p.call(m,g[0]);case 2:return p.call(m,g[0],g[1]);case 3:return p.call(m,g[0],g[1],g[2])}return p.apply(m,g)}function Vu(p,m,g,R){for(var Y=-1,ie=p==null?0:p.length;++Y<ie;){var Ie=p[Y];m(R,Ie,g(Ie),p)}return R}function sn(p,m){for(var g=-1,R=p==null?0:p.length;++g<R&&m(p[g],g,p)!==!1;);return p}function ec(p,m){for(var g=p==null?0:p.length;g--&&m(p[g],g,p)!==!1;);return p}function _s(p,m){for(var g=-1,R=p==null?0:p.length;++g<R;)if(!m(p[g],g,p))return!1;return!0}function tt(p,m){for(var g=-1,R=p==null?0:p.length,Y=0,ie=[];++g<R;){var Ie=p[g];m(Ie,g,p)&&(ie[Y++]=Ie)}return ie}function wr(p,m){var g=p==null?0:p.length;return!!g&&Mt(p,m,0)>-1}function Ei(p,m,g){for(var R=-1,Y=p==null?0:p.length;++R<Y;)if(g(m,p[R]))return!0;return!1}function ge(p,m){for(var g=-1,R=p==null?0:p.length,Y=Array(R);++g<R;)Y[g]=m(p[g],g,p);return Y}function rt(p,m){for(var g=-1,R=m.length,Y=p.length;++g<R;)p[Y+g]=m[g];return p}function Ii(p,m,g,R){var Y=-1,ie=p==null?0:p.length;for(R&&ie&&(g=p[++Y]);++Y<ie;)g=m(g,p[Y],Y,p);return g}function nc(p,m,g,R){var Y=p==null?0:p.length;for(R&&Y&&(g=p[--Y]);Y--;)g=m(g,p[Y],Y,p);return g}function Fi(p,m){for(var g=-1,R=p==null?0:p.length;++g<R;)if(m(p[g],g,p))return!0;return!1}var tc=Ri("length");function rc(p){return p.split("")}function ic(p){return p.match(du)||[]}function xs(p,m,g){var R;return g(p,function(Y,ie,Ie){if(m(Y,ie,Ie))return R=ie,!1}),R}function yr(p,m,g,R){for(var Y=p.length,ie=g+(R?1:-1);R?ie--:++ie<Y;)if(m(p[ie],ie,p))return ie;return-1}function Mt(p,m,g){return m===m?vc(p,m,g):yr(p,ws,g)}function oc(p,m,g,R){for(var Y=g-1,ie=p.length;++Y<ie;)if(R(p[Y],m))return Y;return-1}function ws(p){return p!==p}function ys(p,m){var g=p==null?0:p.length;return g?Ti(p,m)/g:Vn}function Ri(p){return function(m){return m==null?i:m[p]}}function Oi(p){return function(m){return p==null?i:p[m]}}function bs(p,m,g,R,Y){return Y(p,function(ie,Ie,ue){g=R?(R=!1,ie):m(g,ie,Ie,ue)}),g}function sc(p,m){var g=p.length;for(p.sort(m);g--;)p[g]=p[g].value;return p}function Ti(p,m){for(var g,R=-1,Y=p.length;++R<Y;){var ie=m(p[R]);ie!==i&&(g=g===i?ie:g+ie)}return g}function ji(p,m){for(var g=-1,R=Array(p);++g<p;)R[g]=m(g);return R}function lc(p,m){return ge(m,function(g){return[g,p[g]]})}function As(p){return p&&p.slice(0,Es(p)+1).replace(xi,"")}function Qe(p){return function(m){return p(m)}}function Mi(p,m){return ge(m,function(g){return p[g]})}function Xt(p,m){return p.has(m)}function Ss(p,m){for(var g=-1,R=p.length;++g<R&&Mt(m,p[g],0)>-1;);return g}function Cs(p,m){for(var g=p.length;g--&&Mt(m,p[g],0)>-1;);return g}function ac(p,m){for(var g=p.length,R=0;g--;)p[g]===m&&++R;return R}var uc=Oi(qu),cc=Oi(Ku);function fc(p){return"\\"+Zu[p]}function dc(p,m){return p==null?i:p[m]}function Lt(p){return Bu.test(p)}function pc(p){return $u.test(p)}function hc(p){for(var m,g=[];!(m=p.next()).done;)g.push(m.value);return g}function Li(p){var m=-1,g=Array(p.size);return p.forEach(function(R,Y){g[++m]=[Y,R]}),g}function Ds(p,m){return function(g){return p(m(g))}}function it(p,m){for(var g=-1,R=p.length,Y=0,ie=[];++g<R;){var Ie=p[g];(Ie===m||Ie===G)&&(p[g]=G,ie[Y++]=g)}return ie}function br(p){var m=-1,g=Array(p.size);return p.forEach(function(R){g[++m]=R}),g}function gc(p){var m=-1,g=Array(p.size);return p.forEach(function(R){g[++m]=[R,R]}),g}function vc(p,m,g){for(var R=g-1,Y=p.length;++R<Y;)if(p[R]===m)return R;return-1}function mc(p,m,g){for(var R=g+1;R--;)if(p[R]===m)return R;return R}function Ut(p){return Lt(p)?xc(p):tc(p)}function wn(p){return Lt(p)?wc(p):rc(p)}function Es(p){for(var m=p.length;m--&&au.test(p.charAt(m)););return m}var _c=Oi(Yu);function xc(p){for(var m=Si.lastIndex=0;Si.test(p);)++m;return m}function wc(p){return p.match(Si)||[]}function yc(p){return p.match(Nu)||[]}var bc=function p(m){m=m==null?Le:kt.defaults(Le.Object(),m,kt.pick(Le,Gu));var g=m.Array,R=m.Date,Y=m.Error,ie=m.Function,Ie=m.Math,ue=m.Object,Ui=m.RegExp,Ac=m.String,ln=m.TypeError,Ar=g.prototype,Sc=ie.prototype,Wt=ue.prototype,Sr=m["__core-js_shared__"],Cr=Sc.toString,ae=Wt.hasOwnProperty,Cc=0,Is=function(){var e=/[^.]+$/.exec(Sr&&Sr.keys&&Sr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Dr=Wt.toString,Dc=Cr.call(ue),Ec=Le._,Ic=Ui("^"+Cr.call(ae).replace(_i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Er=fs?m.Buffer:i,ot=m.Symbol,Ir=m.Uint8Array,Fs=Er?Er.allocUnsafe:i,Fr=Ds(ue.getPrototypeOf,ue),Rs=ue.create,Os=Wt.propertyIsEnumerable,Rr=Ar.splice,Ts=ot?ot.isConcatSpreadable:i,Jt=ot?ot.iterator:i,_t=ot?ot.toStringTag:i,Or=function(){try{var e=At(ue,"defineProperty");return e({},"",{}),e}catch{}}(),Fc=m.clearTimeout!==Le.clearTimeout&&m.clearTimeout,Rc=R&&R.now!==Le.Date.now&&R.now,Oc=m.setTimeout!==Le.setTimeout&&m.setTimeout,Tr=Ie.ceil,jr=Ie.floor,ki=ue.getOwnPropertySymbols,Tc=Er?Er.isBuffer:i,js=m.isFinite,jc=Ar.join,Mc=Ds(ue.keys,ue),Fe=Ie.max,We=Ie.min,Lc=R.now,Uc=m.parseInt,Ms=Ie.random,kc=Ar.reverse,Wi=At(m,"DataView"),Qt=At(m,"Map"),zi=At(m,"Promise"),zt=At(m,"Set"),Vt=At(m,"WeakMap"),er=At(ue,"create"),Mr=Vt&&new Vt,Pt={},Wc=St(Wi),zc=St(Qt),Pc=St(zi),Nc=St(zt),Bc=St(Vt),Lr=ot?ot.prototype:i,nr=Lr?Lr.valueOf:i,Ls=Lr?Lr.toString:i;function s(e){if(xe(e)&&!Z(e)&&!(e instanceof te)){if(e instanceof an)return e;if(ae.call(e,"__wrapped__"))return Ul(e)}return new an(e)}var Nt=function(){function e(){}return function(n){if(!ve(n))return{};if(Rs)return Rs(n);e.prototype=n;var t=new e;return e.prototype=i,t}}();function Ur(){}function an(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}s.templateSettings={escape:tu,evaluate:ru,interpolate:Go,variable:"",imports:{_:s}},s.prototype=Ur.prototype,s.prototype.constructor=s,an.prototype=Nt(Ur.prototype),an.prototype.constructor=an;function te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Re,this.__views__=[]}function $c(){var e=new te(this.__wrapped__);return e.__actions__=Ke(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ke(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ke(this.__views__),e}function Gc(){if(this.__filtered__){var e=new te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Hc(){var e=this.__wrapped__.value(),n=this.__dir__,t=Z(e),r=n<0,o=t?e.length:0,l=id(0,o,this.__views__),f=l.start,d=l.end,h=d-f,w=r?d:f-1,y=this.__iteratees__,S=y.length,E=0,M=We(h,this.__takeCount__);if(!t||!r&&o==h&&M==h)return ol(e,this.__actions__);var P=[];e:for(;h--&&E<M;){w+=n;for(var Q=-1,N=e[w];++Q<S;){var ne=y[Q],re=ne.iteratee,nn=ne.type,Be=re(N);if(nn==Ft)N=Be;else if(!Be){if(nn==je)continue e;break e}}P[E++]=N}return P}te.prototype=Nt(Ur.prototype),te.prototype.constructor=te;function xt(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function qc(){this.__data__=er?er(null):{},this.size=0}function Kc(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Yc(e){var n=this.__data__;if(er){var t=n[e];return t===C?i:t}return ae.call(n,e)?n[e]:i}function Zc(e){var n=this.__data__;return er?n[e]!==i:ae.call(n,e)}function Xc(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=er&&n===i?C:n,this}xt.prototype.clear=qc,xt.prototype.delete=Kc,xt.prototype.get=Yc,xt.prototype.has=Zc,xt.prototype.set=Xc;function Wn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Jc(){this.__data__=[],this.size=0}function Qc(e){var n=this.__data__,t=kr(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Rr.call(n,t,1),--this.size,!0}function Vc(e){var n=this.__data__,t=kr(n,e);return t<0?i:n[t][1]}function ef(e){return kr(this.__data__,e)>-1}function nf(e,n){var t=this.__data__,r=kr(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}Wn.prototype.clear=Jc,Wn.prototype.delete=Qc,Wn.prototype.get=Vc,Wn.prototype.has=ef,Wn.prototype.set=nf;function zn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function tf(){this.size=0,this.__data__={hash:new xt,map:new(Qt||Wn),string:new xt}}function rf(e){var n=Zr(this,e).delete(e);return this.size-=n?1:0,n}function of(e){return Zr(this,e).get(e)}function sf(e){return Zr(this,e).has(e)}function lf(e,n){var t=Zr(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}zn.prototype.clear=tf,zn.prototype.delete=rf,zn.prototype.get=of,zn.prototype.has=sf,zn.prototype.set=lf;function wt(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new zn;++n<t;)this.add(e[n])}function af(e){return this.__data__.set(e,C),this}function uf(e){return this.__data__.has(e)}wt.prototype.add=wt.prototype.push=af,wt.prototype.has=uf;function yn(e){var n=this.__data__=new Wn(e);this.size=n.size}function cf(){this.__data__=new Wn,this.size=0}function ff(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function df(e){return this.__data__.get(e)}function pf(e){return this.__data__.has(e)}function hf(e,n){var t=this.__data__;if(t instanceof Wn){var r=t.__data__;if(!Qt||r.length<_-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new zn(r)}return t.set(e,n),this.size=t.size,this}yn.prototype.clear=cf,yn.prototype.delete=ff,yn.prototype.get=df,yn.prototype.has=pf,yn.prototype.set=hf;function Us(e,n){var t=Z(e),r=!t&&Ct(e),o=!t&&!r&&ct(e),l=!t&&!r&&!o&&Ht(e),f=t||r||o||l,d=f?ji(e.length,Ac):[],h=d.length;for(var w in e)(n||ae.call(e,w))&&!(f&&(w=="length"||o&&(w=="offset"||w=="parent")||l&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||$n(w,h)))&&d.push(w);return d}function ks(e){var n=e.length;return n?e[Xi(0,n-1)]:i}function gf(e,n){return Xr(Ke(e),yt(n,0,e.length))}function vf(e){return Xr(Ke(e))}function Pi(e,n,t){(t!==i&&!bn(e[n],t)||t===i&&!(n in e))&&Pn(e,n,t)}function tr(e,n,t){var r=e[n];(!(ae.call(e,n)&&bn(r,t))||t===i&&!(n in e))&&Pn(e,n,t)}function kr(e,n){for(var t=e.length;t--;)if(bn(e[t][0],n))return t;return-1}function mf(e,n,t,r){return st(e,function(o,l,f){n(r,o,t(o),f)}),r}function Ws(e,n){return e&&In(n,Oe(n),e)}function _f(e,n){return e&&In(n,Ze(n),e)}function Pn(e,n,t){n=="__proto__"&&Or?Or(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Ni(e,n){for(var t=-1,r=n.length,o=g(r),l=e==null;++t<r;)o[t]=l?i:bo(e,n[t]);return o}function yt(e,n,t){return e===e&&(t!==i&&(e=e<=t?e:t),n!==i&&(e=e>=n?e:n)),e}function un(e,n,t,r,o,l){var f,d=n&k,h=n&B,w=n&q;if(t&&(f=o?t(e,r,o,l):t(e)),f!==i)return f;if(!ve(e))return e;var y=Z(e);if(y){if(f=sd(e),!d)return Ke(e,f)}else{var S=ze(e),E=S==Ln||S==nt;if(ct(e))return al(e,d);if(S==qe||S==vn||E&&!o){if(f=h||E?{}:El(e),!d)return h?Zf(e,_f(f,e)):Yf(e,Ws(f,e))}else{if(!de[S])return o?e:{};f=ld(e,S,d)}}l||(l=new yn);var M=l.get(e);if(M)return M;l.set(e,f),ta(e)?e.forEach(function(N){f.add(un(N,n,t,N,e,l))}):ea(e)&&e.forEach(function(N,ne){f.set(ne,un(N,n,t,ne,e,l))});var P=w?h?lo:so:h?Ze:Oe,Q=y?i:P(e);return sn(Q||e,function(N,ne){Q&&(ne=N,N=e[ne]),tr(f,ne,un(N,n,t,ne,e,l))}),f}function xf(e){var n=Oe(e);return function(t){return zs(t,e,n)}}function zs(e,n,t){var r=t.length;if(e==null)return!r;for(e=ue(e);r--;){var o=t[r],l=n[o],f=e[o];if(f===i&&!(o in e)||!l(f))return!1}return!0}function Ps(e,n,t){if(typeof e!="function")throw new ln(x);return ur(function(){e.apply(i,t)},n)}function rr(e,n,t,r){var o=-1,l=wr,f=!0,d=e.length,h=[],w=n.length;if(!d)return h;t&&(n=ge(n,Qe(t))),r?(l=Ei,f=!1):n.length>=_&&(l=Xt,f=!1,n=new wt(n));e:for(;++o<d;){var y=e[o],S=t==null?y:t(y);if(y=r||y!==0?y:0,f&&S===S){for(var E=w;E--;)if(n[E]===S)continue e;h.push(y)}else l(n,S,r)||h.push(y)}return h}var st=pl(En),Ns=pl($i,!0);function wf(e,n){var t=!0;return st(e,function(r,o,l){return t=!!n(r,o,l),t}),t}function Wr(e,n,t){for(var r=-1,o=e.length;++r<o;){var l=e[r],f=n(l);if(f!=null&&(d===i?f===f&&!en(f):t(f,d)))var d=f,h=l}return h}function yf(e,n,t,r){var o=e.length;for(t=J(t),t<0&&(t=-t>o?0:o+t),r=r===i||r>o?o:J(r),r<0&&(r+=o),r=t>r?0:ia(r);t<r;)e[t++]=n;return e}function Bs(e,n){var t=[];return st(e,function(r,o,l){n(r,o,l)&&t.push(r)}),t}function Ue(e,n,t,r,o){var l=-1,f=e.length;for(t||(t=ud),o||(o=[]);++l<f;){var d=e[l];n>0&&t(d)?n>1?Ue(d,n-1,t,r,o):rt(o,d):r||(o[o.length]=d)}return o}var Bi=hl(),$s=hl(!0);function En(e,n){return e&&Bi(e,n,Oe)}function $i(e,n){return e&&$s(e,n,Oe)}function zr(e,n){return tt(n,function(t){return Gn(e[t])})}function bt(e,n){n=at(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[Fn(n[t++])];return t&&t==r?e:i}function Gs(e,n,t){var r=n(e);return Z(e)?r:rt(r,t(e))}function Pe(e){return e==null?e===i?De:Tt:_t&&_t in ue(e)?rd(e):vd(e)}function Gi(e,n){return e>n}function bf(e,n){return e!=null&&ae.call(e,n)}function Af(e,n){return e!=null&&n in ue(e)}function Sf(e,n,t){return e>=We(n,t)&&e<Fe(n,t)}function Hi(e,n,t){for(var r=t?Ei:wr,o=e[0].length,l=e.length,f=l,d=g(l),h=1/0,w=[];f--;){var y=e[f];f&&n&&(y=ge(y,Qe(n))),h=We(y.length,h),d[f]=!t&&(n||o>=120&&y.length>=120)?new wt(f&&y):i}y=e[0];var S=-1,E=d[0];e:for(;++S<o&&w.length<h;){var M=y[S],P=n?n(M):M;if(M=t||M!==0?M:0,!(E?Xt(E,P):r(w,P,t))){for(f=l;--f;){var Q=d[f];if(!(Q?Xt(Q,P):r(e[f],P,t)))continue e}E&&E.push(P),w.push(M)}}return w}function Cf(e,n,t,r){return En(e,function(o,l,f){n(r,t(o),l,f)}),r}function ir(e,n,t){n=at(n,e),e=Ol(e,n);var r=e==null?e:e[Fn(fn(n))];return r==null?i:Je(r,e,t)}function Hs(e){return xe(e)&&Pe(e)==vn}function Df(e){return xe(e)&&Pe(e)==xn}function Ef(e){return xe(e)&&Pe(e)==He}function or(e,n,t,r,o){return e===n?!0:e==null||n==null||!xe(e)&&!xe(n)?e!==e&&n!==n:If(e,n,t,r,or,o)}function If(e,n,t,r,o,l){var f=Z(e),d=Z(n),h=f?jn:ze(e),w=d?jn:ze(n);h=h==vn?qe:h,w=w==vn?qe:w;var y=h==qe,S=w==qe,E=h==w;if(E&&ct(e)){if(!ct(n))return!1;f=!0,y=!1}if(E&&!y)return l||(l=new yn),f||Ht(e)?Sl(e,n,t,r,o,l):nd(e,n,h,t,r,o,l);if(!(t&H)){var M=y&&ae.call(e,"__wrapped__"),P=S&&ae.call(n,"__wrapped__");if(M||P){var Q=M?e.value():e,N=P?n.value():n;return l||(l=new yn),o(Q,N,t,r,l)}}return E?(l||(l=new yn),td(e,n,t,r,o,l)):!1}function Ff(e){return xe(e)&&ze(e)==Se}function qi(e,n,t,r){var o=t.length,l=o,f=!r;if(e==null)return!l;for(e=ue(e);o--;){var d=t[o];if(f&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++o<l;){d=t[o];var h=d[0],w=e[h],y=d[1];if(f&&d[2]){if(w===i&&!(h in e))return!1}else{var S=new yn;if(r)var E=r(w,y,h,e,n,S);if(!(E===i?or(y,w,H|I,r,S):E))return!1}}return!0}function qs(e){if(!ve(e)||fd(e))return!1;var n=Gn(e)?Ic:_u;return n.test(St(e))}function Rf(e){return xe(e)&&Pe(e)==pt}function Of(e){return xe(e)&&ze(e)==D}function Tf(e){return xe(e)&&ti(e.length)&&!!he[Pe(e)]}function Ks(e){return typeof e=="function"?e:e==null?Xe:typeof e=="object"?Z(e)?Xs(e[0],e[1]):Zs(e):ga(e)}function Ki(e){if(!ar(e))return Mc(e);var n=[];for(var t in ue(e))ae.call(e,t)&&t!="constructor"&&n.push(t);return n}function jf(e){if(!ve(e))return gd(e);var n=ar(e),t=[];for(var r in e)r=="constructor"&&(n||!ae.call(e,r))||t.push(r);return t}function Yi(e,n){return e<n}function Ys(e,n){var t=-1,r=Ye(e)?g(e.length):[];return st(e,function(o,l,f){r[++t]=n(o,l,f)}),r}function Zs(e){var n=uo(e);return n.length==1&&n[0][2]?Fl(n[0][0],n[0][1]):function(t){return t===e||qi(t,e,n)}}function Xs(e,n){return fo(e)&&Il(n)?Fl(Fn(e),n):function(t){var r=bo(t,e);return r===i&&r===n?Ao(t,e):or(n,r,H|I)}}function Pr(e,n,t,r,o){e!==n&&Bi(n,function(l,f){if(o||(o=new yn),ve(l))Mf(e,n,f,t,Pr,r,o);else{var d=r?r(ho(e,f),l,f+"",e,n,o):i;d===i&&(d=l),Pi(e,f,d)}},Ze)}function Mf(e,n,t,r,o,l,f){var d=ho(e,t),h=ho(n,t),w=f.get(h);if(w){Pi(e,t,w);return}var y=l?l(d,h,t+"",e,n,f):i,S=y===i;if(S){var E=Z(h),M=!E&&ct(h),P=!E&&!M&&Ht(h);y=h,E||M||P?Z(d)?y=d:ye(d)?y=Ke(d):M?(S=!1,y=al(h,!0)):P?(S=!1,y=ul(h,!0)):y=[]:cr(h)||Ct(h)?(y=d,Ct(d)?y=oa(d):(!ve(d)||Gn(d))&&(y=El(h))):S=!1}S&&(f.set(h,y),o(y,h,r,l,f),f.delete(h)),Pi(e,t,y)}function Js(e,n){var t=e.length;if(t)return n+=n<0?t:0,$n(n,t)?e[n]:i}function Qs(e,n,t){n.length?n=ge(n,function(l){return Z(l)?function(f){return bt(f,l.length===1?l[0]:l)}:l}):n=[Xe];var r=-1;n=ge(n,Qe(z()));var o=Ys(e,function(l,f,d){var h=ge(n,function(w){return w(l)});return{criteria:h,index:++r,value:l}});return sc(o,function(l,f){return Kf(l,f,t)})}function Lf(e,n){return Vs(e,n,function(t,r){return Ao(e,r)})}function Vs(e,n,t){for(var r=-1,o=n.length,l={};++r<o;){var f=n[r],d=bt(e,f);t(d,f)&&sr(l,at(f,e),d)}return l}function Uf(e){return function(n){return bt(n,e)}}function Zi(e,n,t,r){var o=r?oc:Mt,l=-1,f=n.length,d=e;for(e===n&&(n=Ke(n)),t&&(d=ge(e,Qe(t)));++l<f;)for(var h=0,w=n[l],y=t?t(w):w;(h=o(d,y,h,r))>-1;)d!==e&&Rr.call(d,h,1),Rr.call(e,h,1);return e}function el(e,n){for(var t=e?n.length:0,r=t-1;t--;){var o=n[t];if(t==r||o!==l){var l=o;$n(o)?Rr.call(e,o,1):Vi(e,o)}}return e}function Xi(e,n){return e+jr(Ms()*(n-e+1))}function kf(e,n,t,r){for(var o=-1,l=Fe(Tr((n-e)/(t||1)),0),f=g(l);l--;)f[r?l:++o]=e,e+=t;return f}function Ji(e,n){var t="";if(!e||n<1||n>Ge)return t;do n%2&&(t+=e),n=jr(n/2),n&&(e+=e);while(n);return t}function V(e,n){return go(Rl(e,n,Xe),e+"")}function Wf(e){return ks(qt(e))}function zf(e,n){var t=qt(e);return Xr(t,yt(n,0,t.length))}function sr(e,n,t,r){if(!ve(e))return e;n=at(n,e);for(var o=-1,l=n.length,f=l-1,d=e;d!=null&&++o<l;){var h=Fn(n[o]),w=t;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(o!=f){var y=d[h];w=r?r(y,h,d):i,w===i&&(w=ve(y)?y:$n(n[o+1])?[]:{})}tr(d,h,w),d=d[h]}return e}var nl=Mr?function(e,n){return Mr.set(e,n),e}:Xe,Pf=Or?function(e,n){return Or(e,"toString",{configurable:!0,enumerable:!1,value:Co(n),writable:!0})}:Xe;function Nf(e){return Xr(qt(e))}function cn(e,n,t){var r=-1,o=e.length;n<0&&(n=-n>o?0:o+n),t=t>o?o:t,t<0&&(t+=o),o=n>t?0:t-n>>>0,n>>>=0;for(var l=g(o);++r<o;)l[r]=e[r+n];return l}function Bf(e,n){var t;return st(e,function(r,o,l){return t=n(r,o,l),!t}),!!t}function Nr(e,n,t){var r=0,o=e==null?r:e.length;if(typeof n=="number"&&n===n&&o<=gn){for(;r<o;){var l=r+o>>>1,f=e[l];f!==null&&!en(f)&&(t?f<=n:f<n)?r=l+1:o=l}return o}return Qi(e,n,Xe,t)}function Qi(e,n,t,r){var o=0,l=e==null?0:e.length;if(l===0)return 0;n=t(n);for(var f=n!==n,d=n===null,h=en(n),w=n===i;o<l;){var y=jr((o+l)/2),S=t(e[y]),E=S!==i,M=S===null,P=S===S,Q=en(S);if(f)var N=r||P;else w?N=P&&(r||E):d?N=P&&E&&(r||!M):h?N=P&&E&&!M&&(r||!Q):M||Q?N=!1:N=r?S<=n:S<n;N?o=y+1:l=y}return We(l,Rt)}function tl(e,n){for(var t=-1,r=e.length,o=0,l=[];++t<r;){var f=e[t],d=n?n(f):f;if(!t||!bn(d,h)){var h=d;l[o++]=f===0?0:f}}return l}function rl(e){return typeof e=="number"?e:en(e)?Vn:+e}function Ve(e){if(typeof e=="string")return e;if(Z(e))return ge(e,Ve)+"";if(en(e))return Ls?Ls.call(e):"";var n=e+"";return n=="0"&&1/e==-hn?"-0":n}function lt(e,n,t){var r=-1,o=wr,l=e.length,f=!0,d=[],h=d;if(t)f=!1,o=Ei;else if(l>=_){var w=n?null:Vf(e);if(w)return br(w);f=!1,o=Xt,h=new wt}else h=n?[]:d;e:for(;++r<l;){var y=e[r],S=n?n(y):y;if(y=t||y!==0?y:0,f&&S===S){for(var E=h.length;E--;)if(h[E]===S)continue e;n&&h.push(S),d.push(y)}else o(h,S,t)||(h!==d&&h.push(S),d.push(y))}return d}function Vi(e,n){return n=at(n,e),e=Ol(e,n),e==null||delete e[Fn(fn(n))]}function il(e,n,t,r){return sr(e,n,t(bt(e,n)),r)}function Br(e,n,t,r){for(var o=e.length,l=r?o:-1;(r?l--:++l<o)&&n(e[l],l,e););return t?cn(e,r?0:l,r?l+1:o):cn(e,r?l+1:0,r?o:l)}function ol(e,n){var t=e;return t instanceof te&&(t=t.value()),Ii(n,function(r,o){return o.func.apply(o.thisArg,rt([r],o.args))},t)}function eo(e,n,t){var r=e.length;if(r<2)return r?lt(e[0]):[];for(var o=-1,l=g(r);++o<r;)for(var f=e[o],d=-1;++d<r;)d!=o&&(l[o]=rr(l[o]||f,e[d],n,t));return lt(Ue(l,1),n,t)}function sl(e,n,t){for(var r=-1,o=e.length,l=n.length,f={};++r<o;){var d=r<l?n[r]:i;t(f,e[r],d)}return f}function no(e){return ye(e)?e:[]}function to(e){return typeof e=="function"?e:Xe}function at(e,n){return Z(e)?e:fo(e,n)?[e]:Ll(le(e))}var $f=V;function ut(e,n,t){var r=e.length;return t=t===i?r:t,!n&&t>=r?e:cn(e,n,t)}var ll=Fc||function(e){return Le.clearTimeout(e)};function al(e,n){if(n)return e.slice();var t=e.length,r=Fs?Fs(t):new e.constructor(t);return e.copy(r),r}function ro(e){var n=new e.constructor(e.byteLength);return new Ir(n).set(new Ir(e)),n}function Gf(e,n){var t=n?ro(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function Hf(e){var n=new e.constructor(e.source,Ho.exec(e));return n.lastIndex=e.lastIndex,n}function qf(e){return nr?ue(nr.call(e)):{}}function ul(e,n){var t=n?ro(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function cl(e,n){if(e!==n){var t=e!==i,r=e===null,o=e===e,l=en(e),f=n!==i,d=n===null,h=n===n,w=en(n);if(!d&&!w&&!l&&e>n||l&&f&&h&&!d&&!w||r&&f&&h||!t&&h||!o)return 1;if(!r&&!l&&!w&&e<n||w&&t&&o&&!r&&!l||d&&t&&o||!f&&o||!h)return-1}return 0}function Kf(e,n,t){for(var r=-1,o=e.criteria,l=n.criteria,f=o.length,d=t.length;++r<f;){var h=cl(o[r],l[r]);if(h){if(r>=d)return h;var w=t[r];return h*(w=="desc"?-1:1)}}return e.index-n.index}function fl(e,n,t,r){for(var o=-1,l=e.length,f=t.length,d=-1,h=n.length,w=Fe(l-f,0),y=g(h+w),S=!r;++d<h;)y[d]=n[d];for(;++o<f;)(S||o<l)&&(y[t[o]]=e[o]);for(;w--;)y[d++]=e[o++];return y}function dl(e,n,t,r){for(var o=-1,l=e.length,f=-1,d=t.length,h=-1,w=n.length,y=Fe(l-d,0),S=g(y+w),E=!r;++o<y;)S[o]=e[o];for(var M=o;++h<w;)S[M+h]=n[h];for(;++f<d;)(E||o<l)&&(S[M+t[f]]=e[o++]);return S}function Ke(e,n){var t=-1,r=e.length;for(n||(n=g(r));++t<r;)n[t]=e[t];return n}function In(e,n,t,r){var o=!t;t||(t={});for(var l=-1,f=n.length;++l<f;){var d=n[l],h=r?r(t[d],e[d],d,t,e):i;h===i&&(h=e[d]),o?Pn(t,d,h):tr(t,d,h)}return t}function Yf(e,n){return In(e,co(e),n)}function Zf(e,n){return In(e,Cl(e),n)}function $r(e,n){return function(t,r){var o=Z(t)?Vu:mf,l=n?n():{};return o(t,e,z(r,2),l)}}function Bt(e){return V(function(n,t){var r=-1,o=t.length,l=o>1?t[o-1]:i,f=o>2?t[2]:i;for(l=e.length>3&&typeof l=="function"?(o--,l):i,f&&Ne(t[0],t[1],f)&&(l=o<3?i:l,o=1),n=ue(n);++r<o;){var d=t[r];d&&e(n,d,r,l)}return n})}function pl(e,n){return function(t,r){if(t==null)return t;if(!Ye(t))return e(t,r);for(var o=t.length,l=n?o:-1,f=ue(t);(n?l--:++l<o)&&r(f[l],l,f)!==!1;);return t}}function hl(e){return function(n,t,r){for(var o=-1,l=ue(n),f=r(n),d=f.length;d--;){var h=f[e?d:++o];if(t(l[h],h,l)===!1)break}return n}}function Xf(e,n,t){var r=n&L,o=lr(e);function l(){var f=this&&this!==Le&&this instanceof l?o:e;return f.apply(r?t:this,arguments)}return l}function gl(e){return function(n){n=le(n);var t=Lt(n)?wn(n):i,r=t?t[0]:n.charAt(0),o=t?ut(t,1).join(""):n.slice(1);return r[e]()+o}}function $t(e){return function(n){return Ii(pa(da(n).replace(zu,"")),e,"")}}function lr(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=Nt(e.prototype),r=e.apply(t,n);return ve(r)?r:t}}function Jf(e,n,t){var r=lr(e);function o(){for(var l=arguments.length,f=g(l),d=l,h=Gt(o);d--;)f[d]=arguments[d];var w=l<3&&f[0]!==h&&f[l-1]!==h?[]:it(f,h);if(l-=w.length,l<t)return wl(e,n,Gr,o.placeholder,i,f,w,i,i,t-l);var y=this&&this!==Le&&this instanceof o?r:e;return Je(y,this,f)}return o}function vl(e){return function(n,t,r){var o=ue(n);if(!Ye(n)){var l=z(t,3);n=Oe(n),t=function(d){return l(o[d],d,o)}}var f=e(n,t,r);return f>-1?o[l?n[f]:f]:i}}function ml(e){return Bn(function(n){var t=n.length,r=t,o=an.prototype.thru;for(e&&n.reverse();r--;){var l=n[r];if(typeof l!="function")throw new ln(x);if(o&&!f&&Yr(l)=="wrapper")var f=new an([],!0)}for(r=f?r:t;++r<t;){l=n[r];var d=Yr(l),h=d=="wrapper"?ao(l):i;h&&po(h[0])&&h[1]==($|F|U|se)&&!h[4].length&&h[9]==1?f=f[Yr(h[0])].apply(f,h[3]):f=l.length==1&&po(l)?f[d]():f.thru(l)}return function(){var w=arguments,y=w[0];if(f&&w.length==1&&Z(y))return f.plant(y).value();for(var S=0,E=t?n[S].apply(this,w):y;++S<t;)E=n[S].call(this,E);return E}})}function Gr(e,n,t,r,o,l,f,d,h,w){var y=n&$,S=n&L,E=n&W,M=n&(F|K),P=n&fe,Q=E?i:lr(e);function N(){for(var ne=arguments.length,re=g(ne),nn=ne;nn--;)re[nn]=arguments[nn];if(M)var Be=Gt(N),tn=ac(re,Be);if(r&&(re=fl(re,r,o,M)),l&&(re=dl(re,l,f,M)),ne-=tn,M&&ne<w){var be=it(re,Be);return wl(e,n,Gr,N.placeholder,t,re,be,d,h,w-ne)}var An=S?t:this,qn=E?An[e]:e;return ne=re.length,d?re=md(re,d):P&&ne>1&&re.reverse(),y&&h<ne&&(re.length=h),this&&this!==Le&&this instanceof N&&(qn=Q||lr(qn)),qn.apply(An,re)}return N}function _l(e,n){return function(t,r){return Cf(t,e,n(r),{})}}function Hr(e,n){return function(t,r){var o;if(t===i&&r===i)return n;if(t!==i&&(o=t),r!==i){if(o===i)return r;typeof t=="string"||typeof r=="string"?(t=Ve(t),r=Ve(r)):(t=rl(t),r=rl(r)),o=e(t,r)}return o}}function io(e){return Bn(function(n){return n=ge(n,Qe(z())),V(function(t){var r=this;return e(n,function(o){return Je(o,r,t)})})})}function qr(e,n){n=n===i?" ":Ve(n);var t=n.length;if(t<2)return t?Ji(n,e):n;var r=Ji(n,Tr(e/Ut(n)));return Lt(n)?ut(wn(r),0,e).join(""):r.slice(0,e)}function Qf(e,n,t,r){var o=n&L,l=lr(e);function f(){for(var d=-1,h=arguments.length,w=-1,y=r.length,S=g(y+h),E=this&&this!==Le&&this instanceof f?l:e;++w<y;)S[w]=r[w];for(;h--;)S[w++]=arguments[++d];return Je(E,o?t:this,S)}return f}function xl(e){return function(n,t,r){return r&&typeof r!="number"&&Ne(n,t,r)&&(t=r=i),n=Hn(n),t===i?(t=n,n=0):t=Hn(t),r=r===i?n<t?1:-1:Hn(r),kf(n,t,r,e)}}function Kr(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=dn(n),t=dn(t)),e(n,t)}}function wl(e,n,t,r,o,l,f,d,h,w){var y=n&F,S=y?f:i,E=y?i:f,M=y?l:i,P=y?i:l;n|=y?U:ee,n&=~(y?ee:U),n&T||(n&=~(L|W));var Q=[e,n,o,M,S,P,E,d,h,w],N=t.apply(i,Q);return po(e)&&Tl(N,Q),N.placeholder=r,jl(N,e,n)}function oo(e){var n=Ie[e];return function(t,r){if(t=dn(t),r=r==null?0:We(J(r),292),r&&js(t)){var o=(le(t)+"e").split("e"),l=n(o[0]+"e"+(+o[1]+r));return o=(le(l)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return n(t)}}var Vf=zt&&1/br(new zt([,-0]))[1]==hn?function(e){return new zt(e)}:Io;function yl(e){return function(n){var t=ze(n);return t==Se?Li(n):t==D?gc(n):lc(n,e(n))}}function Nn(e,n,t,r,o,l,f,d){var h=n&W;if(!h&&typeof e!="function")throw new ln(x);var w=r?r.length:0;if(w||(n&=~(U|ee),r=o=i),f=f===i?f:Fe(J(f),0),d=d===i?d:J(d),w-=o?o.length:0,n&ee){var y=r,S=o;r=o=i}var E=h?i:ao(e),M=[e,n,t,r,o,y,S,l,f,d];if(E&&hd(M,E),e=M[0],n=M[1],t=M[2],r=M[3],o=M[4],d=M[9]=M[9]===i?h?0:e.length:Fe(M[9]-w,0),!d&&n&(F|K)&&(n&=~(F|K)),!n||n==L)var P=Xf(e,n,t);else n==F||n==K?P=Jf(e,n,d):(n==U||n==(L|U))&&!o.length?P=Qf(e,n,t,r):P=Gr.apply(i,M);var Q=E?nl:Tl;return jl(Q(P,M),e,n)}function bl(e,n,t,r){return e===i||bn(e,Wt[t])&&!ae.call(r,t)?n:e}function Al(e,n,t,r,o,l){return ve(e)&&ve(n)&&(l.set(n,e),Pr(e,n,i,Al,l),l.delete(n)),e}function ed(e){return cr(e)?i:e}function Sl(e,n,t,r,o,l){var f=t&H,d=e.length,h=n.length;if(d!=h&&!(f&&h>d))return!1;var w=l.get(e),y=l.get(n);if(w&&y)return w==n&&y==e;var S=-1,E=!0,M=t&I?new wt:i;for(l.set(e,n),l.set(n,e);++S<d;){var P=e[S],Q=n[S];if(r)var N=f?r(Q,P,S,n,e,l):r(P,Q,S,e,n,l);if(N!==i){if(N)continue;E=!1;break}if(M){if(!Fi(n,function(ne,re){if(!Xt(M,re)&&(P===ne||o(P,ne,t,r,l)))return M.push(re)})){E=!1;break}}else if(!(P===Q||o(P,Q,t,r,l))){E=!1;break}}return l.delete(e),l.delete(n),E}function nd(e,n,t,r,o,l,f){switch(t){case Dn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case xn:return!(e.byteLength!=n.byteLength||!l(new Ir(e),new Ir(n)));case rn:case He:case _n:return bn(+e,+n);case mn:return e.name==n.name&&e.message==n.message;case pt:case X:return e==n+"";case Se:var d=Li;case D:var h=r&H;if(d||(d=br),e.size!=n.size&&!h)return!1;var w=f.get(e);if(w)return w==n;r|=I,f.set(e,n);var y=Sl(d(e),d(n),r,o,l,f);return f.delete(e),y;case pe:if(nr)return nr.call(e)==nr.call(n)}return!1}function td(e,n,t,r,o,l){var f=t&H,d=so(e),h=d.length,w=so(n),y=w.length;if(h!=y&&!f)return!1;for(var S=h;S--;){var E=d[S];if(!(f?E in n:ae.call(n,E)))return!1}var M=l.get(e),P=l.get(n);if(M&&P)return M==n&&P==e;var Q=!0;l.set(e,n),l.set(n,e);for(var N=f;++S<h;){E=d[S];var ne=e[E],re=n[E];if(r)var nn=f?r(re,ne,E,n,e,l):r(ne,re,E,e,n,l);if(!(nn===i?ne===re||o(ne,re,t,r,l):nn)){Q=!1;break}N||(N=E=="constructor")}if(Q&&!N){var Be=e.constructor,tn=n.constructor;Be!=tn&&"constructor"in e&&"constructor"in n&&!(typeof Be=="function"&&Be instanceof Be&&typeof tn=="function"&&tn instanceof tn)&&(Q=!1)}return l.delete(e),l.delete(n),Q}function Bn(e){return go(Rl(e,i,zl),e+"")}function so(e){return Gs(e,Oe,co)}function lo(e){return Gs(e,Ze,Cl)}var ao=Mr?function(e){return Mr.get(e)}:Io;function Yr(e){for(var n=e.name+"",t=Pt[n],r=ae.call(Pt,n)?t.length:0;r--;){var o=t[r],l=o.func;if(l==null||l==e)return o.name}return n}function Gt(e){var n=ae.call(s,"placeholder")?s:e;return n.placeholder}function z(){var e=s.iteratee||Do;return e=e===Do?Ks:e,arguments.length?e(arguments[0],arguments[1]):e}function Zr(e,n){var t=e.__data__;return cd(n)?t[typeof n=="string"?"string":"hash"]:t.map}function uo(e){for(var n=Oe(e),t=n.length;t--;){var r=n[t],o=e[r];n[t]=[r,o,Il(o)]}return n}function At(e,n){var t=dc(e,n);return qs(t)?t:i}function rd(e){var n=ae.call(e,_t),t=e[_t];try{e[_t]=i;var r=!0}catch{}var o=Dr.call(e);return r&&(n?e[_t]=t:delete e[_t]),o}var co=ki?function(e){return e==null?[]:(e=ue(e),tt(ki(e),function(n){return Os.call(e,n)}))}:Fo,Cl=ki?function(e){for(var n=[];e;)rt(n,co(e)),e=Fr(e);return n}:Fo,ze=Pe;(Wi&&ze(new Wi(new ArrayBuffer(1)))!=Dn||Qt&&ze(new Qt)!=Se||zi&&ze(zi.resolve())!=vr||zt&&ze(new zt)!=D||Vt&&ze(new Vt)!=Ee)&&(ze=function(e){var n=Pe(e),t=n==qe?e.constructor:i,r=t?St(t):"";if(r)switch(r){case Wc:return Dn;case zc:return Se;case Pc:return vr;case Nc:return D;case Bc:return Ee}return n});function id(e,n,t){for(var r=-1,o=t.length;++r<o;){var l=t[r],f=l.size;switch(l.type){case"drop":e+=f;break;case"dropRight":n-=f;break;case"take":n=We(n,e+f);break;case"takeRight":e=Fe(e,n-f);break}}return{start:e,end:n}}function od(e){var n=e.match(cu);return n?n[1].split(fu):[]}function Dl(e,n,t){n=at(n,e);for(var r=-1,o=n.length,l=!1;++r<o;){var f=Fn(n[r]);if(!(l=e!=null&&t(e,f)))break;e=e[f]}return l||++r!=o?l:(o=e==null?0:e.length,!!o&&ti(o)&&$n(f,o)&&(Z(e)||Ct(e)))}function sd(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&ae.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function El(e){return typeof e.constructor=="function"&&!ar(e)?Nt(Fr(e)):{}}function ld(e,n,t){var r=e.constructor;switch(n){case xn:return ro(e);case rn:case He:return new r(+e);case Dn:return Gf(e,t);case gt:case Un:case kn:case vt:case Zt:case hi:case gi:case vi:case mi:return ul(e,t);case Se:return new r;case _n:case X:return new r(e);case pt:return Hf(e);case D:return new r;case pe:return qf(e)}}function ad(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace(uu,`{
/* [wrapped with `+n+`] */
`)}function ud(e){return Z(e)||Ct(e)||!!(Ts&&e&&e[Ts])}function $n(e,n){var t=typeof e;return n=n??Ge,!!n&&(t=="number"||t!="symbol"&&wu.test(e))&&e>-1&&e%1==0&&e<n}function Ne(e,n,t){if(!ve(t))return!1;var r=typeof n;return(r=="number"?Ye(t)&&$n(n,t.length):r=="string"&&n in t)?bn(t[n],e):!1}function fo(e,n){if(Z(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||en(e)?!0:ou.test(e)||!iu.test(e)||n!=null&&e in ue(n)}function cd(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function po(e){var n=Yr(e),t=s[n];if(typeof t!="function"||!(n in te.prototype))return!1;if(e===t)return!0;var r=ao(t);return!!r&&e===r[0]}function fd(e){return!!Is&&Is in e}var dd=Sr?Gn:Ro;function ar(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Wt;return e===t}function Il(e){return e===e&&!ve(e)}function Fl(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==i||e in ue(t))}}function pd(e){var n=ei(e,function(r){return t.size===O&&t.clear(),r}),t=n.cache;return n}function hd(e,n){var t=e[1],r=n[1],o=t|r,l=o<(L|W|$),f=r==$&&t==F||r==$&&t==se&&e[7].length<=n[8]||r==($|se)&&n[7].length<=n[8]&&t==F;if(!(l||f))return e;r&L&&(e[2]=n[2],o|=t&L?0:T);var d=n[3];if(d){var h=e[3];e[3]=h?fl(h,d,n[4]):d,e[4]=h?it(e[3],G):n[4]}return d=n[5],d&&(h=e[5],e[5]=h?dl(h,d,n[6]):d,e[6]=h?it(e[5],G):n[6]),d=n[7],d&&(e[7]=d),r&$&&(e[8]=e[8]==null?n[8]:We(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=o,e}function gd(e){var n=[];if(e!=null)for(var t in ue(e))n.push(t);return n}function vd(e){return Dr.call(e)}function Rl(e,n,t){return n=Fe(n===i?e.length-1:n,0),function(){for(var r=arguments,o=-1,l=Fe(r.length-n,0),f=g(l);++o<l;)f[o]=r[n+o];o=-1;for(var d=g(n+1);++o<n;)d[o]=r[o];return d[n]=t(f),Je(e,this,d)}}function Ol(e,n){return n.length<2?e:bt(e,cn(n,0,-1))}function md(e,n){for(var t=e.length,r=We(n.length,t),o=Ke(e);r--;){var l=n[r];e[r]=$n(l,t)?o[l]:i}return e}function ho(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Tl=Ml(nl),ur=Oc||function(e,n){return Le.setTimeout(e,n)},go=Ml(Pf);function jl(e,n,t){var r=n+"";return go(e,ad(r,_d(od(r),t)))}function Ml(e){var n=0,t=0;return function(){var r=Lc(),o=Ce-(r-t);if(t=r,o>0){if(++n>=Cn)return arguments[0]}else n=0;return e.apply(i,arguments)}}function Xr(e,n){var t=-1,r=e.length,o=r-1;for(n=n===i?r:n;++t<n;){var l=Xi(t,o),f=e[l];e[l]=e[t],e[t]=f}return e.length=n,e}var Ll=pd(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(su,function(t,r,o,l){n.push(o?l.replace(hu,"$1"):r||t)}),n});function Fn(e){if(typeof e=="string"||en(e))return e;var n=e+"";return n=="0"&&1/e==-hn?"-0":n}function St(e){if(e!=null){try{return Cr.call(e)}catch{}try{return e+""}catch{}}return""}function _d(e,n){return sn(Ot,function(t){var r="_."+t[0];n&t[1]&&!wr(e,r)&&e.push(r)}),e.sort()}function Ul(e){if(e instanceof te)return e.clone();var n=new an(e.__wrapped__,e.__chain__);return n.__actions__=Ke(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function xd(e,n,t){(t?Ne(e,n,t):n===i)?n=1:n=Fe(J(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var o=0,l=0,f=g(Tr(r/n));o<r;)f[l++]=cn(e,o,o+=n);return f}function wd(e){for(var n=-1,t=e==null?0:e.length,r=0,o=[];++n<t;){var l=e[n];l&&(o[r++]=l)}return o}function yd(){var e=arguments.length;if(!e)return[];for(var n=g(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return rt(Z(t)?Ke(t):[t],Ue(n,1))}var bd=V(function(e,n){return ye(e)?rr(e,Ue(n,1,ye,!0)):[]}),Ad=V(function(e,n){var t=fn(n);return ye(t)&&(t=i),ye(e)?rr(e,Ue(n,1,ye,!0),z(t,2)):[]}),Sd=V(function(e,n){var t=fn(n);return ye(t)&&(t=i),ye(e)?rr(e,Ue(n,1,ye,!0),i,t):[]});function Cd(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===i?1:J(n),cn(e,n<0?0:n,r)):[]}function Dd(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===i?1:J(n),n=r-n,cn(e,0,n<0?0:n)):[]}function Ed(e,n){return e&&e.length?Br(e,z(n,3),!0,!0):[]}function Id(e,n){return e&&e.length?Br(e,z(n,3),!0):[]}function Fd(e,n,t,r){var o=e==null?0:e.length;return o?(t&&typeof t!="number"&&Ne(e,n,t)&&(t=0,r=o),yf(e,n,t,r)):[]}function kl(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=t==null?0:J(t);return o<0&&(o=Fe(r+o,0)),yr(e,z(n,3),o)}function Wl(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return t!==i&&(o=J(t),o=t<0?Fe(r+o,0):We(o,r-1)),yr(e,z(n,3),o,!0)}function zl(e){var n=e==null?0:e.length;return n?Ue(e,1):[]}function Rd(e){var n=e==null?0:e.length;return n?Ue(e,hn):[]}function Od(e,n){var t=e==null?0:e.length;return t?(n=n===i?1:J(n),Ue(e,n)):[]}function Td(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var o=e[n];r[o[0]]=o[1]}return r}function Pl(e){return e&&e.length?e[0]:i}function jd(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=t==null?0:J(t);return o<0&&(o=Fe(r+o,0)),Mt(e,n,o)}function Md(e){var n=e==null?0:e.length;return n?cn(e,0,-1):[]}var Ld=V(function(e){var n=ge(e,no);return n.length&&n[0]===e[0]?Hi(n):[]}),Ud=V(function(e){var n=fn(e),t=ge(e,no);return n===fn(t)?n=i:t.pop(),t.length&&t[0]===e[0]?Hi(t,z(n,2)):[]}),kd=V(function(e){var n=fn(e),t=ge(e,no);return n=typeof n=="function"?n:i,n&&t.pop(),t.length&&t[0]===e[0]?Hi(t,i,n):[]});function Wd(e,n){return e==null?"":jc.call(e,n)}function fn(e){var n=e==null?0:e.length;return n?e[n-1]:i}function zd(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=r;return t!==i&&(o=J(t),o=o<0?Fe(r+o,0):We(o,r-1)),n===n?mc(e,n,o):yr(e,ws,o,!0)}function Pd(e,n){return e&&e.length?Js(e,J(n)):i}var Nd=V(Nl);function Nl(e,n){return e&&e.length&&n&&n.length?Zi(e,n):e}function Bd(e,n,t){return e&&e.length&&n&&n.length?Zi(e,n,z(t,2)):e}function $d(e,n,t){return e&&e.length&&n&&n.length?Zi(e,n,i,t):e}var Gd=Bn(function(e,n){var t=e==null?0:e.length,r=Ni(e,n);return el(e,ge(n,function(o){return $n(o,t)?+o:o}).sort(cl)),r});function Hd(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,o=[],l=e.length;for(n=z(n,3);++r<l;){var f=e[r];n(f,r,e)&&(t.push(f),o.push(r))}return el(e,o),t}function vo(e){return e==null?e:kc.call(e)}function qd(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&Ne(e,n,t)?(n=0,t=r):(n=n==null?0:J(n),t=t===i?r:J(t)),cn(e,n,t)):[]}function Kd(e,n){return Nr(e,n)}function Yd(e,n,t){return Qi(e,n,z(t,2))}function Zd(e,n){var t=e==null?0:e.length;if(t){var r=Nr(e,n);if(r<t&&bn(e[r],n))return r}return-1}function Xd(e,n){return Nr(e,n,!0)}function Jd(e,n,t){return Qi(e,n,z(t,2),!0)}function Qd(e,n){var t=e==null?0:e.length;if(t){var r=Nr(e,n,!0)-1;if(bn(e[r],n))return r}return-1}function Vd(e){return e&&e.length?tl(e):[]}function ep(e,n){return e&&e.length?tl(e,z(n,2)):[]}function np(e){var n=e==null?0:e.length;return n?cn(e,1,n):[]}function tp(e,n,t){return e&&e.length?(n=t||n===i?1:J(n),cn(e,0,n<0?0:n)):[]}function rp(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===i?1:J(n),n=r-n,cn(e,n<0?0:n,r)):[]}function ip(e,n){return e&&e.length?Br(e,z(n,3),!1,!0):[]}function op(e,n){return e&&e.length?Br(e,z(n,3)):[]}var sp=V(function(e){return lt(Ue(e,1,ye,!0))}),lp=V(function(e){var n=fn(e);return ye(n)&&(n=i),lt(Ue(e,1,ye,!0),z(n,2))}),ap=V(function(e){var n=fn(e);return n=typeof n=="function"?n:i,lt(Ue(e,1,ye,!0),i,n)});function up(e){return e&&e.length?lt(e):[]}function cp(e,n){return e&&e.length?lt(e,z(n,2)):[]}function fp(e,n){return n=typeof n=="function"?n:i,e&&e.length?lt(e,i,n):[]}function mo(e){if(!(e&&e.length))return[];var n=0;return e=tt(e,function(t){if(ye(t))return n=Fe(t.length,n),!0}),ji(n,function(t){return ge(e,Ri(t))})}function Bl(e,n){if(!(e&&e.length))return[];var t=mo(e);return n==null?t:ge(t,function(r){return Je(n,i,r)})}var dp=V(function(e,n){return ye(e)?rr(e,n):[]}),pp=V(function(e){return eo(tt(e,ye))}),hp=V(function(e){var n=fn(e);return ye(n)&&(n=i),eo(tt(e,ye),z(n,2))}),gp=V(function(e){var n=fn(e);return n=typeof n=="function"?n:i,eo(tt(e,ye),i,n)}),vp=V(mo);function mp(e,n){return sl(e||[],n||[],tr)}function _p(e,n){return sl(e||[],n||[],sr)}var xp=V(function(e){var n=e.length,t=n>1?e[n-1]:i;return t=typeof t=="function"?(e.pop(),t):i,Bl(e,t)});function $l(e){var n=s(e);return n.__chain__=!0,n}function wp(e,n){return n(e),e}function Jr(e,n){return n(e)}var yp=Bn(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,o=function(l){return Ni(l,e)};return n>1||this.__actions__.length||!(r instanceof te)||!$n(t)?this.thru(o):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:Jr,args:[o],thisArg:i}),new an(r,this.__chain__).thru(function(l){return n&&!l.length&&l.push(i),l}))});function bp(){return $l(this)}function Ap(){return new an(this.value(),this.__chain__)}function Sp(){this.__values__===i&&(this.__values__=ra(this.value()));var e=this.__index__>=this.__values__.length,n=e?i:this.__values__[this.__index__++];return{done:e,value:n}}function Cp(){return this}function Dp(e){for(var n,t=this;t instanceof Ur;){var r=Ul(t);r.__index__=0,r.__values__=i,n?o.__wrapped__=r:n=r;var o=r;t=t.__wrapped__}return o.__wrapped__=e,n}function Ep(){var e=this.__wrapped__;if(e instanceof te){var n=e;return this.__actions__.length&&(n=new te(this)),n=n.reverse(),n.__actions__.push({func:Jr,args:[vo],thisArg:i}),new an(n,this.__chain__)}return this.thru(vo)}function Ip(){return ol(this.__wrapped__,this.__actions__)}var Fp=$r(function(e,n,t){ae.call(e,t)?++e[t]:Pn(e,t,1)});function Rp(e,n,t){var r=Z(e)?_s:wf;return t&&Ne(e,n,t)&&(n=i),r(e,z(n,3))}function Op(e,n){var t=Z(e)?tt:Bs;return t(e,z(n,3))}var Tp=vl(kl),jp=vl(Wl);function Mp(e,n){return Ue(Qr(e,n),1)}function Lp(e,n){return Ue(Qr(e,n),hn)}function Up(e,n,t){return t=t===i?1:J(t),Ue(Qr(e,n),t)}function Gl(e,n){var t=Z(e)?sn:st;return t(e,z(n,3))}function Hl(e,n){var t=Z(e)?ec:Ns;return t(e,z(n,3))}var kp=$r(function(e,n,t){ae.call(e,t)?e[t].push(n):Pn(e,t,[n])});function Wp(e,n,t,r){e=Ye(e)?e:qt(e),t=t&&!r?J(t):0;var o=e.length;return t<0&&(t=Fe(o+t,0)),ri(e)?t<=o&&e.indexOf(n,t)>-1:!!o&&Mt(e,n,t)>-1}var zp=V(function(e,n,t){var r=-1,o=typeof n=="function",l=Ye(e)?g(e.length):[];return st(e,function(f){l[++r]=o?Je(n,f,t):ir(f,n,t)}),l}),Pp=$r(function(e,n,t){Pn(e,t,n)});function Qr(e,n){var t=Z(e)?ge:Ys;return t(e,z(n,3))}function Np(e,n,t,r){return e==null?[]:(Z(n)||(n=n==null?[]:[n]),t=r?i:t,Z(t)||(t=t==null?[]:[t]),Qs(e,n,t))}var Bp=$r(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function $p(e,n,t){var r=Z(e)?Ii:bs,o=arguments.length<3;return r(e,z(n,4),t,o,st)}function Gp(e,n,t){var r=Z(e)?nc:bs,o=arguments.length<3;return r(e,z(n,4),t,o,Ns)}function Hp(e,n){var t=Z(e)?tt:Bs;return t(e,ni(z(n,3)))}function qp(e){var n=Z(e)?ks:Wf;return n(e)}function Kp(e,n,t){(t?Ne(e,n,t):n===i)?n=1:n=J(n);var r=Z(e)?gf:zf;return r(e,n)}function Yp(e){var n=Z(e)?vf:Nf;return n(e)}function Zp(e){if(e==null)return 0;if(Ye(e))return ri(e)?Ut(e):e.length;var n=ze(e);return n==Se||n==D?e.size:Ki(e).length}function Xp(e,n,t){var r=Z(e)?Fi:Bf;return t&&Ne(e,n,t)&&(n=i),r(e,z(n,3))}var Jp=V(function(e,n){if(e==null)return[];var t=n.length;return t>1&&Ne(e,n[0],n[1])?n=[]:t>2&&Ne(n[0],n[1],n[2])&&(n=[n[0]]),Qs(e,Ue(n,1),[])}),Vr=Rc||function(){return Le.Date.now()};function Qp(e,n){if(typeof n!="function")throw new ln(x);return e=J(e),function(){if(--e<1)return n.apply(this,arguments)}}function ql(e,n,t){return n=t?i:n,n=e&&n==null?e.length:n,Nn(e,$,i,i,i,i,n)}function Kl(e,n){var t;if(typeof n!="function")throw new ln(x);return e=J(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=i),t}}var _o=V(function(e,n,t){var r=L;if(t.length){var o=it(t,Gt(_o));r|=U}return Nn(e,r,n,t,o)}),Yl=V(function(e,n,t){var r=L|W;if(t.length){var o=it(t,Gt(Yl));r|=U}return Nn(n,r,e,t,o)});function Zl(e,n,t){n=t?i:n;var r=Nn(e,F,i,i,i,i,i,n);return r.placeholder=Zl.placeholder,r}function Xl(e,n,t){n=t?i:n;var r=Nn(e,K,i,i,i,i,i,n);return r.placeholder=Xl.placeholder,r}function Jl(e,n,t){var r,o,l,f,d,h,w=0,y=!1,S=!1,E=!0;if(typeof e!="function")throw new ln(x);n=dn(n)||0,ve(t)&&(y=!!t.leading,S="maxWait"in t,l=S?Fe(dn(t.maxWait)||0,n):l,E="trailing"in t?!!t.trailing:E);function M(be){var An=r,qn=o;return r=o=i,w=be,f=e.apply(qn,An),f}function P(be){return w=be,d=ur(ne,n),y?M(be):f}function Q(be){var An=be-h,qn=be-w,va=n-An;return S?We(va,l-qn):va}function N(be){var An=be-h,qn=be-w;return h===i||An>=n||An<0||S&&qn>=l}function ne(){var be=Vr();if(N(be))return re(be);d=ur(ne,Q(be))}function re(be){return d=i,E&&r?M(be):(r=o=i,f)}function nn(){d!==i&&ll(d),w=0,r=h=o=d=i}function Be(){return d===i?f:re(Vr())}function tn(){var be=Vr(),An=N(be);if(r=arguments,o=this,h=be,An){if(d===i)return P(h);if(S)return ll(d),d=ur(ne,n),M(h)}return d===i&&(d=ur(ne,n)),f}return tn.cancel=nn,tn.flush=Be,tn}var Vp=V(function(e,n){return Ps(e,1,n)}),eh=V(function(e,n,t){return Ps(e,dn(n)||0,t)});function nh(e){return Nn(e,fe)}function ei(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new ln(x);var t=function(){var r=arguments,o=n?n.apply(this,r):r[0],l=t.cache;if(l.has(o))return l.get(o);var f=e.apply(this,r);return t.cache=l.set(o,f)||l,f};return t.cache=new(ei.Cache||zn),t}ei.Cache=zn;function ni(e){if(typeof e!="function")throw new ln(x);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function th(e){return Kl(2,e)}var rh=$f(function(e,n){n=n.length==1&&Z(n[0])?ge(n[0],Qe(z())):ge(Ue(n,1),Qe(z()));var t=n.length;return V(function(r){for(var o=-1,l=We(r.length,t);++o<l;)r[o]=n[o].call(this,r[o]);return Je(e,this,r)})}),xo=V(function(e,n){var t=it(n,Gt(xo));return Nn(e,U,i,n,t)}),Ql=V(function(e,n){var t=it(n,Gt(Ql));return Nn(e,ee,i,n,t)}),ih=Bn(function(e,n){return Nn(e,se,i,i,i,n)});function oh(e,n){if(typeof e!="function")throw new ln(x);return n=n===i?n:J(n),V(e,n)}function sh(e,n){if(typeof e!="function")throw new ln(x);return n=n==null?0:Fe(J(n),0),V(function(t){var r=t[n],o=ut(t,0,n);return r&&rt(o,r),Je(e,this,o)})}function lh(e,n,t){var r=!0,o=!0;if(typeof e!="function")throw new ln(x);return ve(t)&&(r="leading"in t?!!t.leading:r,o="trailing"in t?!!t.trailing:o),Jl(e,n,{leading:r,maxWait:n,trailing:o})}function ah(e){return ql(e,1)}function uh(e,n){return xo(to(n),e)}function ch(){if(!arguments.length)return[];var e=arguments[0];return Z(e)?e:[e]}function fh(e){return un(e,q)}function dh(e,n){return n=typeof n=="function"?n:i,un(e,q,n)}function ph(e){return un(e,k|q)}function hh(e,n){return n=typeof n=="function"?n:i,un(e,k|q,n)}function gh(e,n){return n==null||zs(e,n,Oe(n))}function bn(e,n){return e===n||e!==e&&n!==n}var vh=Kr(Gi),mh=Kr(function(e,n){return e>=n}),Ct=Hs(function(){return arguments}())?Hs:function(e){return xe(e)&&ae.call(e,"callee")&&!Os.call(e,"callee")},Z=g.isArray,_h=ds?Qe(ds):Df;function Ye(e){return e!=null&&ti(e.length)&&!Gn(e)}function ye(e){return xe(e)&&Ye(e)}function xh(e){return e===!0||e===!1||xe(e)&&Pe(e)==rn}var ct=Tc||Ro,wh=ps?Qe(ps):Ef;function yh(e){return xe(e)&&e.nodeType===1&&!cr(e)}function bh(e){if(e==null)return!0;if(Ye(e)&&(Z(e)||typeof e=="string"||typeof e.splice=="function"||ct(e)||Ht(e)||Ct(e)))return!e.length;var n=ze(e);if(n==Se||n==D)return!e.size;if(ar(e))return!Ki(e).length;for(var t in e)if(ae.call(e,t))return!1;return!0}function Ah(e,n){return or(e,n)}function Sh(e,n,t){t=typeof t=="function"?t:i;var r=t?t(e,n):i;return r===i?or(e,n,i,t):!!r}function wo(e){if(!xe(e))return!1;var n=Pe(e);return n==mn||n==et||typeof e.message=="string"&&typeof e.name=="string"&&!cr(e)}function Ch(e){return typeof e=="number"&&js(e)}function Gn(e){if(!ve(e))return!1;var n=Pe(e);return n==Ln||n==nt||n==Mn||n==pi}function Vl(e){return typeof e=="number"&&e==J(e)}function ti(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ge}function ve(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function xe(e){return e!=null&&typeof e=="object"}var ea=hs?Qe(hs):Ff;function Dh(e,n){return e===n||qi(e,n,uo(n))}function Eh(e,n,t){return t=typeof t=="function"?t:i,qi(e,n,uo(n),t)}function Ih(e){return na(e)&&e!=+e}function Fh(e){if(dd(e))throw new Y(A);return qs(e)}function Rh(e){return e===null}function Oh(e){return e==null}function na(e){return typeof e=="number"||xe(e)&&Pe(e)==_n}function cr(e){if(!xe(e)||Pe(e)!=qe)return!1;var n=Fr(e);if(n===null)return!0;var t=ae.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Cr.call(t)==Dc}var yo=gs?Qe(gs):Rf;function Th(e){return Vl(e)&&e>=-Ge&&e<=Ge}var ta=vs?Qe(vs):Of;function ri(e){return typeof e=="string"||!Z(e)&&xe(e)&&Pe(e)==X}function en(e){return typeof e=="symbol"||xe(e)&&Pe(e)==pe}var Ht=ms?Qe(ms):Tf;function jh(e){return e===i}function Mh(e){return xe(e)&&ze(e)==Ee}function Lh(e){return xe(e)&&Pe(e)==ht}var Uh=Kr(Yi),kh=Kr(function(e,n){return e<=n});function ra(e){if(!e)return[];if(Ye(e))return ri(e)?wn(e):Ke(e);if(Jt&&e[Jt])return hc(e[Jt]());var n=ze(e),t=n==Se?Li:n==D?br:qt;return t(e)}function Hn(e){if(!e)return e===0?e:0;if(e=dn(e),e===hn||e===-hn){var n=e<0?-1:1;return n*Qn}return e===e?e:0}function J(e){var n=Hn(e),t=n%1;return n===n?t?n-t:n:0}function ia(e){return e?yt(J(e),0,Re):0}function dn(e){if(typeof e=="number")return e;if(en(e))return Vn;if(ve(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=ve(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=As(e);var t=mu.test(e);return t||xu.test(e)?Ju(e.slice(2),t?2:8):vu.test(e)?Vn:+e}function oa(e){return In(e,Ze(e))}function Wh(e){return e?yt(J(e),-Ge,Ge):e===0?e:0}function le(e){return e==null?"":Ve(e)}var zh=Bt(function(e,n){if(ar(n)||Ye(n)){In(n,Oe(n),e);return}for(var t in n)ae.call(n,t)&&tr(e,t,n[t])}),sa=Bt(function(e,n){In(n,Ze(n),e)}),ii=Bt(function(e,n,t,r){In(n,Ze(n),e,r)}),Ph=Bt(function(e,n,t,r){In(n,Oe(n),e,r)}),Nh=Bn(Ni);function Bh(e,n){var t=Nt(e);return n==null?t:Ws(t,n)}var $h=V(function(e,n){e=ue(e);var t=-1,r=n.length,o=r>2?n[2]:i;for(o&&Ne(n[0],n[1],o)&&(r=1);++t<r;)for(var l=n[t],f=Ze(l),d=-1,h=f.length;++d<h;){var w=f[d],y=e[w];(y===i||bn(y,Wt[w])&&!ae.call(e,w))&&(e[w]=l[w])}return e}),Gh=V(function(e){return e.push(i,Al),Je(la,i,e)});function Hh(e,n){return xs(e,z(n,3),En)}function qh(e,n){return xs(e,z(n,3),$i)}function Kh(e,n){return e==null?e:Bi(e,z(n,3),Ze)}function Yh(e,n){return e==null?e:$s(e,z(n,3),Ze)}function Zh(e,n){return e&&En(e,z(n,3))}function Xh(e,n){return e&&$i(e,z(n,3))}function Jh(e){return e==null?[]:zr(e,Oe(e))}function Qh(e){return e==null?[]:zr(e,Ze(e))}function bo(e,n,t){var r=e==null?i:bt(e,n);return r===i?t:r}function Vh(e,n){return e!=null&&Dl(e,n,bf)}function Ao(e,n){return e!=null&&Dl(e,n,Af)}var eg=_l(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Dr.call(n)),e[n]=t},Co(Xe)),ng=_l(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Dr.call(n)),ae.call(e,n)?e[n].push(t):e[n]=[t]},z),tg=V(ir);function Oe(e){return Ye(e)?Us(e):Ki(e)}function Ze(e){return Ye(e)?Us(e,!0):jf(e)}function rg(e,n){var t={};return n=z(n,3),En(e,function(r,o,l){Pn(t,n(r,o,l),r)}),t}function ig(e,n){var t={};return n=z(n,3),En(e,function(r,o,l){Pn(t,o,n(r,o,l))}),t}var og=Bt(function(e,n,t){Pr(e,n,t)}),la=Bt(function(e,n,t,r){Pr(e,n,t,r)}),sg=Bn(function(e,n){var t={};if(e==null)return t;var r=!1;n=ge(n,function(l){return l=at(l,e),r||(r=l.length>1),l}),In(e,lo(e),t),r&&(t=un(t,k|B|q,ed));for(var o=n.length;o--;)Vi(t,n[o]);return t});function lg(e,n){return aa(e,ni(z(n)))}var ag=Bn(function(e,n){return e==null?{}:Lf(e,n)});function aa(e,n){if(e==null)return{};var t=ge(lo(e),function(r){return[r]});return n=z(n),Vs(e,t,function(r,o){return n(r,o[0])})}function ug(e,n,t){n=at(n,e);var r=-1,o=n.length;for(o||(o=1,e=i);++r<o;){var l=e==null?i:e[Fn(n[r])];l===i&&(r=o,l=t),e=Gn(l)?l.call(e):l}return e}function cg(e,n,t){return e==null?e:sr(e,n,t)}function fg(e,n,t,r){return r=typeof r=="function"?r:i,e==null?e:sr(e,n,t,r)}var ua=yl(Oe),ca=yl(Ze);function dg(e,n,t){var r=Z(e),o=r||ct(e)||Ht(e);if(n=z(n,4),t==null){var l=e&&e.constructor;o?t=r?new l:[]:ve(e)?t=Gn(l)?Nt(Fr(e)):{}:t={}}return(o?sn:En)(e,function(f,d,h){return n(t,f,d,h)}),t}function pg(e,n){return e==null?!0:Vi(e,n)}function hg(e,n,t){return e==null?e:il(e,n,to(t))}function gg(e,n,t,r){return r=typeof r=="function"?r:i,e==null?e:il(e,n,to(t),r)}function qt(e){return e==null?[]:Mi(e,Oe(e))}function vg(e){return e==null?[]:Mi(e,Ze(e))}function mg(e,n,t){return t===i&&(t=n,n=i),t!==i&&(t=dn(t),t=t===t?t:0),n!==i&&(n=dn(n),n=n===n?n:0),yt(dn(e),n,t)}function _g(e,n,t){return n=Hn(n),t===i?(t=n,n=0):t=Hn(t),e=dn(e),Sf(e,n,t)}function xg(e,n,t){if(t&&typeof t!="boolean"&&Ne(e,n,t)&&(n=t=i),t===i&&(typeof n=="boolean"?(t=n,n=i):typeof e=="boolean"&&(t=e,e=i)),e===i&&n===i?(e=0,n=1):(e=Hn(e),n===i?(n=e,e=0):n=Hn(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var o=Ms();return We(e+o*(n-e+Xu("1e-"+((o+"").length-1))),n)}return Xi(e,n)}var wg=$t(function(e,n,t){return n=n.toLowerCase(),e+(t?fa(n):n)});function fa(e){return So(le(e).toLowerCase())}function da(e){return e=le(e),e&&e.replace(yu,uc).replace(Pu,"")}function yg(e,n,t){e=le(e),n=Ve(n);var r=e.length;t=t===i?r:yt(J(t),0,r);var o=t;return t-=n.length,t>=0&&e.slice(t,o)==n}function bg(e){return e=le(e),e&&nu.test(e)?e.replace($o,cc):e}function Ag(e){return e=le(e),e&&lu.test(e)?e.replace(_i,"\\$&"):e}var Sg=$t(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),Cg=$t(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),Dg=gl("toLowerCase");function Eg(e,n,t){e=le(e),n=J(n);var r=n?Ut(e):0;if(!n||r>=n)return e;var o=(n-r)/2;return qr(jr(o),t)+e+qr(Tr(o),t)}function Ig(e,n,t){e=le(e),n=J(n);var r=n?Ut(e):0;return n&&r<n?e+qr(n-r,t):e}function Fg(e,n,t){e=le(e),n=J(n);var r=n?Ut(e):0;return n&&r<n?qr(n-r,t)+e:e}function Rg(e,n,t){return t||n==null?n=0:n&&(n=+n),Uc(le(e).replace(xi,""),n||0)}function Og(e,n,t){return(t?Ne(e,n,t):n===i)?n=1:n=J(n),Ji(le(e),n)}function Tg(){var e=arguments,n=le(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var jg=$t(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function Mg(e,n,t){return t&&typeof t!="number"&&Ne(e,n,t)&&(n=t=i),t=t===i?Re:t>>>0,t?(e=le(e),e&&(typeof n=="string"||n!=null&&!yo(n))&&(n=Ve(n),!n&&Lt(e))?ut(wn(e),0,t):e.split(n,t)):[]}var Lg=$t(function(e,n,t){return e+(t?" ":"")+So(n)});function Ug(e,n,t){return e=le(e),t=t==null?0:yt(J(t),0,e.length),n=Ve(n),e.slice(t,t+n.length)==n}function kg(e,n,t){var r=s.templateSettings;t&&Ne(e,n,t)&&(n=i),e=le(e),n=ii({},n,r,bl);var o=ii({},n.imports,r.imports,bl),l=Oe(o),f=Mi(o,l),d,h,w=0,y=n.interpolate||mr,S="__p += '",E=Ui((n.escape||mr).source+"|"+y.source+"|"+(y===Go?gu:mr).source+"|"+(n.evaluate||mr).source+"|$","g"),M="//# sourceURL="+(ae.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Hu+"]")+`
`;e.replace(E,function(N,ne,re,nn,Be,tn){return re||(re=nn),S+=e.slice(w,tn).replace(bu,fc),ne&&(d=!0,S+=`' +
__e(`+ne+`) +
'`),Be&&(h=!0,S+=`';
`+Be+`;
__p += '`),re&&(S+=`' +
((__t = (`+re+`)) == null ? '' : __t) +
'`),w=tn+N.length,N}),S+=`';
`;var P=ae.call(n,"variable")&&n.variable;if(!P)S=`with (obj) {
`+S+`
}
`;else if(pu.test(P))throw new Y(b);S=(h?S.replace(Ja,""):S).replace(Qa,"$1").replace(Va,"$1;"),S="function("+(P||"obj")+`) {
`+(P?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(d?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+S+`return __p
}`;var Q=ha(function(){return ie(l,M+"return "+S).apply(i,f)});if(Q.source=S,wo(Q))throw Q;return Q}function Wg(e){return le(e).toLowerCase()}function zg(e){return le(e).toUpperCase()}function Pg(e,n,t){if(e=le(e),e&&(t||n===i))return As(e);if(!e||!(n=Ve(n)))return e;var r=wn(e),o=wn(n),l=Ss(r,o),f=Cs(r,o)+1;return ut(r,l,f).join("")}function Ng(e,n,t){if(e=le(e),e&&(t||n===i))return e.slice(0,Es(e)+1);if(!e||!(n=Ve(n)))return e;var r=wn(e),o=Cs(r,wn(n))+1;return ut(r,0,o).join("")}function Bg(e,n,t){if(e=le(e),e&&(t||n===i))return e.replace(xi,"");if(!e||!(n=Ve(n)))return e;var r=wn(e),o=Ss(r,wn(n));return ut(r,o).join("")}function $g(e,n){var t=Ae,r=Sn;if(ve(n)){var o="separator"in n?n.separator:o;t="length"in n?J(n.length):t,r="omission"in n?Ve(n.omission):r}e=le(e);var l=e.length;if(Lt(e)){var f=wn(e);l=f.length}if(t>=l)return e;var d=t-Ut(r);if(d<1)return r;var h=f?ut(f,0,d).join(""):e.slice(0,d);if(o===i)return h+r;if(f&&(d+=h.length-d),yo(o)){if(e.slice(d).search(o)){var w,y=h;for(o.global||(o=Ui(o.source,le(Ho.exec(o))+"g")),o.lastIndex=0;w=o.exec(y);)var S=w.index;h=h.slice(0,S===i?d:S)}}else if(e.indexOf(Ve(o),d)!=d){var E=h.lastIndexOf(o);E>-1&&(h=h.slice(0,E))}return h+r}function Gg(e){return e=le(e),e&&eu.test(e)?e.replace(Bo,_c):e}var Hg=$t(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),So=gl("toUpperCase");function pa(e,n,t){return e=le(e),n=t?i:n,n===i?pc(e)?yc(e):ic(e):e.match(n)||[]}var ha=V(function(e,n){try{return Je(e,i,n)}catch(t){return wo(t)?t:new Y(t)}}),qg=Bn(function(e,n){return sn(n,function(t){t=Fn(t),Pn(e,t,_o(e[t],e))}),e});function Kg(e){var n=e==null?0:e.length,t=z();return e=n?ge(e,function(r){if(typeof r[1]!="function")throw new ln(x);return[t(r[0]),r[1]]}):[],V(function(r){for(var o=-1;++o<n;){var l=e[o];if(Je(l[0],this,r))return Je(l[1],this,r)}})}function Yg(e){return xf(un(e,k))}function Co(e){return function(){return e}}function Zg(e,n){return e==null||e!==e?n:e}var Xg=ml(),Jg=ml(!0);function Xe(e){return e}function Do(e){return Ks(typeof e=="function"?e:un(e,k))}function Qg(e){return Zs(un(e,k))}function Vg(e,n){return Xs(e,un(n,k))}var ev=V(function(e,n){return function(t){return ir(t,e,n)}}),nv=V(function(e,n){return function(t){return ir(e,t,n)}});function Eo(e,n,t){var r=Oe(n),o=zr(n,r);t==null&&!(ve(n)&&(o.length||!r.length))&&(t=n,n=e,e=this,o=zr(n,Oe(n)));var l=!(ve(t)&&"chain"in t)||!!t.chain,f=Gn(e);return sn(o,function(d){var h=n[d];e[d]=h,f&&(e.prototype[d]=function(){var w=this.__chain__;if(l||w){var y=e(this.__wrapped__),S=y.__actions__=Ke(this.__actions__);return S.push({func:h,args:arguments,thisArg:e}),y.__chain__=w,y}return h.apply(e,rt([this.value()],arguments))})}),e}function tv(){return Le._===this&&(Le._=Ec),this}function Io(){}function rv(e){return e=J(e),V(function(n){return Js(n,e)})}var iv=io(ge),ov=io(_s),sv=io(Fi);function ga(e){return fo(e)?Ri(Fn(e)):Uf(e)}function lv(e){return function(n){return e==null?i:bt(e,n)}}var av=xl(),uv=xl(!0);function Fo(){return[]}function Ro(){return!1}function cv(){return{}}function fv(){return""}function dv(){return!0}function pv(e,n){if(e=J(e),e<1||e>Ge)return[];var t=Re,r=We(e,Re);n=z(n),e-=Re;for(var o=ji(r,n);++t<e;)n(t);return o}function hv(e){return Z(e)?ge(e,Fn):en(e)?[e]:Ke(Ll(le(e)))}function gv(e){var n=++Cc;return le(e)+n}var vv=Hr(function(e,n){return e+n},0),mv=oo("ceil"),_v=Hr(function(e,n){return e/n},1),xv=oo("floor");function wv(e){return e&&e.length?Wr(e,Xe,Gi):i}function yv(e,n){return e&&e.length?Wr(e,z(n,2),Gi):i}function bv(e){return ys(e,Xe)}function Av(e,n){return ys(e,z(n,2))}function Sv(e){return e&&e.length?Wr(e,Xe,Yi):i}function Cv(e,n){return e&&e.length?Wr(e,z(n,2),Yi):i}var Dv=Hr(function(e,n){return e*n},1),Ev=oo("round"),Iv=Hr(function(e,n){return e-n},0);function Fv(e){return e&&e.length?Ti(e,Xe):0}function Rv(e,n){return e&&e.length?Ti(e,z(n,2)):0}return s.after=Qp,s.ary=ql,s.assign=zh,s.assignIn=sa,s.assignInWith=ii,s.assignWith=Ph,s.at=Nh,s.before=Kl,s.bind=_o,s.bindAll=qg,s.bindKey=Yl,s.castArray=ch,s.chain=$l,s.chunk=xd,s.compact=wd,s.concat=yd,s.cond=Kg,s.conforms=Yg,s.constant=Co,s.countBy=Fp,s.create=Bh,s.curry=Zl,s.curryRight=Xl,s.debounce=Jl,s.defaults=$h,s.defaultsDeep=Gh,s.defer=Vp,s.delay=eh,s.difference=bd,s.differenceBy=Ad,s.differenceWith=Sd,s.drop=Cd,s.dropRight=Dd,s.dropRightWhile=Ed,s.dropWhile=Id,s.fill=Fd,s.filter=Op,s.flatMap=Mp,s.flatMapDeep=Lp,s.flatMapDepth=Up,s.flatten=zl,s.flattenDeep=Rd,s.flattenDepth=Od,s.flip=nh,s.flow=Xg,s.flowRight=Jg,s.fromPairs=Td,s.functions=Jh,s.functionsIn=Qh,s.groupBy=kp,s.initial=Md,s.intersection=Ld,s.intersectionBy=Ud,s.intersectionWith=kd,s.invert=eg,s.invertBy=ng,s.invokeMap=zp,s.iteratee=Do,s.keyBy=Pp,s.keys=Oe,s.keysIn=Ze,s.map=Qr,s.mapKeys=rg,s.mapValues=ig,s.matches=Qg,s.matchesProperty=Vg,s.memoize=ei,s.merge=og,s.mergeWith=la,s.method=ev,s.methodOf=nv,s.mixin=Eo,s.negate=ni,s.nthArg=rv,s.omit=sg,s.omitBy=lg,s.once=th,s.orderBy=Np,s.over=iv,s.overArgs=rh,s.overEvery=ov,s.overSome=sv,s.partial=xo,s.partialRight=Ql,s.partition=Bp,s.pick=ag,s.pickBy=aa,s.property=ga,s.propertyOf=lv,s.pull=Nd,s.pullAll=Nl,s.pullAllBy=Bd,s.pullAllWith=$d,s.pullAt=Gd,s.range=av,s.rangeRight=uv,s.rearg=ih,s.reject=Hp,s.remove=Hd,s.rest=oh,s.reverse=vo,s.sampleSize=Kp,s.set=cg,s.setWith=fg,s.shuffle=Yp,s.slice=qd,s.sortBy=Jp,s.sortedUniq=Vd,s.sortedUniqBy=ep,s.split=Mg,s.spread=sh,s.tail=np,s.take=tp,s.takeRight=rp,s.takeRightWhile=ip,s.takeWhile=op,s.tap=wp,s.throttle=lh,s.thru=Jr,s.toArray=ra,s.toPairs=ua,s.toPairsIn=ca,s.toPath=hv,s.toPlainObject=oa,s.transform=dg,s.unary=ah,s.union=sp,s.unionBy=lp,s.unionWith=ap,s.uniq=up,s.uniqBy=cp,s.uniqWith=fp,s.unset=pg,s.unzip=mo,s.unzipWith=Bl,s.update=hg,s.updateWith=gg,s.values=qt,s.valuesIn=vg,s.without=dp,s.words=pa,s.wrap=uh,s.xor=pp,s.xorBy=hp,s.xorWith=gp,s.zip=vp,s.zipObject=mp,s.zipObjectDeep=_p,s.zipWith=xp,s.entries=ua,s.entriesIn=ca,s.extend=sa,s.extendWith=ii,Eo(s,s),s.add=vv,s.attempt=ha,s.camelCase=wg,s.capitalize=fa,s.ceil=mv,s.clamp=mg,s.clone=fh,s.cloneDeep=ph,s.cloneDeepWith=hh,s.cloneWith=dh,s.conformsTo=gh,s.deburr=da,s.defaultTo=Zg,s.divide=_v,s.endsWith=yg,s.eq=bn,s.escape=bg,s.escapeRegExp=Ag,s.every=Rp,s.find=Tp,s.findIndex=kl,s.findKey=Hh,s.findLast=jp,s.findLastIndex=Wl,s.findLastKey=qh,s.floor=xv,s.forEach=Gl,s.forEachRight=Hl,s.forIn=Kh,s.forInRight=Yh,s.forOwn=Zh,s.forOwnRight=Xh,s.get=bo,s.gt=vh,s.gte=mh,s.has=Vh,s.hasIn=Ao,s.head=Pl,s.identity=Xe,s.includes=Wp,s.indexOf=jd,s.inRange=_g,s.invoke=tg,s.isArguments=Ct,s.isArray=Z,s.isArrayBuffer=_h,s.isArrayLike=Ye,s.isArrayLikeObject=ye,s.isBoolean=xh,s.isBuffer=ct,s.isDate=wh,s.isElement=yh,s.isEmpty=bh,s.isEqual=Ah,s.isEqualWith=Sh,s.isError=wo,s.isFinite=Ch,s.isFunction=Gn,s.isInteger=Vl,s.isLength=ti,s.isMap=ea,s.isMatch=Dh,s.isMatchWith=Eh,s.isNaN=Ih,s.isNative=Fh,s.isNil=Oh,s.isNull=Rh,s.isNumber=na,s.isObject=ve,s.isObjectLike=xe,s.isPlainObject=cr,s.isRegExp=yo,s.isSafeInteger=Th,s.isSet=ta,s.isString=ri,s.isSymbol=en,s.isTypedArray=Ht,s.isUndefined=jh,s.isWeakMap=Mh,s.isWeakSet=Lh,s.join=Wd,s.kebabCase=Sg,s.last=fn,s.lastIndexOf=zd,s.lowerCase=Cg,s.lowerFirst=Dg,s.lt=Uh,s.lte=kh,s.max=wv,s.maxBy=yv,s.mean=bv,s.meanBy=Av,s.min=Sv,s.minBy=Cv,s.stubArray=Fo,s.stubFalse=Ro,s.stubObject=cv,s.stubString=fv,s.stubTrue=dv,s.multiply=Dv,s.nth=Pd,s.noConflict=tv,s.noop=Io,s.now=Vr,s.pad=Eg,s.padEnd=Ig,s.padStart=Fg,s.parseInt=Rg,s.random=xg,s.reduce=$p,s.reduceRight=Gp,s.repeat=Og,s.replace=Tg,s.result=ug,s.round=Ev,s.runInContext=p,s.sample=qp,s.size=Zp,s.snakeCase=jg,s.some=Xp,s.sortedIndex=Kd,s.sortedIndexBy=Yd,s.sortedIndexOf=Zd,s.sortedLastIndex=Xd,s.sortedLastIndexBy=Jd,s.sortedLastIndexOf=Qd,s.startCase=Lg,s.startsWith=Ug,s.subtract=Iv,s.sum=Fv,s.sumBy=Rv,s.template=kg,s.times=pv,s.toFinite=Hn,s.toInteger=J,s.toLength=ia,s.toLower=Wg,s.toNumber=dn,s.toSafeInteger=Wh,s.toString=le,s.toUpper=zg,s.trim=Pg,s.trimEnd=Ng,s.trimStart=Bg,s.truncate=$g,s.unescape=Gg,s.uniqueId=gv,s.upperCase=Hg,s.upperFirst=So,s.each=Gl,s.eachRight=Hl,s.first=Pl,Eo(s,function(){var e={};return En(s,function(n,t){ae.call(s.prototype,t)||(e[t]=n)}),e}(),{chain:!1}),s.VERSION=v,sn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),sn(["drop","take"],function(e,n){te.prototype[e]=function(t){t=t===i?1:Fe(J(t),0);var r=this.__filtered__&&!n?new te(this):this.clone();return r.__filtered__?r.__takeCount__=We(t,r.__takeCount__):r.__views__.push({size:We(t,Re),type:e+(r.__dir__<0?"Right":"")}),r},te.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),sn(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==je||t==Me;te.prototype[e]=function(o){var l=this.clone();return l.__iteratees__.push({iteratee:z(o,3),type:t}),l.__filtered__=l.__filtered__||r,l}}),sn(["head","last"],function(e,n){var t="take"+(n?"Right":"");te.prototype[e]=function(){return this[t](1).value()[0]}}),sn(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");te.prototype[e]=function(){return this.__filtered__?new te(this):this[t](1)}}),te.prototype.compact=function(){return this.filter(Xe)},te.prototype.find=function(e){return this.filter(e).head()},te.prototype.findLast=function(e){return this.reverse().find(e)},te.prototype.invokeMap=V(function(e,n){return typeof e=="function"?new te(this):this.map(function(t){return ir(t,e,n)})}),te.prototype.reject=function(e){return this.filter(ni(z(e)))},te.prototype.slice=function(e,n){e=J(e);var t=this;return t.__filtered__&&(e>0||n<0)?new te(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==i&&(n=J(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},te.prototype.toArray=function(){return this.take(Re)},En(te.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=s[r?"take"+(n=="last"?"Right":""):n],l=r||/^find/.test(n);o&&(s.prototype[n]=function(){var f=this.__wrapped__,d=r?[1]:arguments,h=f instanceof te,w=d[0],y=h||Z(f),S=function(ne){var re=o.apply(s,rt([ne],d));return r&&E?re[0]:re};y&&t&&typeof w=="function"&&w.length!=1&&(h=y=!1);var E=this.__chain__,M=!!this.__actions__.length,P=l&&!E,Q=h&&!M;if(!l&&y){f=Q?f:new te(this);var N=e.apply(f,d);return N.__actions__.push({func:Jr,args:[S],thisArg:i}),new an(N,E)}return P&&Q?e.apply(this,d):(N=this.thru(S),P?r?N.value()[0]:N.value():N)})}),sn(["pop","push","shift","sort","splice","unshift"],function(e){var n=Ar[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var o=arguments;if(r&&!this.__chain__){var l=this.value();return n.apply(Z(l)?l:[],o)}return this[t](function(f){return n.apply(Z(f)?f:[],o)})}}),En(te.prototype,function(e,n){var t=s[n];if(t){var r=t.name+"";ae.call(Pt,r)||(Pt[r]=[]),Pt[r].push({name:n,func:t})}}),Pt[Gr(i,W).name]=[{name:"wrapper",func:i}],te.prototype.clone=$c,te.prototype.reverse=Gc,te.prototype.value=Hc,s.prototype.at=yp,s.prototype.chain=bp,s.prototype.commit=Ap,s.prototype.next=Sp,s.prototype.plant=Dp,s.prototype.reverse=Ep,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=Ip,s.prototype.first=s.prototype.head,Jt&&(s.prototype[Jt]=Cp),s},kt=bc();mt?((mt.exports=kt)._=kt,Ci._=kt):Le._=kt}).call(fr)})(li,li.exports);var ya=li.exports;const Dm=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function gr(a,u){const i=Em(a);if(typeof i.path!="string"){const{webkitRelativePath:v}=a;Object.defineProperty(i,"path",{value:typeof u=="string"?u:typeof v=="string"&&v.length>0?v:a.name,writable:!1,configurable:!1,enumerable:!0})}return i}function Em(a){const{name:u}=a;if(u&&u.lastIndexOf(".")!==-1&&!a.type){const v=u.split(".").pop().toLowerCase(),_=Dm.get(v);_&&Object.defineProperty(a,"type",{value:_,writable:!1,configurable:!1,enumerable:!0})}return a}var Yt=(a,u,i)=>new Promise((v,_)=>{var A=C=>{try{b(i.next(C))}catch(O){_(O)}},x=C=>{try{b(i.throw(C))}catch(O){_(O)}},b=C=>C.done?v(C.value):Promise.resolve(C.value).then(A,x);b((i=i.apply(a,u)).next())});const Im=[".DS_Store","Thumbs.db"];function Fm(a){return Yt(this,null,function*(){return ai(a)&&Rm(a.dataTransfer)?Mm(a.dataTransfer,a.type):Om(a)?Tm(a):Array.isArray(a)&&a.every(u=>"getFile"in u&&typeof u.getFile=="function")?jm(a):[]})}function Rm(a){return ai(a)}function Om(a){return ai(a)&&ai(a.target)}function ai(a){return typeof a=="object"&&a!==null}function Tm(a){return jo(a.target.files).map(u=>gr(u))}function jm(a){return Yt(this,null,function*(){return(yield Promise.all(a.map(i=>i.getFile()))).map(i=>gr(i))})}function Mm(a,u){return Yt(this,null,function*(){if(a.items){const i=jo(a.items).filter(_=>_.kind==="file");if(u!=="drop")return i;const v=yield Promise.all(i.map(Lm));return ba(Na(v))}return ba(jo(a.files).map(i=>gr(i)))})}function ba(a){return a.filter(u=>Im.indexOf(u.name)===-1)}function jo(a){if(a===null)return[];const u=[];for(let i=0;i<a.length;i++){const v=a[i];u.push(v)}return u}function Lm(a){if(typeof a.webkitGetAsEntry!="function")return Aa(a);const u=a.webkitGetAsEntry();return u&&u.isDirectory?Ba(u):Aa(a)}function Na(a){return a.reduce((u,i)=>[...u,...Array.isArray(i)?Na(i):[i]],[])}function Aa(a){const u=a.getAsFile();if(!u)return Promise.reject(`${a} is not a File`);const i=gr(u);return Promise.resolve(i)}function Um(a){return Yt(this,null,function*(){return a.isDirectory?Ba(a):km(a)})}function Ba(a){const u=a.createReader();return new Promise((i,v)=>{const _=[];function A(){u.readEntries(x=>Yt(this,null,function*(){if(x.length){const b=Promise.all(x.map(Um));_.push(b),A()}else try{const b=yield Promise.all(_);i(b)}catch(b){v(b)}}),x=>{v(x)})}A()})}function km(a){return Yt(this,null,function*(){return new Promise((u,i)=>{a.file(v=>{const _=gr(v,a.fullPath);u(_)},v=>{i(v)})})})}function Wm(a,u){if(a&&u){const i=Array.isArray(u)?u:u.split(","),v=a.name||"",_=(a.type||"").toLowerCase(),A=_.replace(/\/.*$/,"");return i.some(x=>{const b=x.trim().toLowerCase();return b.charAt(0)==="."?v.toLowerCase().endsWith(b):b.endsWith("/*")?A===b.replace(/\/.*$/,""):_===b})}return!0}var zm=Object.defineProperty,Pm=Object.defineProperties,Nm=Object.getOwnPropertyDescriptors,Sa=Object.getOwnPropertySymbols,Bm=Object.prototype.hasOwnProperty,$m=Object.prototype.propertyIsEnumerable,Ca=(a,u,i)=>u in a?zm(a,u,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[u]=i,Gm=(a,u)=>{for(var i in u||(u={}))Bm.call(u,i)&&Ca(a,i,u[i]);if(Sa)for(var i of Sa(u))$m.call(u,i)&&Ca(a,i,u[i]);return a},Hm=(a,u)=>Pm(a,Nm(u));const qm="file-invalid-type",Km="file-too-large",Ym="file-too-small",Zm="too-many-files",Xm=a=>{a=Array.isArray(a)&&a.length===1?a[0]:a;const u=Array.isArray(a)?`one of ${a.join(", ")}`:a;return{code:qm,message:`File type must be ${u}`}},Da=a=>({code:Km,message:`File is larger than ${a} ${a===1?"byte":"bytes"}`}),Ea=a=>({code:Ym,message:`File is smaller than ${a} ${a===1?"byte":"bytes"}`}),Jm={code:Zm,message:"Too many files"};function $a(a,u){const i=a.type==="application/x-moz-file"||Wm(a,u);return[i,i?null:Xm(u)]}function Ga(a,u,i){if(Dt(a.size))if(Dt(u)&&Dt(i)){if(a.size>i)return[!1,Da(i)];if(a.size<u)return[!1,Ea(u)]}else{if(Dt(u)&&a.size<u)return[!1,Ea(u)];if(Dt(i)&&a.size>i)return[!1,Da(i)]}return[!0,null]}function Dt(a){return a!=null}function Qm({files:a,accept:u,minSize:i,maxSize:v,multiple:_,maxFiles:A,validator:x}){return!_&&a.length>1||_&&A>=1&&a.length>A?!1:a.every(b=>{const[C]=$a(b,u),[O]=Ga(b,i,v),G=x?x(b):null;return C&&O&&!G})}function ui(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function si(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,u=>u==="Files"||u==="application/x-moz-file"):!!a.target&&!!a.target.files}function Ia(a){a.preventDefault()}function Vm(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function e_(a){return a.indexOf("Edge/")!==-1}function n_(a=window.navigator.userAgent){return Vm(a)||e_(a)}function Rn(...a){return(u,...i)=>a.some(v=>(!ui(u)&&v&&v(u,...i),ui(u)))}function t_(){return"showOpenFilePicker"in window}function r_(a){return Dt(a)?[{description:"Files",accept:Object.entries(a).filter(([i,v])=>{let _=!0;return Ha(i)||(console.warn(`Skipped "${i}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),_=!1),(!Array.isArray(v)||!v.every(qa))&&(console.warn(`Skipped "${i}" because an invalid file extension was provided.`),_=!1),_}).reduce((i,[v,_])=>Hm(Gm({},i),{[v]:_}),{})}]:a}function i_(a){if(Dt(a))return Object.entries(a).reduce((u,[i,v])=>[...u,i,...v],[]).filter(u=>Ha(u)||qa(u)).join(",")}function o_(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function s_(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function Ha(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||/\w+\/[-+.\w]+/g.test(a)}function qa(a){return/^.*\.[\w]+$/.test(a)}var l_=Object.defineProperty,a_=Object.defineProperties,u_=Object.getOwnPropertyDescriptors,ci=Object.getOwnPropertySymbols,Ka=Object.prototype.hasOwnProperty,Ya=Object.prototype.propertyIsEnumerable,Fa=(a,u,i)=>u in a?l_(a,u,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[u]=i,$e=(a,u)=>{for(var i in u||(u={}))Ka.call(u,i)&&Fa(a,i,u[i]);if(ci)for(var i of ci(u))Ya.call(u,i)&&Fa(a,i,u[i]);return a},ft=(a,u)=>a_(a,u_(u)),fi=(a,u)=>{var i={};for(var v in a)Ka.call(a,v)&&u.indexOf(v)<0&&(i[v]=a[v]);if(a!=null&&ci)for(var v of ci(a))u.indexOf(v)<0&&Ya.call(a,v)&&(i[v]=a[v]);return i};const zo=j.forwardRef((a,u)=>{var i=a,{children:v}=i,_=fi(i,["children"]);const A=Xa(_),{open:x}=A,b=fi(A,["open"]);return j.useImperativeHandle(u,()=>({open:x}),[x]),Mv.createElement(j.Fragment,null,v(ft($e({},b),{open:x})))});zo.displayName="Dropzone";const Za={disabled:!1,getFilesFromEvent:Fm,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};zo.defaultProps=Za;zo.propTypes={children:ce.func,accept:ce.objectOf(ce.arrayOf(ce.string)),multiple:ce.bool,preventDropOnDocument:ce.bool,noClick:ce.bool,noKeyboard:ce.bool,noDrag:ce.bool,noDragEventsBubbling:ce.bool,minSize:ce.number,maxSize:ce.number,maxFiles:ce.number,disabled:ce.bool,getFilesFromEvent:ce.func,onFileDialogCancel:ce.func,onFileDialogOpen:ce.func,useFsAccessApi:ce.bool,autoFocus:ce.bool,onDragEnter:ce.func,onDragLeave:ce.func,onDragOver:ce.func,onDrop:ce.func,onDropAccepted:ce.func,onDropRejected:ce.func,onError:ce.func,validator:ce.func};const Mo={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Xa(a={}){const{accept:u,disabled:i,getFilesFromEvent:v,maxSize:_,minSize:A,multiple:x,maxFiles:b,onDragEnter:C,onDragLeave:O,onDragOver:G,onDrop:k,onDropAccepted:B,onDropRejected:q,onFileDialogCancel:H,onFileDialogOpen:I,useFsAccessApi:L,autoFocus:W,preventDropOnDocument:T,noClick:F,noKeyboard:K,noDrag:U,noDragEventsBubbling:ee,onError:$,validator:se}=$e($e({},Za),a),fe=j.useMemo(()=>i_(u),[u]),Ae=j.useMemo(()=>r_(u),[u]),Sn=j.useMemo(()=>typeof I=="function"?I:Ra,[I]),Cn=j.useMemo(()=>typeof H=="function"?H:Ra,[H]),Ce=j.useRef(null),je=j.useRef(null),[Ft,Me]=j.useReducer(c_,Mo),{isFocused:hn,isFileDialogActive:Ge}=Ft,Qn=j.useRef(typeof window<"u"&&window.isSecureContext&&L&&t_()),Vn=()=>{!Qn.current&&Ge&&setTimeout(()=>{if(je.current){const{files:D}=je.current;D.length||(Me({type:"closeDialog"}),Cn())}},300)};j.useEffect(()=>(window.addEventListener("focus",Vn,!1),()=>{window.removeEventListener("focus",Vn,!1)}),[je,Ge,Cn,Qn]);const Re=j.useRef([]),Rt=D=>{Ce.current&&Ce.current.contains(D.target)||(D.preventDefault(),Re.current=[])};j.useEffect(()=>(T&&(document.addEventListener("dragover",Ia,!1),document.addEventListener("drop",Rt,!1)),()=>{T&&(document.removeEventListener("dragover",Ia),document.removeEventListener("drop",Rt))}),[Ce,T]),j.useEffect(()=>(!i&&W&&Ce.current&&Ce.current.focus(),()=>{}),[Ce,W,i]);const gn=j.useCallback(D=>{$?$(D):console.error(D)},[$]),Ot=j.useCallback(D=>{D.preventDefault(),D.persist(),qe(D),Re.current=[...Re.current,D.target],si(D)&&Promise.resolve(v(D)).then(X=>{if(ui(D)&&!ee)return;const pe=X.length,De=pe>0&&Qm({files:X,accept:fe,minSize:A,maxSize:_,multiple:x,maxFiles:b,validator:se}),Ee=pe>0&&!De;Me({isDragAccept:De,isDragReject:Ee,isDragActive:!0,type:"setDraggedFiles"}),C&&C(D)}).catch(X=>gn(X))},[v,C,gn,ee,fe,A,_,x,b,se]),vn=j.useCallback(D=>{D.preventDefault(),D.persist(),qe(D);const X=si(D);if(X&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch{}return X&&G&&G(D),!1},[G,ee]),jn=j.useCallback(D=>{D.preventDefault(),D.persist(),qe(D);const X=Re.current.filter(De=>Ce.current&&Ce.current.contains(De)),pe=X.indexOf(D.target);pe!==-1&&X.splice(pe,1),Re.current=X,!(X.length>0)&&(Me({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),si(D)&&O&&O(D))},[Ce,O,ee]),Mn=j.useCallback((D,X)=>{const pe=[],De=[];D.forEach(Ee=>{const[ht,xn]=$a(Ee,fe),[Dn,gt]=Ga(Ee,A,_),Un=se?se(Ee):null;if(ht&&Dn&&!Un)pe.push(Ee);else{let kn=[xn,gt];Un&&(kn=kn.concat(Un)),De.push({file:Ee,errors:kn.filter(vt=>vt)})}}),(!x&&pe.length>1||x&&b>=1&&pe.length>b)&&(pe.forEach(Ee=>{De.push({file:Ee,errors:[Jm]})}),pe.splice(0)),Me({acceptedFiles:pe,fileRejections:De,type:"setFiles"}),k&&k(pe,De,X),De.length>0&&q&&q(De,X),pe.length>0&&B&&B(pe,X)},[Me,x,fe,A,_,b,k,B,q,se]),rn=j.useCallback(D=>{D.preventDefault(),D.persist(),qe(D),Re.current=[],si(D)&&Promise.resolve(v(D)).then(X=>{ui(D)&&!ee||Mn(X,D)}).catch(X=>gn(X)),Me({type:"reset"})},[v,Mn,gn,ee]),He=j.useCallback(()=>{if(Qn.current){Me({type:"openDialog"}),Sn();const D={multiple:x,types:Ae};window.showOpenFilePicker(D).then(X=>v(X)).then(X=>{Mn(X,null),Me({type:"closeDialog"})}).catch(X=>{o_(X)?(Cn(X),Me({type:"closeDialog"})):s_(X)?(Qn.current=!1,je.current?(je.current.value=null,je.current.click()):gn(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):gn(X)});return}je.current&&(Me({type:"openDialog"}),Sn(),je.current.value=null,je.current.click())},[Me,Sn,Cn,L,Mn,gn,Ae,x]),et=j.useCallback(D=>{!Ce.current||!Ce.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),He())},[Ce,He]),mn=j.useCallback(()=>{Me({type:"focus"})},[]),Ln=j.useCallback(()=>{Me({type:"blur"})},[]),nt=j.useCallback(()=>{F||(n_()?setTimeout(He,0):He())},[F,He]),Se=D=>i?null:D,_n=D=>K?null:Se(D),Tt=D=>U?null:Se(D),qe=D=>{ee&&D.stopPropagation()},vr=j.useMemo(()=>(D={})=>{var X=D,{refKey:pe="ref",role:De,onKeyDown:Ee,onFocus:ht,onBlur:xn,onClick:Dn,onDragEnter:gt,onDragOver:Un,onDragLeave:kn,onDrop:vt}=X,Zt=fi(X,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return $e($e({onKeyDown:_n(Rn(Ee,et)),onFocus:_n(Rn(ht,mn)),onBlur:_n(Rn(xn,Ln)),onClick:Se(Rn(Dn,nt)),onDragEnter:Tt(Rn(gt,Ot)),onDragOver:Tt(Rn(Un,vn)),onDragLeave:Tt(Rn(kn,jn)),onDrop:Tt(Rn(vt,rn)),role:typeof De=="string"&&De!==""?De:"presentation",[pe]:Ce},!i&&!K?{tabIndex:0}:{}),Zt)},[Ce,et,mn,Ln,nt,Ot,vn,jn,rn,K,U,i]),pi=j.useCallback(D=>{D.stopPropagation()},[]),pt=j.useMemo(()=>(D={})=>{var X=D,{refKey:pe="ref",onChange:De,onClick:Ee}=X,ht=fi(X,["refKey","onChange","onClick"]);const xn={accept:fe,multiple:x,type:"file",style:{display:"none"},onChange:Se(Rn(De,rn)),onClick:Se(Rn(Ee,pi)),tabIndex:-1,[pe]:je};return $e($e({},xn),ht)},[je,u,x,rn,i]);return ft($e({},Ft),{isFocused:hn&&!i,getRootProps:vr,getInputProps:pt,rootRef:Ce,inputRef:je,open:Se(He)})}function c_(a,u){switch(u.type){case"focus":return ft($e({},a),{isFocused:!0});case"blur":return ft($e({},a),{isFocused:!1});case"openDialog":return ft($e({},Mo),{isFileDialogActive:!0});case"closeDialog":return ft($e({},a),{isFileDialogActive:!1});case"setDraggedFiles":return ft($e({},a),{isDragActive:u.isDragActive,isDragAccept:u.isDragAccept,isDragReject:u.isDragReject});case"setFiles":return ft($e({},a),{acceptedFiles:u.acceptedFiles,fileRejections:u.fileRejections});case"reset":return $e({},Mo);default:return a}}function Ra(){}const[f_,d_]=Lv("Dropzone component was not found in tree");function Po(a){const u=i=>{const{children:v,..._}=di(`Dropzone${_a(a)}`,{},i),A=d_(),x=Uv(v)?v:c.jsx("span",{children:v});return A[a]?j.cloneElement(x,_):null};return u.displayName=`@mantine/dropzone/${_a(a)}`,u}const p_=Po("accept"),h_=Po("reject"),g_=Po("idle");var hr={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};const v_={loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},m_=Ma((a,{radius:u,variant:i,acceptColor:v,rejectColor:_})=>{const A=a.variantColorResolver({color:v||a.primaryColor,theme:a,variant:i}),x=a.variantColorResolver({color:_||"red",theme:a,variant:i});return{root:{"--dropzone-radius":Wv(u),"--dropzone-accept-color":A.color,"--dropzone-accept-bg":A.background,"--dropzone-reject-color":x.color,"--dropzone-reject-bg":x.background}}}),dt=Lo((a,u)=>{const i=di("Dropzone",v_,a),{classNames:v,className:_,style:A,styles:x,unstyled:b,vars:C,radius:O,disabled:G,loading:k,multiple:B,maxSize:q,accept:H,children:I,onDropAny:L,onDrop:W,onReject:T,openRef:F,name:K,maxFiles:U,autoFocus:ee,activateOnClick:$,activateOnDrag:se,dragEventsBubbling:fe,activateOnKeyboard:Ae,onDragEnter:Sn,onDragLeave:Cn,onDragOver:Ce,onFileDialogCancel:je,onFileDialogOpen:Ft,preventDropOnDocument:Me,useFsAccessApi:hn,getFilesFromEvent:Ge,validator:Qn,rejectColor:Vn,acceptColor:Re,enablePointerEvents:Rt,loaderProps:gn,inputProps:Ot,mod:vn,...jn}=i,Mn=Uo({name:"Dropzone",classes:hr,props:i,className:_,style:A,classNames:v,styles:x,unstyled:b,vars:C,varsResolver:m_}),{getRootProps:rn,getInputProps:He,isDragAccept:et,isDragReject:mn,open:Ln}=Xa({onDrop:L,onDropAccepted:W,onDropRejected:T,disabled:G||k,accept:Array.isArray(H)?H.reduce((Se,_n)=>({...Se,[_n]:[]}),{}):H,multiple:B,maxSize:q,maxFiles:U,autoFocus:ee,noClick:!$,noDrag:!se,noDragEventsBubbling:!fe,noKeyboard:!Ae,onDragEnter:Sn,onDragLeave:Cn,onDragOver:Ce,onFileDialogCancel:je,onFileDialogOpen:Ft,preventDropOnDocument:Me,useFsAccessApi:hn,validator:Qn,...Ge?{getFilesFromEvent:Ge}:null});kv(F,Ln);const nt=!et&&!mn;return c.jsx(f_,{value:{accept:et,reject:mn,idle:nt},children:c.jsxs(ko,{...rn(),...Mn("root",{focusable:!0}),...jn,mod:[{accept:et,reject:mn,idle:nt,disabled:G,loading:k,"activate-on-click":$},vn],children:[c.jsx(Wo,{visible:k,overlayProps:{radius:O},unstyled:b,loaderProps:gn}),c.jsx("input",{...He(Ot),name:K}),c.jsx("div",{...Mn("inner"),ref:u,"data-enable-pointer-events":Rt||void 0,children:I})]})})});dt.classes=hr;dt.displayName="@mantine/dropzone/Dropzone";dt.Accept=p_;dt.Idle=g_;dt.Reject=h_;const __={loading:!1,maxSize:1/0,activateOnClick:!1,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Ta("max"),withinPortal:!0},No=Lo((a,u)=>{const i=di("DropzoneFullScreen",__,a),{classNames:v,className:_,style:A,styles:x,unstyled:b,vars:C,active:O,onDrop:G,onReject:k,zIndex:B,withinPortal:q,portalProps:H,...I}=i,L=Uo({name:"DropzoneFullScreen",classes:hr,props:i,className:_,style:A,classNames:v,styles:x,unstyled:b,rootSelector:"fullScreen"}),{resolvedClassNames:W,resolvedStyles:T}=Xv({classNames:v,styles:x,props:i}),[F,K]=j.useState(0),[U,{open:ee,close:$}]=Gv(!1),se=Ae=>{var Sn;(Sn=Ae.dataTransfer)!=null&&Sn.types.includes("Files")&&(K(Cn=>Cn+1),ee())},fe=()=>{K(Ae=>Ae-1)};return j.useEffect(()=>{F===0&&$()},[F]),j.useEffect(()=>{if(O)return document.addEventListener("dragenter",se,!1),document.addEventListener("dragleave",fe,!1),()=>{document.removeEventListener("dragenter",se,!1),document.removeEventListener("dragleave",fe,!1)}},[O]),c.jsx(zv,{...H,withinPortal:q,children:c.jsx(ko,{...L("fullScreen",{style:{opacity:U?1:0,pointerEvents:U?"all":"none",zIndex:B}}),ref:u,children:c.jsx(dt,{...I,classNames:W,styles:T,unstyled:b,className:hr.dropzone,onDrop:Ae=>{G==null||G(Ae),$(),K(0)},onReject:Ae=>{k==null||k(Ae),$(),K(0)}})})})});No.classes=hr;No.displayName="@mantine/dropzone/DropzoneFullScreen";dt.FullScreen=No;const Oa=dt;function x_({onDrop:a,openRef:u,children:i}){return c.jsxs(Oa,{openRef:u,onDrop:a,activateOnClick:!1,acceptColor:"var(--mantine-color-white)",styles:{root:{border:"none",padding:0}},children:[c.jsx(Oa.Accept,{children:c.jsx(Jv,{style:{width:Kn(52),height:Kn(52),color:"var(--mantine-color-blue-6)",position:"absolute",bottom:Kn(16),left:"50%",transform:"translateX(-50%)",zIndex:9999},stroke:1.5})}),i]})}function w_({itemParentId:a}){const[u,i]=j.useState("reviewal"),{closeModal:v,modals:_}=ke(),A=La(u,_.createWorkflow),{data:x,setData:b,post:C,processing:O,errors:G,reset:k}=Tn({folder_item_id:"",resolution:"",destination:"",type:"reviewal",users:[]}),[B,q]=j.useState([]),H=A.length;j.useEffect(()=>{q([])},[u,A]);const I=U=>{U.preventDefault();const ee=B.map($=>parseInt($.selectedUser)).filter($=>!isNaN($));x.folder_item_id=a??"",x.users=ee.map($=>({user_id:$})),C(route("workflows.store"),{preserveScroll:!0,onSuccess:()=>{v("createWorkflow"),_e.show({message:"Approval process created",color:"green"})},onError:()=>{_e.show({message:"Something went wrong",color:"red"})},onFinish:()=>k()})},L=()=>{B.length<H&&q([...B,{selectedUser:""}])},W=()=>{const U=B.map(se=>se.selectedUser),$=A.filter(se=>!U.includes(se.id.toString())).map(se=>({selectedUser:se.id.toString()}));q([...B,...$])},T=U=>{const ee=[...B];ee.splice(U,1),q(ee)},F=(U,ee)=>{const $=[...B];$[U].selectedUser=ee||"",q($)},K=B.map(U=>U.selectedUser).filter(U=>U!=="");return{data:x,setData:b,createApprovalSubmit:I,processing:O,errors:G,users:B,setWorkflowType:i,addUser:L,removeUser:T,handleUserChange:F,addAllUsers:W,maxUsers:H,selectedUserIds:K,fetchedUsers:A}}const y_=({itemParent:a})=>{const{data:u,setData:i,createApprovalSubmit:v,processing:_,errors:A,users:x,setWorkflowType:b,addUser:C,removeUser:O,handleUserChange:G,addAllUsers:k,maxUsers:B,selectedUserIds:q,fetchedUsers:H}=w_({itemParentId:a==null?void 0:a.item_id}),{modals:I,closeModal:L}=ke(),W=T=>H.filter(F=>!q.includes(F.id.toString())||F.id.toString()===x[T].selectedUser).map(F=>({value:F.id.toString(),label:`${F.name} (${F.email})`}));return c.jsx(Xn,{opened:I.createWorkflow,onClose:()=>L("createWorkflow"),title:c.jsx(me,{fw:"bold",size:"lg",children:"Create Workflow Process"}),size:550,children:c.jsxs("form",{onSubmit:v,children:[c.jsxs(Zn,{gap:16,children:[c.jsx(me,{size:"sm",color:"dimmed",children:"Routinely directs any uploaded file in this folder through a predefined approval workflow"}),c.jsx(Kt.Group,{name:"status",value:u.type,onChange:T=>{i("type",T),b(T)},children:c.jsxs(we,{mt:"xs",children:[c.jsx(Kt,{value:"reviewal",label:"Review"}),c.jsx(Kt,{value:"approval",label:"Approval"})]})}),c.jsx(Ua,{label:"Resolution",placeholder:"Your resolution for this approval",value:u.resolution??"",onChange:T=>i("resolution",T.target.value),error:A.resolution,autosize:!0,minRows:2,maxRows:4}),c.jsx(me,{size:"sm",fw:500,mb:-8,children:"Users in this workflow"}),x.map((T,F)=>c.jsxs(we,{justify:"space-between",align:"flex-end",children:[c.jsx(It,{placeholder:"Select a user",data:W(F),value:T.selectedUser,onChange:K=>G(F,K),required:!0,style:{flex:1},allowDeselect:!1}),c.jsx(Te,{color:"red",onClick:()=>O(F),title:"Remove User",children:c.jsx(Et,{size:18})})]},F)),c.jsxs(we,{children:[x.length<B&&c.jsx(oe,{variant:"subtle",color:"green",leftSection:c.jsx(On,{size:16}),onClick:C,disabled:x.length>=B,children:"Add User"}),q.length<B&&c.jsx(oe,{variant:"subtle",color:"blue",leftSection:c.jsx(On,{size:16}),onClick:k,disabled:x.length>=B,children:"Add All Users"})]})]}),c.jsxs(Yn,{align:"center",justify:"end",mt:16,children:[c.jsx(oe,{variant:"light",onClick:()=>L("createWorkflow"),children:"Cancel"}),c.jsx(oe,{ml:12,type:"submit",loading:_,children:"Create"})]})]})})};function b_({itemParent:a}){const{data:u,setData:i,post:v,processing:_,errors:A,reset:x}=Tn({folder_item_id:(a==null?void 0:a.item_id)??"",name:"",prefix:"",next_number:1,reset_frequency:"none",add_if_approved:!1}),{closeModal:b}=ke(),C=G=>{G.preventDefault();const k=O(u.prefix);i("prefix",k),v(route("numbering-scheme.store"),{preserveScroll:!0,onSuccess:()=>{b("createNumberingScheme"),_e.show({message:"Numbering scheme created",color:"green"})},onError:B=>{_e.show({message:"Something went wrong",color:"red"})},onFinish:()=>x()})},O=G=>G;return{data:u,setData:i,handleSubmit:C,processing:_,errors:A}}const A_=({itemParent:a})=>{const{data:u,setData:i,handleSubmit:v,processing:_,errors:A}=b_({itemParent:a}),{modals:x,closeModal:b}=ke(),[C,O]=j.useState([]);j.useEffect(()=>{const I=C.map(L=>L.type==="text"?`{${L.value}}`:`[${L.value}]`).join(" ");i("prefix",I)},[C]);const G=()=>{O([...C,{id:Date.now(),type:"text",value:""}])},k=()=>{O([...C,{id:Date.now(),type:"dynamic",value:""}])},B=(I,L)=>{O(C.map(W=>W.id===I?{...W,value:L}:W))},q=I=>{O(C.filter(L=>L.id!==I))},H=[{value:"YY",label:"Year"},{value:"MM",label:"Month"},{value:"DD",label:"Day"},{value:"INC",label:"Increment"}];return c.jsx(Xn,{opened:x.createNumberingScheme,onClose:()=>b("createNumberingScheme"),title:c.jsx(me,{size:"lg",children:"Create Numbering Scheme"}),size:600,children:c.jsxs("form",{onSubmit:v,children:[c.jsxs(Zn,{gap:16,children:[c.jsx(To,{label:"Name",value:u.name,onChange:I=>i("name",I.target.value),error:A.name,required:!0}),c.jsx(nm,{label:"Add Number Only If Approved",checked:u.add_if_approved,onChange:I=>i("add_if_approved",I.currentTarget.checked),mt:"md"}),c.jsx(me,{size:"sm",fw:500,children:"Prefix Builder"}),c.jsxs(we,{children:[c.jsx(oe,{variant:"subtle",size:"sm",leftSection:c.jsx(On,{size:16}),onClick:G,children:"Add Text"}),c.jsx(oe,{variant:"subtle",size:"sm",leftSection:c.jsx(On,{size:16}),onClick:k,children:"Add Dynamic"})]}),C.map((I,L)=>c.jsxs(we,{align:"flex-end",children:[I.type==="text"?c.jsx(To,{placeholder:"Enter text",value:I.value,onChange:W=>B(I.id,W.target.value),required:!0,style:{flex:1}}):c.jsx(It,{placeholder:"Select dynamic part",data:H,value:I.value,onChange:W=>B(I.id,W||""),required:!0,style:{flex:1}}),c.jsx(Te,{color:"red",onClick:()=>q(I.id),children:c.jsx(Et,{size:16})})]},I.id)),c.jsx(me,{size:"sm",fw:500,children:"Preview:"}),c.jsx(Pv,{withBorder:!0,p:12,bg:"#f9f9f9",children:c.jsx(me,{children:C.map(I=>{if(I.type==="text")return I.value+" ";switch(I.value){case"YY":return new Date().getFullYear().toString().slice(2)+" ";case"MM":return(new Date().getMonth()+1).toString().padStart(2,"0")+" ";case"DD":return new Date().getDate().toString().padStart(2,"0")+" ";case"INC":return u.next_number.toString()+" ";default:return""}}).join("").trim()})}),c.jsx(we,{justify:"space-between",children:c.jsx(tm,{label:"Next Number",value:u.next_number,onChange:I=>i("next_number",Number(I)),min:1,error:A.next_number,required:!0,style:{flex:1}})}),c.jsx(It,{label:"Reset Frequency",data:[{value:"none",label:"None"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],value:u.reset_frequency,onChange:I=>i("reset_frequency",I??"none"),error:A.reset_frequency,required:!0})]}),c.jsxs(Yn,{align:"center",justify:"end",mt:24,children:[c.jsx(oe,{variant:"light",onClick:()=>b("createNumberingScheme"),children:"Cancel"}),c.jsx(oe,{ml:12,type:"submit",loading:_,children:"Create"})]})]})})};function S_({itemParent:a,close:u}){const{data:i,setData:v,post:_,processing:A,errors:x,reset:b,clearErrors:C}=Tn({parent_id:"",name:""}),{closeModal:O}=ke();return{data:i,setData:v,submit:k=>{i.parent_id=(a==null?void 0:a.item_id)||"",k.preventDefault(),_(route("folder.create"),{preserveScroll:!0,onSuccess:()=>{_e.show({message:"New folder created",color:"green"})},onError:B=>{let q="";Object.keys(B).length>0?q=B[Object.keys(B)[0]]:q="Error during file upload. Please try again later.",_e.show({message:q,color:"red"})},onFinish:()=>{O("folder"),b(),C()}})},processing:A,errors:x}}const C_=({itemParent:a})=>{const{data:u,setData:i,submit:v,processing:_,errors:A}=S_({itemParent:a,close}),{modals:x,closeModal:b}=ke();return c.jsx(Xn,{opened:x.folder,onClose:()=>b("folder"),title:c.jsx(me,{fw:"bold",size:"lg",children:"Create Folder"}),size:550,children:c.jsxs("form",{onSubmit:v,children:[c.jsx(Zn,{gap:16,children:c.jsx(To,{id:"name",type:"text",name:"name",value:u.name,placeholder:"Folder Name",onChange:C=>i("name",C.target.value),error:A.name})}),c.jsxs(Yn,{align:"center",justify:"end",mt:16,children:[c.jsx(oe,{variant:"outline",onClick:()=>b("folder"),children:"Cancel"}),c.jsx(oe,{ml:12,type:"submit",loading:_,children:"Create"})]})]})})};function D_({workflowId:a,isOpen:u}){const[i,v]=j.useState(null);j.useEffect(()=>{a&&u&&_(a)},[a,u]);const _=async A=>{try{const x=await pr.get(`/workflows/${A}`);v(x.data)}catch(x){console.error("Error fetching workflow",x)}};return i}function E_({itemParent:a,isOpen:u}){const[i,v]=j.useState("reviewal"),_=D_({workflowId:a==null?void 0:a.workflow_id,isOpen:u}),A=La(i,u),{closeModal:x}=ke(),{data:b,setData:C,put:O,processing:G,errors:k,reset:B,clearErrors:q}=Tn({resolution:"",type:"",users:[]}),[H,I]=j.useState([]),L=A.length;j.useEffect(()=>{_&&(v(_.type||""),C({resolution:_.resolution||"",type:_.type||"",users:_.users.map($=>({user_id:$.id}))}),I(_.users.map($=>({selectedUser:$.id.toString()}))))},[_,u]),j.useEffect(()=>{I([])},[i]);const W=$=>{$.preventDefault();const se=H.map(fe=>parseInt(fe.selectedUser)).filter(fe=>!isNaN(fe));b.users=se.map(fe=>({user_id:fe})),O(route("workflows.update",a==null?void 0:a.workflow_id),{onSuccess:()=>{x("updateWorkflow"),_e.show({message:"Workflow updated successfully",color:"green"})},onError:fe=>{_e.show({message:"Something went wrong",color:"red"})},onFinish:()=>B()})},T=()=>{H.length<L&&I([...H,{selectedUser:""}])},F=()=>{const $=H.map(Ae=>Ae.selectedUser),fe=A.filter(Ae=>!$.includes(Ae.id.toString())).map(Ae=>({selectedUser:Ae.id.toString()}));I([...H,...fe])},K=$=>{const se=[...H];se.splice($,1),I(se)},U=($,se)=>{const fe=[...H];fe[$].selectedUser=se||"",I(fe)},ee=H.map($=>$.selectedUser).filter($=>$!=="");return{data:b,setData:C,handleUpdateWorkflow:W,processing:G,errors:k,users:H,setWorkflowType:v,addUser:T,removeUser:K,handleUserChange:U,addAllUsers:F,maxUsers:L,selectedUserIds:ee,fetchedUsers:A}}function I_({workflowId:a,onDeleteSuccess:u}){const{delete:i,processing:v}=Tn();return{handleDeleteWorkflow:()=>{if(!a){_e.show({message:"Workflow ID is missing.",color:"red"});return}i(route("workflows.destroy",a),{preserveScroll:!0,onSuccess:()=>{_e.show({message:"Workflow deleted successfully.",color:"green"}),u()},onError:A=>{let x="Failed to delete workflow.";A&&Object.keys(A).length>0&&(x=A[Object.keys(A)[0]]),_e.show({message:x,color:"red"})}})},processing:v}}const F_=({workflowId:a})=>{const{modals:u,closeModal:i,openModal:v}=ke(),_=u.confirmDeleteWorkflow,{handleDeleteWorkflow:A,processing:x}=I_({workflowId:a,onDeleteSuccess:()=>{i("confirmDeleteWorkflow"),i("updateWorkflow")}});return c.jsxs(Xn,{opened:_,onClose:()=>i("confirmDeleteWorkflow"),title:c.jsx(me,{fw:"bold",size:"lg",children:"Confirm Delete"}),size:"sm",centered:!0,children:[c.jsx(me,{c:"gray.8",children:"Are you sure you want to delete this workflow? This action cannot be undone."}),c.jsxs(Yn,{align:"center",justify:"flex-end",mt:16,children:[c.jsx(oe,{variant:"light",onClick:()=>{i("confirmDeleteWorkflow"),v("updateWorkflow")},children:"Cancel"}),c.jsx(oe,{color:"red",ml:12,onClick:A,loading:x,children:"Delete"})]})]})},R_=({itemParent:a})=>{const{modals:u,closeModal:i,openModal:v}=ke(),_=u.updateWorkflow,{data:A,setData:x,handleUpdateWorkflow:b,processing:C,users:O,setWorkflowType:G,addUser:k,removeUser:B,handleUserChange:q,addAllUsers:H,maxUsers:I,selectedUserIds:L,fetchedUsers:W,errors:T}=E_({itemParent:a,isOpen:_}),F=K=>W.filter(U=>!L.includes(U.id.toString())||U.id.toString()===O[K].selectedUser).map(U=>({value:U.id.toString(),label:`${U.name} (${U.email})`}));return c.jsxs(c.Fragment,{children:[c.jsx(Xn,{opened:_,onClose:()=>i("updateWorkflow"),title:c.jsx(me,{fw:"bold",size:"lg",children:"Update Workflow Process"}),size:550,children:c.jsxs("form",{onSubmit:b,children:[c.jsxs(Zn,{gap:16,children:[c.jsx(me,{size:"sm",c:"dimmed",children:"Routinely directs any uploaded file in this folder through a predefined approval workflow"}),c.jsx(Kt.Group,{name:"status",value:A.type,onChange:K=>{x("type",K),G(K)},children:c.jsxs(we,{mt:"xs",children:[c.jsx(Kt,{value:"reviewal",label:"Review"}),c.jsx(Kt,{value:"approval",label:"Approval"})]})}),c.jsx(Ua,{label:"Resolution",placeholder:"Your resolution for this approval",value:A.resolution??"",onChange:K=>x("resolution",K.target.value),error:T.resolution,autosize:!0,minRows:2,maxRows:4}),c.jsx(me,{size:"sm",fw:500,mb:-8,children:"Users in this workflow"}),O.map((K,U)=>c.jsxs(we,{justify:"space-between",align:"flex-end",children:[c.jsx(It,{placeholder:"Select a user",data:F(U),value:K.selectedUser,onChange:ee=>q(U,ee),required:!0,style:{flex:1},allowDeselect:!1}),c.jsx(Te,{color:"red",onClick:()=>B(U),title:"Remove User",children:c.jsx(Et,{size:18})})]},U)),c.jsxs(we,{children:[O.length<I&&c.jsx(oe,{variant:"subtle",color:"green",leftSection:c.jsx(On,{size:16}),onClick:k,disabled:O.length>=I,children:"Add User"}),L.length<I&&c.jsx(oe,{variant:"subtle",color:"blue",leftSection:c.jsx(On,{size:16}),onClick:H,disabled:O.length>=I,children:"Add All Users"})]})]}),c.jsxs(Yn,{align:"center",justify:"end",mt:16,children:[c.jsx(oe,{variant:"light",onClick:()=>i("updateWorkflow"),children:"Cancel"}),c.jsx(oe,{ml:12,type:"submit",loading:C,children:"Update"}),c.jsx(Te,{variant:"transparent",color:"red",onClick:()=>{v("confirmDeleteWorkflow"),i("updateWorkflow")},title:"Delete Workflow",ml:12,children:c.jsx(Et,{size:18})})]})]})}),c.jsx(F_,{workflowId:a==null?void 0:a.workflow_id})]})};function O_(){return{generateReport:async i=>{var v;try{const _=await pr.post(route("report.generate"),{folder_item_id:i}),{url:A,filename:x}=_.data;if(A){const b=document.createElement("a");b.href=A,b.download=x,document.body.appendChild(b),b.click(),document.body.removeChild(b)}else console.error("No URL returned for the report.")}catch(_){console.error("Error generating report:",((v=_.response)==null?void 0:v.data)||_.message)}},generateDashboardReport:async i=>{var v;try{const _=await pr.post(route("report.generateDashboard"),i),{url:A,filename:x}=_.data;if(A){const b=document.createElement("a");b.href=A,b.download=x,document.body.appendChild(b),b.click(),document.body.removeChild(b)}else console.error("No URL returned for the dashboard report.")}catch(_){console.error("Error generating dashboard report:",((v=_.response)==null?void 0:v.data)||_.message)}}}}function T_({folderId:a,isOpen:u}){const[i,v]=j.useState([]),[_,A]=j.useState(!1),[x,b]=j.useState(null);return j.useEffect(()=>{a&&(async()=>{A(!0);try{const O=await pr.get(route("folder.fetchSharedUsers",{folder:a}));v(O.data),b(null)}catch(O){console.error(O),b("Failed to fetch shared users."),_e.show({title:"Error",message:"Unable to fetch shared users.",color:"red"})}finally{A(!1)}})()},[a,u]),{sharedUsers:i,loading:_,error:x}}function j_({folderId:a,close:u}){const{modals:i}=ke(),v=i.shareFolder,{sharedUsers:_,loading:A,error:x}=T_({folderId:a,isOpen:v}),{data:b,setData:C,post:O,processing:G,errors:k,reset:B}=Tn({users:[]});return j.useEffect(()=>{if(_.length>0){const T=_.map(F=>({email:F.email,role:F.role}));C("users",T)}},[_]),{data:b,submit:()=>{O(route("folder.share",{folder:a}),{onSuccess:()=>{u(),_e.show({message:"Folder shared successfully.",color:"green"}),B()},onError:T=>{_e.show({message:"Failed to share the folder.",color:"red"})}})},processing:G,errors:k,addUser:()=>{C("users",[...b.users,{email:"",role:"viewer"}])},removeUser:T=>{const F=b.users.filter((K,U)=>U!==T);C("users",F)},handleUserChange:(T,F,K)=>{const U=b.users.map((ee,$)=>$===T?{...ee,[F]:K}:ee);C("users",U)},handleAddAllUsers:()=>{const T=_.map(F=>({email:F.email,role:"viewer"}));C("users",T)}}}const M_=({folderId:a})=>{const{modals:u,closeModal:i}=ke(),{users:v,loading:_,error:A}=Qv(),{data:x,submit:b,processing:C,errors:O,addUser:G,removeUser:k,handleUserChange:B}=j_({folderId:a,close:()=>i("shareFolder")}),q=()=>{const I=v.map(L=>({email:L.email,role:"viewer"}));H(I)},H=I=>{I.forEach(()=>G())};return c.jsx(Xn,{opened:u.shareFolder,onClose:()=>i("shareFolder"),title:c.jsx(me,{size:"lg",children:"Share Folder"}),size:"600",children:c.jsxs("form",{onSubmit:I=>{I.preventDefault(),b()},children:[c.jsxs(Zn,{children:[x.users.map((I,L)=>c.jsxs(we,{align:"flex-end",children:[c.jsx(It,{data:v.map(W=>({value:W.email,label:`${W.name} (${W.email})`})),placeholder:"Select a user",value:I.email,onChange:W=>B(L,"email",W||""),style:{flex:1}}),c.jsx(It,{data:[{value:"viewer",label:"Viewer"},{value:"editor",label:"Editor"}],placeholder:"Select role",value:I.role,onChange:W=>B(L,"role",W||"viewer"),style:{width:120}}),c.jsx(pn,{label:"Remove User",withArrow:!0,children:c.jsx(Te,{color:"red",onClick:()=>k(L),children:c.jsx(Et,{size:18})})})]},L)),c.jsxs(we,{children:[c.jsx(oe,{variant:"subtle",color:"green",leftSection:c.jsx(On,{size:16}),onClick:()=>G(),children:"Add User"}),c.jsx(oe,{variant:"subtle",color:"blue",leftSection:c.jsx(On,{size:16}),onClick:q,disabled:x.users.length>=v.length,children:"Add All Users"})]})]}),c.jsxs(we,{mt:"md",children:[c.jsx(oe,{variant:"outline",onClick:()=>i("shareFolder"),children:"Cancel"}),c.jsx(oe,{type:"submit",loading:C,children:"Save"})]})]})})},L_=({uploadFileRef:a,itemParent:u,folderUserRole:i})=>{var A;const{openModal:v}=ke(),{generateReport:_}=O_();return c.jsxs(we,{h:"50%",px:32,align:"center",justify:"space-between",children:[(i==="editor"||i==="admin")&&c.jsxs(we,{gap:"xs",children:[c.jsxs(dr,{shadow:"md",width:220,transitionProps:{transition:"pop-top-left"},position:"bottom-start",children:[c.jsx(dr.Target,{children:c.jsx(oe,{variant:"subtle",color:"dark.3",leftSection:c.jsx(On,{size:18}),rightSection:c.jsx(Oo,{size:12}),children:"New"})}),c.jsxs(dr.Dropdown,{children:[c.jsx(dr.Item,{leftSection:c.jsx(bm,{style:{width:Kn(14),height:Kn(14)}}),onClick:()=>v("folder"),children:"New Folder"}),c.jsx(dr.Item,{leftSection:c.jsx(wm,{style:{width:Kn(14),height:Kn(14)}}),onClick:()=>{var x;return(x=a==null?void 0:a.current)==null?void 0:x.call(a)},children:"Upload Files"})]})]}),c.jsx(pn,{label:"Properties",position:"bottom",withArrow:!0,children:c.jsx(Te,{component:oi,size:"lg",href:route("folder.edit",{id:u==null?void 0:u.item_id}),variant:"transparent",color:"dark.3",children:c.jsx(xm,{size:18})})}),c.jsx(pn,{label:"Workflow",position:"bottom",withArrow:!0,children:c.jsx(Te,{variant:"transparent",size:"lg",color:u!=null&&u.workflow_id?"green.8":"dark.3",onClick:()=>v(u!=null&&u.workflow_id?"updateWorkflow":"createWorkflow"),children:c.jsx(Vv,{size:18})})}),c.jsx(pn,{label:"Share",position:"bottom",withArrow:!0,children:c.jsx(Te,{variant:"transparent",size:"lg",color:u!=null&&u.is_shared?"green.8":"dark.3",onClick:()=>v("shareFolder"),children:c.jsx(em,{size:18})})}),c.jsx(pn,{label:"Metadata",position:"bottom",withArrow:!0,children:c.jsx(Te,{component:oi,size:"lg",href:route("folder.showRequiredMetadata",{id:u==null?void 0:u.item_id}),variant:"transparent",color:(A=u==null?void 0:u.required_metadata)!=null&&A.length?"green.8":"dark.3",children:c.jsx(Hv,{size:18})})}),c.jsx(pn,{label:"Activity",position:"bottom",withArrow:!0,children:c.jsx(Te,{component:oi,size:"lg",href:route("folder.activity-log",{id:u==null?void 0:u.item_id}),variant:"transparent",color:"dark.3",children:c.jsx(wa,{size:18})})}),c.jsx(pn,{label:"Numbering",position:"bottom",withArrow:!0,children:c.jsx(Te,{size:"lg",variant:"transparent",color:u!=null&&u.numbering_scheme_id?"green.8":"dark.3",onClick:()=>v(u!=null&&u.numbering_scheme_id?"updateNumberingScheme":"createNumberingScheme"),children:c.jsx(Sm,{size:18})})}),c.jsx(pn,{label:"Column",position:"bottom",withArrow:!0,children:c.jsx(Te,{variant:"transparent",color:"dark.3",size:"lg",onClick:()=>v("selectMetadataColumns"),children:c.jsx(im,{size:18})})}),c.jsx(pn,{label:"Report",position:"bottom",withArrow:!0,children:c.jsx(Te,{variant:"transparent",color:"dark.3",size:"lg",onClick:()=>_((u==null?void 0:u.item_id)??""),children:c.jsx(ym,{size:18})})})]}),i==="viewer"&&c.jsx(we,{gap:"xs",children:c.jsx(pn,{label:"Activity",position:"bottom",withArrow:!0,children:c.jsx(Te,{component:oi,size:"lg",href:route("folder.activity-log",{id:u==null?void 0:u.item_id}),variant:"transparent",color:"dark.3",children:c.jsx(wa,{size:18})})})}),c.jsxs(we,{gap:"xs",children:[c.jsx(pn,{label:"Sort",position:"bottom",withArrow:!0,children:c.jsxs(Te,{variant:"transparent",color:"dark.3",size:"lg",children:[c.jsx(Cm,{size:18}),c.jsx(Oo,{size:12,style:{marginLeft:Kn(4)}})]})}),c.jsx(pn,{label:"View",position:"bottom",withArrow:!0,children:c.jsxs(Te,{variant:"transparent",color:"dark.3",size:"lg",children:[c.jsx(qv,{size:18}),c.jsx(Oo,{size:12,style:{marginLeft:Kn(4)}})]})})]}),c.jsx(C_,{itemParent:u}),c.jsx(y_,{itemParent:u}),c.jsx(R_,{itemParent:u}),c.jsx(A_,{itemParent:u}),c.jsx(rm,{itemParent:u}),c.jsx(M_,{folderId:(u==null?void 0:u.item_id)??""})]})};function U_(a){return fetch(a,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(u=>u.json())}function k_(){return{downloadFiles:({all:u,ids:i,parentId:v})=>{if(!u&&(i==null?void 0:i.length)===0)return;const _=new URLSearchParams;v&&_.append("parent_id",String(v)),u?_.append("all",u?"1":"0"):i==null||i.forEach(x=>_.append("ids[]",x));const A=route("item.download");U_(`${A}?${_.toString()}`).then(x=>{if(!x.url)return;const b=document.createElement("a");b.download=x.filename,b.href=x.url,b.click()})}}}function W_({setSelectedRecord:a}){const{data:u,delete:i,processing:v}=Tn({ids:[]}),{closeModal:_}=ke();return{handleDelete:x=>{u.ids=x,i(route("item.delete"),{onSuccess:()=>{_("deleteFiles"),setTimeout(()=>{a([])},100),_e.show({message:"Files deleted",color:"green"})},onError:b=>{let C="Error during file deletion. Please try again later.";Object.keys(b).length>0&&(C=b[Object.keys(b)[0]]),_e.show({message:C,color:"red"})}})},processing:v}}const z_=({selectedIds:a,setSelectedRecord:u})=>{const{handleDelete:i,processing:v}=W_({setSelectedRecord:u}),{modals:_,closeModal:A}=ke();return c.jsx(Xn,{opened:_.deleteFiles,onClose:()=>A("deleteFiles"),title:c.jsx(me,{fw:"bold",size:"lg",children:"Delete Files"}),size:550,children:c.jsxs("form",{onSubmit:x=>{x.preventDefault(),i(a)},children:[c.jsx(me,{c:"dimmed",children:"Delete selected files?"}),c.jsxs(Yn,{align:"center",justify:"end",mt:16,children:[c.jsx(oe,{variant:"subtle",onClick:()=>A("deleteFiles"),color:"gray",children:"Cancel"}),c.jsx(oe,{ml:12,type:"submit",loading:v,color:"red",children:"Delete"})]})]})})};function P_({setSelectedRecord:a}){const{data:u,setData:i,put:v,processing:_,errors:A,reset:x,clearErrors:b}=Tn({ids:[],destination_folder_id:""});return{data:u,setData:i,moveDocuments:()=>{v(route("document.move"),{onSuccess:()=>{a([]),_e.show({message:"Documents moved successfully",color:"green"}),x()},onError:O=>{_e.show({message:"Failed to move documents",color:"red"})},onFinish:()=>{b()}})},processing:_,errors:A,reset:x}}const N_=({selectedDocumentIds:a,setSelectedRecord:u})=>{const{modals:i,closeModal:v}=ke(),_=i.moveModal,[A,x]=j.useState(null),{data:b,loading:C,error:O}=om(A,_),{data:G,setData:k,moveDocuments:B,processing:q}=P_({setSelectedRecord:u}),H=W=>{x(W)},I=()=>{b.itemParent&&b.itemParent.parent_id?x(b.itemParent.parent_id):x(null)},L=()=>{if(!A){_e.show({message:"Please select a destination folder.",color:"red"});return}G.ids=a,G.destination_folder_id=A,B(),v("moveModal")};return c.jsx(Xn,{opened:_,onClose:()=>v("moveModal"),title:"Move Documents",size:"lg",children:c.jsxs(Zn,{gap:"md",children:[c.jsxs(we,{children:[A&&c.jsx(Te,{onClick:I,children:c.jsx(sm,{size:16})}),c.jsx(me,{children:"Choose Destination Folder"})]}),C?c.jsx(me,{children:"Loading..."}):O?c.jsx(me,{c:"red",children:O}):c.jsx(Zn,{gap:"sm",style:{maxHeight:400,overflowY:"auto"},children:b.itemContents.map(W=>c.jsxs(we,{gap:"sm",style:{cursor:"pointer"},onDoubleClick:()=>H(W.item_id),children:[c.jsx(um,{}),c.jsx(me,{children:W.name})]},W.item_id))}),c.jsxs(we,{justify:"flex-end",mt:"md",children:[c.jsx(oe,{variant:"outline",onClick:()=>v("moveModal"),children:"Cancel"}),c.jsx(oe,{onClick:L,disabled:!A||q,loading:q,children:"Move Here"})]})]})})},B_=({setSelectedRecord:a,selectedIds:u,parentId:i})=>{const{downloadFiles:v}=k_(),{openModal:_}=ke();return c.jsxs(we,{h:"50%",px:"md",align:"center",justify:"flex-start",children:[c.jsx(oe,{onClick:()=>_("deleteFiles"),variant:"subtle",color:"dark.3",leftSection:c.jsx(Et,{size:18}),children:"Delete"}),c.jsx(oe,{onClick:()=>v({all:!1,ids:u,parentId:i}),variant:"subtle",color:"dark.3",leftSection:c.jsx(cm,{size:18}),children:"Download"}),c.jsx(oe,{onClick:()=>_("moveModal"),variant:"subtle",color:"dark.3",leftSection:c.jsx(Am,{size:18}),children:"Move"}),c.jsx(z_,{selectedIds:u,setSelectedRecord:a}),c.jsx(N_,{selectedDocumentIds:u,setSelectedRecord:a})]})};function $_(a){const{data:u,post:i,reset:v,clearErrors:_}=Tn({parent_id:"",files:[]});return{uploadFiles:x=>{u.parent_id=a.item_id,u.files=x.map(b=>({file:b})),i(route("document.store"),{onSuccess:()=>{_e.show({message:"Document uploaded",color:"green"})},onError:b=>{let C="";Object.keys(b).length>0?C=b[Object.keys(b)[0]]:C="Error during file upload. Please try again later.",_e.show({message:C,color:"red"})},onFinish:()=>{v(),_()}})}}}function G_(){const[a,u]=j.useState([]),v=(_=>_.map(A=>A.id))(a);return{selectedRecord:a,setSelectedRecord:u,ids:v}}function H_(){return{openFolder:(u,i)=>{u==="folder"&&Nv.visit(route("folder.show",{id:i}))}}}function q_({folderId:a,isOpen:u}){const[i,v]=j.useState([]),[_,A]=j.useState(!1),[x,b]=j.useState(null);return j.useEffect(()=>{a&&u&&(async()=>{A(!0);try{const O=await pr.get(`/folder/${a}/metadata_columns`);v(O.data.metadata_columns),b(null)}catch(O){b("Failed to fetch existing metadata columns."),console.error(O)}finally{A(!1)}})()},[a,u]),{existingMetadataColumns:i,loading:_,error:x}}const K_=({folderId:a})=>{const{modals:u,closeModal:i}=ke(),v=u.selectMetadataColumns,{metadataList:_}=dm(),{existingMetadataColumns:A,loading:x,error:b}=q_({folderId:a,isOpen:v}),{data:C,setData:O,post:G,processing:k,errors:B,reset:q}=Tn({metadata_columns:[{id:Date.now(),value:""}],metadata_ids:[]});j.useEffect(()=>{if(A.length>0){const T=A.map(F=>({id:F.metadata_id,value:F.metadata_id.toString()}));O("metadata_columns",T)}},[A]),j.useEffect(()=>{const T=C.metadata_columns.map(F=>parseInt(F.value)).filter(F=>!isNaN(F));O("metadata_ids",T)},[C.metadata_columns]);const H=()=>{O("metadata_columns",[...C.metadata_columns,{id:Date.now(),value:""}])},I=T=>{O("metadata_columns",C.metadata_columns.filter(F=>F.id!==T))},L=(T,F)=>{const K=C.metadata_columns.map(U=>U.id===T?{...U,value:F}:U);O("metadata_columns",K)},W=T=>{T.preventDefault(),C.metadata_columns.map(F=>parseInt(F.value)).filter(F=>!isNaN(F)),G(route("folder.selectMetadataColumn",a),{preserveScroll:!0,onSuccess:()=>{i("selectMetadataColumns"),_e.show({title:"Success",message:"Metadata columns selected successfully",color:"green"}),q()},onError:()=>{_e.show({title:"Error",message:"Failed to select metadata columns",color:"red"})}})};return c.jsx(Xn,{opened:v,onClose:()=>{i("selectMetadataColumns"),q()},title:c.jsx(me,{fw:"bold",size:"lg",children:"Select Metadata Columns"}),size:550,children:x?c.jsx(Yn,{justify:"center",align:"center",h:"100%",children:c.jsx(ja,{})}):b?c.jsx(lm,{icon:c.jsx(am,{size:16}),title:"Error",color:"red",children:b}):c.jsxs("form",{onSubmit:W,children:[c.jsxs(Zn,{gap:16,children:[c.jsx(me,{c:"dimmed",children:"Select the metadata columns you want to display"}),C.metadata_columns.map(T=>c.jsxs(we,{justify:"space-between",align:"flex-end",children:[c.jsx(It,{placeholder:"Pick a metadata column",data:_.map(F=>({value:F.metadata_id.toString(),label:F.name})),value:T.value,onChange:F=>L(T.id,F||""),w:"90%",required:!0}),C.metadata_columns.length>1&&c.jsx(Te,{color:"red",variant:"subtle",onClick:()=>I(T.id),children:c.jsx(Et,{size:18})})]},T.id)),c.jsx(Yn,{justify:"flex-start",children:c.jsx(oe,{variant:"subtle",color:"blue.5",leftSection:c.jsx(On,{size:18}),onClick:H,children:"Add New Column"})})]}),c.jsxs(Yn,{align:"center",justify:"end",mt:16,children:[c.jsx(oe,{variant:"outline",onClick:()=>{i("selectMetadataColumns"),q()},children:"Cancel"}),c.jsx(oe,{ml:12,type:"submit",loading:k,children:"Save"})]})]})})};function A0({itemParent:a,itemAncestors:u,itemContents:i,folderUserRole:v}){var W;const _=j.useRef(null),{uploadFiles:A}=$_(a),{selectedRecord:x,setSelectedRecord:b,ids:C}=G_(),{openFolder:O}=H_(),{openDocument:G}=fm(),[k,B]=j.useState({columnAccessor:"name",direction:"asc"}),[q,H]=j.useState(ya.sortBy(i,"name"));j.useEffect(()=>{const T=ya.sortBy(i,k.columnAccessor);H(k.direction==="desc"?T.reverse():T)},[k,i]);const I=((W=a.metadata_columns)==null?void 0:W.map(T=>({accessor:`metadata_${T.metadata_id}`,title:T.name,render:F=>{var U;const K=(U=F.metadata)==null?void 0:U.find(ee=>ee.metadata_id===T.metadata_id);return K?K.value:null},sortable:!0,ellipsis:!0})))??[],L=[{accessor:"name",render:({mime:T,type:F,name:K,status:U,missing_required_metadata:ee})=>c.jsxs(we,{align:"center",gap:12,preventGrowOverflow:!0,children:[c.jsx(Kv,{mime:T??"",isFolder:F==="folder",approvalStatus:U,missingRequiredMetadata:ee}),c.jsx("span",{children:K})]}),sortable:!0,ellipsis:!0},{accessor:"updated_at",title:"Last Modified",sortable:!0,ellipsis:!0},...I??[]];return c.jsxs(c.Fragment,{children:[c.jsx(Bv,{title:"My Files"}),c.jsx(Yv,{toolbar:x.length>0?c.jsx(B_,{setSelectedRecord:b,selectedIds:C,parentId:a.item_id}):c.jsx(L_,{itemParent:{...a},folderUserRole:v,uploadFileRef:_}),children:c.jsx(x_,{onDrop:A,openRef:_,children:c.jsxs(Zn,{px:8,gap:24,py:8,style:{pointerEvents:"all"},children:[c.jsx(Zv,{ancestors:u}),i.length?c.jsx($v,{textSelectionDisabled:!0,columns:L,records:q,customRowAttributes:({type:T,id:F})=>({onDoubleClick:K=>{K.button===0&&(T==="folder"?O(T,F):T==="document"&&G(F))}}),highlightOnHover:!0,verticalSpacing:"lg",horizontalSpacing:"xl",selectedRecords:x,onSelectedRecordsChange:b,sortStatus:k,onSortStatusChange:B}):c.jsx(me,{size:"lg",c:"gray.5",children:"This folder is empty"})]})})}),c.jsx(K_,{folderId:a.item_id})]})}export{A0 as default};
