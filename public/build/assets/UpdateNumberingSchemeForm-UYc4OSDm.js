import{b as l,c as x,W as b,n as p,j as s,M as S}from"./app-D_sGyMKs.js";import{u as g}from"./Authenticated-Bn8-pIpC.js";import{T as N}from"./Text-qvb52CaA.js";import{S as j}from"./Stack-Bu0ZIYtP.js";import{T as d}from"./TextInput-iaoRy4pl.js";import{F as v}from"./Flex-DjfWkKlt.js";import{B as h}from"./Button-drh6xeIV.js";function E({numberingSchemeId:e,isOpen:t}){const[r,a]=l.useState(null);l.useEffect(()=>{e&&t&&o(e)},[e,t]);const o=async c=>{try{const n=await x.get(`/numbering-scheme/${c}`);a(n.data)}catch(n){console.error("Error fetching numbering scheme",n)}};return r}function w({itemParent:e,isOpen:t}){const r=E({numberingSchemeId:e==null?void 0:e.numbering_scheme_id,isOpen:t}),{data:a,setData:o,put:c,processing:n,errors:u,reset:m}=b({name:"",prefix:""}),{closeModal:i}=g();return l.useEffect(()=>{o({name:(r==null?void 0:r.name)||"",prefix:(r==null?void 0:r.prefix)||""})},[r]),{data:a,setData:o,handleSubmit:f=>{f.preventDefault(),c(route("numbering-scheme.update",e==null?void 0:e.numbering_scheme_id),{onSuccess:()=>{i("updateNumberingScheme"),p.show({message:"Numbering scheme updated successfully",color:"green"})},onError:F=>{p.show({message:"Something went wrong",color:"red"})},onFinish:()=>m()})},processing:n,errors:u}}const B=({itemParent:e})=>{const{modals:t,closeModal:r}=g(),a=t.updateNumberingScheme,{data:o,setData:c,handleSubmit:n,processing:u,errors:m}=w({itemParent:e,isOpen:a});return s.jsx(S,{opened:a,onClose:()=>r("updateNumberingScheme"),title:s.jsx(N,{size:"lg",children:"Update Numbering Scheme"}),size:550,children:s.jsxs("form",{onSubmit:n,children:[s.jsxs(j,{gap:16,children:[s.jsx(d,{label:"Name",value:o.name,onChange:i=>c("name",i.target.value),error:m.name}),s.jsx(d,{label:"Prefix",value:o.prefix,onChange:i=>c("prefix",i.target.value),error:m.prefix})]}),s.jsxs(v,{align:"center",justify:"end",mt:16,children:[s.jsx(h,{variant:"light",onClick:()=>r("updateNumberingScheme"),children:"Cancel"}),s.jsx(h,{ml:12,type:"submit",loading:u,children:"Update"})]})]})})};export{B as U};
