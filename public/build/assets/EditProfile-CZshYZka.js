import{d as j,W as _,j as e,B as g,r as y,T as P,q as S,h as N,Y as k,P as v}from"./app-BEodKt-G.js";import{A as z}from"./Authenticated-CedN_kzA.js";import{T as s,F as b}from"./OfficeLogo-QrwYQ9xU.js";import{T as l}from"./TextInput-HCVk_Cwn.js";import{B as C}from"./Button-Bc2BCUyH.js";import{A as E}from"./Anchor-DY3yTpef.js";import"./Stack-b64hFvEW.js";import"./NotificationMenu-Bef11bW4.js";import"./IconUser-LOwS_dVd.js";import"./use-resolved-styles-api-COBSDX6X.js";import"./Popover-DHwVg9bw.js";import"./get-sorted-breakpoints-DMDaKoNH.js";import"./InputBase-B11NYywG.js";const B="_card_ok5r6_1",T="_container_ok5r6_9",A="_form_ok5r6_34",c={card:B,container:T,form:A};function I(){const o=j.useRef(null),t=j.useRef(null),{data:a,setData:n,errors:i,put:m,reset:d,processing:u,recentlySuccessful:p}=_({current_password:"",password:"",password_confirmation:""}),f=r=>{r.preventDefault(),m(route("password.update"),{preserveScroll:!0,onSuccess:()=>d(),onError:h=>{var x,w;h.password&&(d("password","password_confirmation"),(x=o.current)==null||x.focus()),h.current_password&&(d("current_password"),(w=t.current)==null||w.focus())}})};return e.jsxs(g,{style:{maxWidth:y(580)},children:[e.jsxs("header",{children:[e.jsx(s,{size:"lg",children:" Update Password"}),e.jsx(s,{c:"dimmed",mt:4,size:"sm",children:"Ensure your account is using a long, random password to stay secure."})]}),e.jsxs("form",{onSubmit:f,className:c.form,children:[e.jsx("div",{children:e.jsx(l,{id:"current_password",label:"Current Password",name:"current_password",ref:t,value:a.current_password,onChange:r=>n("current_password",r.target.value),type:"password",autoComplete:"current-password",mt:4,error:i.current_password})}),e.jsx("div",{children:e.jsx(l,{id:"password",name:"password",label:"New Password",ref:o,value:a.password,onChange:r=>n("password",r.target.value),type:"password",className:"block w-full mt-1",autoComplete:"new-password",mt:4,error:i.password})}),e.jsx("div",{children:e.jsx(l,{id:"password_confirmation",name:"password_confirmation",label:"Confirm Password",value:a.password_confirmation,onChange:r=>n("password_confirmation",r.target.value),type:"password",className:"block w-full mt-1",autoComplete:"new-password",mt:4,error:i.password_confirmation})}),e.jsxs(b,{align:"center",gap:16,children:[e.jsx(C,{type:"submit",loading:u,children:"Save"}),e.jsx(P,{mounted:p,transition:"fade",duration:400,children:r=>e.jsx(s,{c:"gray",size:"sm",style:r,children:"Saved"})})]})]})]})}function D({mustVerifyEmail:o,status:t}){const a=S().props.auth.user,{data:n,setData:i,patch:m,errors:d,processing:u,recentlySuccessful:p}=_({name:a.name,email:a.email}),f=r=>{r.preventDefault(),m(route("profile.update"))};return e.jsxs(g,{style:{maxWidth:y(580)},children:[e.jsxs("header",{children:[e.jsx(s,{size:"lg",children:"Profile Information"}),e.jsx(s,{c:"dimmed",mt:4,size:"sm",children:"Update your account's profile information and email address."})]}),e.jsxs("form",{onSubmit:f,className:c.form,children:[e.jsx("div",{children:e.jsx(l,{id:"name",type:"name",name:"name",value:n.name,mt:4,autoComplete:"name",leftSectionPointerEvents:"none",label:"Name",onChange:r=>i("name",r.target.value),error:d.name,required:!0})}),e.jsx("div",{children:e.jsx(l,{id:"email",type:"email",name:"email",value:n.email,mt:4,autoComplete:"username",leftSectionPointerEvents:"none",label:"Email",onChange:r=>i("email",r.target.value),error:d.email,required:!0})}),o&&a.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs(s,{mt:8,size:"sm",children:["Your email address is unverified."," ",e.jsx(E,{component:N,href:route("verification.send"),method:"post",as:"button",children:"Click here to re-send the verification email."})]}),t==="verification-link-sent"&&e.jsx(s,{c:"green",mt:8,size:"sm",fw:500,children:"A new verification link has been sent to your email address."})]}),e.jsxs(b,{align:"center",gap:16,children:[e.jsx(C,{type:"submit",loading:u,children:"Save"}),e.jsx(P,{mounted:p,transition:"fade",duration:400,children:r=>e.jsx(s,{c:"gray",size:"sm",style:r,children:"Saved"})})]})]})]})}function Q({mustVerifyEmail:o,status:t}){return e.jsxs(z,{children:[e.jsx(k,{title:"Profile"}),e.jsxs("div",{className:c.container,children:[e.jsx(v,{shadow:"xs",radius:"md",withBorder:!0,className:c.card,children:e.jsx(D,{mustVerifyEmail:o,status:t})}),e.jsx(v,{shadow:"xs",radius:"md",withBorder:!0,className:c.card,children:e.jsx(I,{})})]})]})}export{Q as default};
